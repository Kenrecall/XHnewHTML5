!function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e){function t(e){return decodeURI(e.split("=")[1])}var a=e.split("&"),n={sphone:t(a[0]),sname:t(a[1]),timef:t(a[2]),etime:t(a[3]),ctyf:t(a[4]),ctyt:t(a[5]),timet:""};return console.log(n),n}var i=a(1),o=(r(i),a(2)),l=r(o),c=a(6),p=a(7),d=a(8),u=n(d),h=a(9),f=r(h),m=a(12),y=r(m),b=a(14),g=r(b),v=a(16),k=r(v),q=a(18),x=r(q),T=a(20),_=r(T),w=a(22),O=r(w),C=a(24),M=r(C),H=a(26),L=r(H),D=a(28),S=r(D),P=a(30),A=r(P),F=a(32),N=r(F),I=a(34),R=r(I),B=a(36),j=r(B),E=a(38),z=r(E),X=a(40),U=r(X),Z=a(42),J=r(Z),Y=a(44),G=r(Y),V=new l["default"]({container:"#dvContainer"});document.ready(function(){function e(e,a,n){u.get("http://wx.nuoyadalu.com/user/api/relandwx?token="+e,null,function(e){var r=JSON.parse(e);if(200!=r.rc)return alert("暂时没有获取到用户的身份~！请退出后重试~！");var s=r.relInfoRes.mobile;t(a,n,s)})}function t(e,t,a){a&&!l?$.router.go("/flightmb/join",{linkp:1,thephonep:a},!0):"a"==e?$.router.go("/flightmb/allmytickes",{},!0):"x"==e||"s"==e||"c"==e?$.router.go("/flightmb/join",{linkp:1},!0):"p"==e&&t?($.router.go("/flightmb/book",t,!0),localStorage.setItem("allbookdatastr","")):"b"==e&&t?($.router.go("/flightmb/detail",t,!0),localStorage.setItem("allbookdatastr","")):"t"==e&&(console.log("差旅航程数据填充"),$.router.go("/flightmb/join",{linkp:5,joindata:s(r[1])},!0))}function a(e){"a"==e?$.router.go("/flightmb/allmytickes",{},!0):"x"==e||"s"==e||"c"==e?$.router.go("/flightmb/join",{linkp:1},!0):"p"==e&&h?($.router.go("/flightmb/book",h,!0),localStorage.setItem("allbookdatastr","")):"b"==e&&h?($.router.go("/flightmb/detail",h,!0),localStorage.setItem("allbookdatastr","")):"t"==e?(console.log("差旅航程数据填充"),$.router.go("/flightmb/join",{linkp:5,joindata:s(r[1])},!0)):$.router.go("/flightmb/join",{linkp:1},!0)}V.push(new f["default"]).push(new y["default"]).push(new k["default"]).push(new x["default"]).push(new _["default"]).push(new O["default"]).push(new M["default"]).push(new L["default"]).push(new S["default"]).push(new A["default"]).push(new N["default"]).push(new R["default"]).push(new j["default"]).push(new z["default"]).push(new U["default"]).push(new J["default"]).push(new G["default"]).push(new g["default"]),console.log("传输地址");var n=(window.location.href,(0,c.getBaseUrl)(window.location.href));console.log(n);var r=n.split("?"),i=r[0];console.log(i);var o=n.slice(-1),l=(0,c.urlParam)("entry_code"),d=localStorage.getItem("allbookdatastr");console.log(d);var h="";d&&(h=JSON.parse(d)),console.log(h);var m=(0,c.urlParam)("entry_tk");console.log("token测试"),console.log(m),m?(0,p.SetCookie)("myxhtoken",m,120):m=(0,p.GetCookie)("myxhtoken"),m?e(m,o,h):a(o)})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={app:{token:"nuoya.token",code:"nuoya.code",lastCode:"nuoya.lastCode",docker:"nuoya.docker",hotCount:20,imgWHR:1.9,imgCompress:.3},dev:{},rel:{host:"http://rel.nuoyadalu.com/",userInfo:"user/api/getInfo",token:"user/api/getToken",searchJoin:"search/api/join",searchCity:"search/api/city",searchGet:"search/api/get",searchSet:"search/api/set",couponGet:"coupon/api/get",couponPoster:"coupon/api/poster",couponPosterImg:"http://nuoya-10038118.image.myqcloud.com/test1471935786508"},api:{wxhost:"http://wx.nuoyadalu.com",userRelToken:"/user/api/relTokens",userRelandwx:"/user/api/relandwx",host:"http://wx.nuoyadalu.com/",book:"prod/api/book",token:"user/api/getToken",wxsign:"wx/getSign",prodLoad:"prod/api/load",prodList:"prod/api/list",prodHead:"prod/api/getHeadUrl",shipList:"ship/api/list",topicLoad:"topic/api/load",topicNewNo:"topic/api/newTopicNo",topicSave:"topic/api/save",articleLoad:"topic/api/load",articleNewNo:"article/api/newTopicNo",articleSave:"article/api/save",couponGet:"coupon/api/get",couponCheck:"coupon/api/check",mutualCalssRepGet:"mutual/api/getClassRep"},view:{host:"http://nydl-10038118.cos.myqcloud.com/",hot:"view/hot.html",book:"view/book.html",flightmbJoin:"flightmb/join.html"},doc:{host:"http://nydl-10038118.cos.myqcloud.com/doc/",mutual:"mutual/"}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){if(!e)return"";var t=e.indexOf("#!");return t!==-1?t++:t=e.indexOf("#"),t!==-1?e.substring(t+1):""}function i(e){var t=e;"!"!==e[0]&&(t="!"+e),location.hash=t}function o(e){document.title!==e&&(/MicroMessenger/i.test(navigator.userAgent)?setTimeout(function(){document.title=e;var t=document.createElement("iframe");t.style.display="none",t.src="img/favicon.ico",t.onload=function(){setTimeout(function(){document.body.removeChild(t)},0)},document.body.appendChild(t)},0):document.title=e)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(3),d=n(p),u={leftToRight:"from-left-to-right",rightToLeft:"from-right-to-left"},h={pageLoadStart:"pageLoadStart",pageLoadCancel:"pageLoadCancel",pageLoadError:"pageLoadError",pageLoadComplete:"pageLoadComplete",pageAnimationStart:"pageAnimationStart",pageAnimationEnd:"pageAnimationEnd",beforePageRemove:"beforePageRemove",pageRemoved:"pageRemoved",beforePageSwitch:"beforePageSwitch",pageInit:"pageInitInternal"},f=function(){function e(t){var a=this;r(this,e),this._opts={container:"#dvContainer",splashTime:1e3,className:"page",showClass:"page-current"},this._index=1,this._$container=null,this._routes=[],this._splash=!1,this.start=this.go,this.getCurrentSec=function(){return d["default"].qu("."+a._opts.showClass)},this._opts.container=t.container||this._opts.container,this._opts.splashTime=t.splashTime||this._opts.splashTime,this._opts.className=t.className||this._opts.className,this._opts.showClass=t.showClass||this._opts.showClass,this._$container=d["default"].qu(this._opts.container),this.params=null,d["default"].router=this,this._splash=!0,this.lastHash="",this.hash="",this.nextHash="",window.addEventListener("hashchange",function(e){return a.lastHash=s(e.oldURL),a.hash=s(e.newURL),a.lastHash===a.hash?void(a.nextHash=""):(a.routeTo(a.hash,a.params,a.refresh),a.refresh=!1,a.params=null,void(a.nextHash=""))},!1)}return c(e,[{key:"go",value:function(e,t,a){e||(e="!/"),s(location.href)===e?(this.nextHash=s(e),this.hash=this.nextHash,this.routeTo(e,t,a)):(this.params=t,this.refresh=a,this.nextHash=e,i(e))}},{key:"back",value:function(){history.back()}},{key:"routeTo",value:function(e,t,a){var n=this,r=this.getRoute(e,t,a);return r&&!function(){var e=n.lasts=n.lasts||[],t=!1;e.length>0&&e[e.length-1].id===r.id?(e.pop(),t=!0):n.route&&e.push(n.route),n.route=r;var a=function(e){var a=d["default"].id(r.id);a||(a=document.createElement("div"),a.id=r.id,a.innerHTML=e,n._opts.className&&d["default"].addClass(a,""+n._opts.className),d["default"].hasChild(n._$container)?n._$container.insertBefore(a,n._$container.children[0]):n._$container.appendChild(a)),r.loaded?(r.search!==r.lastSearch||r.refresh)&&r.bind&&r.bind(a,r.params):(r.loaded=!0,r.bind&&r.bind(a,r.params),d["default"].fastLink()),n.nextHash&&n.nextHash!==n.hash||n.switchToSec(r,t)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e)throw e;a(t)};if(!r.loaded&&r.view)r.view(s);else{if(!r.view)throw new Error("route "+r.id+" hasn't view function!");a()}}(),this}},{key:"getRoute",value:function(e,t,a){for(var n=this,r=function(r,s){var i=n._routes[r],o="",l=e,c=e.indexOf("?");c>=0&&(o=e.substr(c+1),l=e.substr(0,c));var p=new RegExp(i.path),u=p.exec(l);if(u){if(i.params={},o){var h=o.split("&");h.forEach(function(e){c=e.indexOf("="),c>0&&(i.params[e.substr(0,c)]=e.substr(c+1))})}return t&&d["default"].assign(i.params,t),i.url=e,i.lastSearch=i.search,i.search=o,i.refresh=a,{v:i}}},s=0,i=this._routes.length;s<i;s++){var o=r(s,i);if("object"===("undefined"==typeof o?"undefined":l(o)))return o.v}return null}},{key:"push",value:function(e){try{if(!e)throw new Error("route is empty!");var t=this._routes.filter(function(t){return t.path===e.path})[0];if(t)throw new Error("route "+e.path+" is existed!");if(!e.hash)throw new Error("route's hash is empty!");if(!e.view)throw new Error("route's view is empty!");return e.id="pg"+e.hash.replace(/\//g,"-"),e.path=e.path||"*",e.bind=e.bind||d["default"].noop,e.router=this,this._routes.push(e),this}catch(a){}}},{key:"animateSec",value:function(e,t,a){if(e||t){e&&((0,d["default"])(e).trigger(h.beforePageSwitch,[e.id,e]),d["default"].removeClass(e,this._opts.showClass));var n=null;t&&(n=(0,d["default"])(t),d["default"].addClass(t,this._opts.showClass),n.trigger(h.pageAnimationStart,[t.id,t])),e&&t&&!this._splash&&(this.animateEle(e,t,a),n.animationEnd(function(){n.trigger(h.pageAnimationEnd,[t.id,t]),n.trigger(h.pageInit,[t.id,t])})),this._splash&&(this._splash=!1)}}},{key:"animateEle",value:function(e,t,a){var n=a;"undefined"==typeof n&&(n=u.rightToLeft);var r=["page-from-center-to-left","page-from-center-to-right","page-from-right-to-center","page-from-left-to-center"].join(" "),s="",i="";switch(n){case u.rightToLeft:s="page-from-center-to-left",i="page-from-right-to-center";break;case u.leftToRight:s="page-from-center-to-right",i="page-from-left-to-center";break;default:s="page-from-center-to-left",i="page-from-right-to-center"}e&&(d["default"].removeClass(e,r),d["default"].addClass(e,s)),t&&(d["default"].removeClass(t,r),d["default"].addClass(t,i)),e&&(0,d["default"])(e).animationEnd(function(){return d["default"].removeClass(e,r)}),t&&(0,d["default"])(t).animationEnd(function(){return d["default"].removeClass(t,r)})}},{key:"switchToSec",value:function(e,t){var a=this;if(e){var n=this.getCurrentSec(),r=d["default"].id(e.id);n!==r&&(this._splash?setTimeout(function(){return a.animateSec(n,r,t?u.leftToRight:u.rightToLeft)},this._opts.splashTime):this.animateSec(n,r,t?u.leftToRight:u.rightToLeft),o(this.route.title))}}}]),e}();t["default"]=f},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),s=n(r);s["default"].requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},s["default"].cancelAnimationFrame=function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):window.clearTimeout(e)},s["default"].cssEvent=function(e,t){function a(r){if(r.target===this){t.call(this,r);for(var s=0;s<e.length;s++)n.off(e[s],a)}}var n=this;if(t)for(var r=0;r<e.length;r++)n.on(e[r],a)},s["default"].fn.animationEnd=function(e){return s["default"].cssEvent.call(this,["webkitAnimationEnd","animationend"],e),this},s["default"].fn.transitionEnd=function(e){return s["default"].cssEvent.call(this,["webkitTransitionEnd","transitionend"],e),this},s["default"].fn.transition=function(e){var t=e;"string"!=typeof e&&(t=e+"ms");for(var a=0;a<this.length;a++){var n=this[a].style;n.webkitTransitionDuration=n.MozTransitionDuration=n.transitionDuration=t}return this},s["default"].fn.transform=function(e){for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransform=a.MozTransform=a.transform=e}return this},t["default"]=s["default"]},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(5),r={};window.CustomEvent||(window.CustomEvent=function(e,t){var a=t||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,a.bubbles,a.cancelable,a.detail),n},window.CustomEvent.prototype=window.Event.prototype),n.on=function(e,t){return r[e]=r[name]||[],r[e].push(t),this},n.fn.on=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.events=this.events||{},r=n[e]=n[e]||{};return r.fn&&this[0].removeEventListener(e,r.fn,a||!1),r.fn=t,r.capture=a,this[0].addEventListener(e,r.fn,a),this},n.fn.once=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.events=this.events||{},r=n[e]=n[e]||{};return r.once=!0,this.on(r,t,a)},n.once=function(e,t){return t._once=!0,n.on(e,t),this},n.fn.off=function(e){return this.events&&this.events[e]&&(this[0].removeEventListener(e,this.events[e].fn,this.events[e].capture||!1),delete this.events[e]),this},n.off=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?r[e].splice(r[e].indexOf(t),1):delete r[e],this},n.fn.trigger=function(e){var t=new CustomEvent(e,{bubbles:!0,cancelable:!0}),a=this.events=this.events||{};return a[e]&&a[e].once&&this.off(e),this[0].dispatchEvent(t),this},n.fn.emit=function(e){var t=this.events=this.events||{},a=t[e]=t[e]||{};a.once&&this.off(e);for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return a.fn.apply(this,r),this},n.emit=function(e){for(var t=this,a=arguments.length,s=Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];var o=r[e]&&r[e].slice();return o&&o.forEach(function(a){a._once&&n.off(e,a),a.apply(t,s)}),this},t["default"]=n},function(e,t,a){var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r,s){n=function(){return s(r)}.call(t,a,t,e),!(void 0!==n&&(e.exports=n))}("undefined"!=typeof window?window:void 0,function(e){var t=function(){function t(e){return e in c?c[e]:c[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function a(e,t,a,n){return o.isFunction(t)?t.call(e,a,n):t}function n(e,t,a){null==a?e.removeAttribute(t):e.setAttribute(t,a)}function s(e,t){this.selector=t||"",this[0]=this.dom=e,this.length=1,e||(this.length=0)}function i(){var e="krouter.storage.ability";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}var o,l=[],c={},p={},d=/complete|loaded|interactive/,u={},h=u.toString,f=/^\s*<(\w+|!)[^>]*>/,m={},y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"};return document.ready=function(e){d.test(document.readyState)&&document.body?e():document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),e()},!1)},m.K=function(e,t){return new s(e,t)},m.isK=function(e){return e instanceof m.K},m.id=function(e){return e in p?p[e]:p[e]=m.K(document.getElementById(e),e)},m.fragment=function(e,t,a){},m.init=function(e,t){var a=void 0;if(!e)return m.K();if("string"==typeof e){if("#"===e[0])return m.id(e.substr(1));"<"==e[0]&&f.test(e)?(a=m.fragment(e,RegExp.$1,t),e=null):a=o.qu(e,t)}else{if(m.isK(e))return e;o.isObject(e)&&(a=e,e=null)}return m.K(a,e)},o=function(e,t){return m.init(e,t)},o.K=s,o.knife=m,o.uuid=0,o.expr={},o.noop=function(){},o.concat=l.concat,o.filter=l.filter,o.slice=l.slice,o.type=function(e){return null==e?String(e):u[h.call(e)]||"object"},o.isFunction=function(e){return"function"==o.type(e)},o.isWindow=function(e){return null!=e&&e==e.window},o.isDocument=function(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE},o.isObject=function(e){return"object"==o.type(e)},o.isPlainObject=function(e){return isObject(e)&&!isWindow(e)&&Object.getPrototypeOf(e)==Object.prototype},o.isArray=Array.isArray||function(e){return e instanceof Array},o.isNumeric=function(e){var t=Number(e),a="undefined"==typeof e?"undefined":r(e);return null!=e&&"boolean"!=a&&("string"!=a||e.length)&&!isNaN(t)&&isFinite(t)||!1},o.trim=function(e){return null==e?"":String.prototype.trim.call(e)},o.assign=function(e){if(e){var t=o.slice.call(arguments,1);t&&t.forEach(function(t){for(var a in t)t.hasOwnProperty(a)&&void 0!==t[a]&&(e[a]=t[a])})}},o.support=function(){var t={touch:!!("ontouchstart"in e||e.DocumentTouch&&document instanceof e.DocumentTouch),storage:i()};return t}(),o.touchEvents={start:o.support.touch?"touchstart":"mousedown",move:o.support.touch?"touchmove":"mousemove",end:o.support.touch?"touchend":"mouseup"},o.likeArray=function(e){var t=!!e&&"length"in e&&e.length,a=o.type(e);return"function"!=a&&!o.isWindow(e)&&("array"==a||0===t||"number"==typeof t&&t>0&&t-1 in e)},o.each=function(e,t){var a,n;if(o.likeArray(e)){for(a=0;a<e.length;a++)if(t.call(e[a],a,e[a])===!1)return e}else for(n in e)if(t.call(e[n],n,e[n])===!1)return e;return e},o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()}),o.id=function(e){return document.getElementById(e)},o.qu=function(e,t){return t?m.isK(t)?t[0].querySelector(e):t.querySelector(e):document.querySelector(e)},o.qus=function(e,t){var a=null;return a=t?m.isK(t)?t[0].querySelectorAll(e):t.querySelectorAll(e):document.querySelectorAll(e),a.length>0?Array.prototype.slice.call(a):[]},o.nms=function(e){return document.getElementsByName(e)},o.tags=function(e,t){return e=e||document,e.getElementsByTagName(t.toUpperCase())},o.dc=function(e,t,a){var n=document.createElement(t);return a&&(n.className=a),e&&e.appendChild(n),n},o.html=function(e,t){return void 0===t?e?e.innerHTML:null:void(e.innerHTML=t)},o.attr=function(e,t,r){var s;if(!e)return"";if("string"==typeof t&&void 0===r)return e&&1==e.nodeType&&null!=(s=e.getAttribute(t))?s:"";if(1!==e.nodeType)return!1;if(isObject(t))for(key in t)n(e,key,t[key]);else n(e,t,a(e,r,0,e.getAttribute(t)));return!0},o.attrn=function(e,t){if(!e)return"";var a=e.getAttribute(t);return null==a&&(a=""),a&&(a=t+"="+a+";"),a},o.removeAttr=function(e,t){1===e.nodeType&&t.split(" ").forEach(function(t){n(e,t)})},o.removeNode=function(e){e.parentNode.removeChild(e)},o.prop=function(e,t,n){return t=y[t]||t,void 0!==n?(e[t]=a(e,n,0,e[t]),!0):e&&e[t]},o.removeProp=function(e,t){t=y[t]||t,delete e[t]},o.className=function(e,t){var a=(e.className||"").trim(),n=a&&void 0!==a.baseVal;return void 0===t?n?a.baseVal:a:void(n?a.baseVal=t:e.className=t)},o.hasClass=function(e,a){return!(!e||!a)&&t(a).test(o.className(e))},o.addClass=function(e,t){if(!e||!t)return!1;var n=[],r=o.className(e),s=a(e,t,0,r);return s.split(/\s+/g).forEach(function(t){o.hasClass(e,t)||n.push(t)}),n.length&&o.className(e,r+(r?" ":"")+n.join(" ")),!0},o.removeClass=function(e,n){if(void 0===n)return o.className(e,"");var r=o.className(e);a(e,n,0,r).split(/\s+/g).forEach(function(e){r=r.replace(t(e)," ")}),o.className(e,r.trim())},o.toggleClass=function(e,t,n){if(!e||!t)return!1;var r=a(e,t,0,o.className(e));r.split(/\s+/g).forEach(function(t){(void 0===n?!o.hasClass(e,t):n)?o.addClass(e,t):o.removeClass(e,t)})},o.toggle=function(e){"none"===e.style.display?e.style.display="":e.style.display="none"},o.firstChild=function(e){var t=null;if(!e)return null;try{for(var a=0;a<e.childNodes.length;a++){var n=e.childNodes[a];if(1===n.nodeType||3===n.nodeType&&n.nodeValue&&n.nodeValue.trim()){t=n;break}}}catch(r){alert("firstChild exp:"+r.message)}return t},o.nextNode=function(e){var t=null;if(!e)return null;for(var a=e.nextSibling;a;){if(1===a.nodeType||3===a.nodeType&&a.nodeValue&&a.nodeValue.trim()){t=a;break}a=a.nextSibling}return t},o.lastChild=function(e){var t=null;if(!e)return null;for(var a=e.childNodes.length-1;a>=0;a--){var n=e.childNodes[a];if(1===n.nodeType||3===n.nodeType&&n.nodeValue&&n.nodeValue.trim()){t=n;break}}return t},o.childCount=function(e){var t=0;if(!e)return 0;for(var a=0;a<e.childNodes.length;a++){var n=e.childNodes[a];(1===n.nodeType||3===n.nodeType&&n.nodeValue&&n.nodeValue.trim())&&t++}return t},o.hasChild=function(e){if(!e)return!1;var t=e.children;return t.length>0},o.upperTag=function(e,t){for(var a=null,n=t.toUpperCase(),r=0,s=e;s&&(r++,!(r>=10));){if(s.tagName&&s.tagName===n){a=s;break}s=s.parentNode}return a},o.childTag=function(e,t){var a=null;if(!e)return null;try{for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.tagName&&r.tagName===t.toUpperCase()){a=r;break}}}catch(s){alert("childTag exp:"+s.message)}return a},o.cursorEnd=function(t){if(t.focus(),"undefined"!=typeof e.getSelection&&"undefined"!=typeof document.createRange){var a=document.createRange();a.selectNodeContents(t),a.collapse(!1);var n=e.getSelection();n.removeAllRanges(),n.addRange(a)}else if("undefined"!=typeof document.body.createTextRangrge){var r=document.body.createTextRange();r.moveToElementText(t),r.collapse(!1),r.select()}},o.getCursorPos=function(e){var t=0;if(!e)return 0;if(e.selectionStart)t=e.selectionStart;else{var a=null;"textarea"===e.tagName.toLowerCase()?(a=event.srcElement.createTextRange(),a.moveToPoint(event.x,event.y)):a=document.selection.createRange(),a.moveStart("character",-event.srcElement.value.length),t=a.text.length}return t},o.getCursorPosition=function(e){var t="@#%#^&#*$",a=document.selection.createRange();a.text=t;var n=e.value.indexOf(t);return a.moveStart("character",-t.length),a.text="",n},o.setCursorPos=function(e,t){var a=e.createTextRange();a.collapse(!0),a.moveStart("character",t),a.select()},o.moveFirst=function(){this.rowindex=0},o.fastLink=function(){try{var e=o.qus("a");e.forEach(function(e){if(e.href&&e.hasAttribute("fastlink")){var t;e.ontouchstart=function(e){t=e.changedTouches[0].clientY},e.ontouchend=function(a){if(!(Math.abs(a.changedTouches[0].clientY-t)>10))return a.preventDefault(),o.hasClass(e,"back")?history.back():void(location.href=e.href)}}})}catch(t){alert("fastLink exp: "+t.message)}},o.fn={constructor:m.K,length:0,forEach:l.forEach,reduce:l.reduce,push:l.push,sort:l.sort,splice:l.splice,indexOf:l.indexOf},o.K.prototype=o.knife.K.prototype=o.fn,o}();return e.Knife=t,void 0===e.$&&(e.$=t),t})},function(e,t){"use strict";function a(e){return null==e?"":String(e).replace(/(^\s*)|(\s*$)/g,"")}function n(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=0,s=a.length,i=String(e).replace(/%[sdj%]/g,function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(a[r++]);case"%d":return Number(a[r++]);case"%j":return JSON.stringify(a[r++]);default:return e}});return i}function r(e){var t=null,n="&"+location.search.substr(1)+"&",r=new RegExp("&"+e+"=([^&]*)&"),s=r.exec(n);return s&&(t=s[1],t=decodeURIComponent(t),t=a(t)),t}function s(e){if(!e)return"";var t=e.indexOf("#!");return t!==-1?t++:t=e.indexOf("#"),t!==-1?e.substring(t+1):""}function i(e){var t=null,n=s(location.hash);if(!n)return"";var r=n.indexOf("?");if(r===-1)return"";var i="&"+n.substr(r+1)+"&",o=new RegExp("&"+e+"=([^&]*)&"),l=o.exec(i);return l&&(t=l[1],t=decodeURIComponent(t),t=a(t)),t}function o(e,t){return void 0===t?sessionStorage.getItem(e)||"":void sessionStorage.setItem(e,t)}function l(e){var t=document.createElement("a");t.setAttribute("href",e);var a=t.href;return t=null,a}function c(e){var t=e.indexOf("#");return t===-1?e.slice(0):e.slice(0,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.trim=a,t.format=n,t.urlParam=r,t.getHash=s,t.hashParam=i,t.session=o,t.getAbsUrl=l,t.getBaseUrl=c},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function s(e){return void 0===e?M["default"].dev.token?M["default"].dev.token:sessionStorage.getItem(M["default"].app.token)||"":void sessionStorage.setItem(M["default"].app.token,e)}function i(e){return void 0===e?sessionStorage.getItem(M["default"].app.code)||"":void sessionStorage.setItem(M["default"].app.code,e)}function o(e){return void 0===e?sessionStorage.getItem(M["default"].app.lastCode)||"":void sessionStorage.setItem(M["default"].app.lastCode,e)}function l(e){return void 0===e?sessionStorage.getItem(M["default"].app.docker)||"wx":void sessionStorage.setItem(M["default"].app.docker,e)}function c(){return"rel"===l()?M["default"].rel.host:M["default"].api.host}function p(e){if(s())e(null,s());else if(i()||i((0,H.urlParam)("code")),i()&&i()!==o()){var t="rel"===l()?""+M["default"].rel.host+M["default"].rel.token:""+M["default"].api.host+M["default"].api.token;O.get(t,"code="+i(),function(t){if(o(i()),t){var a=JSON.parse(t);200===a.rc?(s(a.token),e(null,a.token)):e(new Error("获取身份信息失败,请退出重新打开或联系客服!"),"")}})}else e(new Error("获取身份信息失败,请退出重新打开或联系客服!"),"")}function d(e,t,a){O.get(e.indexOf(M["default"].view.host)===-1?""+M["default"].view.host+e:e,t,a)}function u(e,t,a){O.get(e.indexOf(M["default"].doc.host)===-1?""+M["default"].doc.host+e:e,t,a)}function h(e,t,a){s()?(t.append("token",s()),O.postForm(e.indexOf(c())===-1?""+c()+e:e,t,a)):(/rel.nuoyadalu.com/.test(e)&&l("rel"),p(function(n,r){t.append("token",r),O.postForm(e.indexOf(c())===-1?""+c()+e:e,t,a)}))}function f(e){var t="url="+location.href;t=t.replace(/&/,"%26"),t=t.replace(/#[\s\S]*$/,""),O.get(""+M["default"].api.host+M["default"].api.wxsign,t,function(t){e(JSON.parse(t))})}function m(e,t,a){if(!$.qu(".city-a-wrap")){var n=document.createElement("div"),r='<div class="city-a"><p class="city-a-boxp1">'+t+'</p><span class="city-a-boxsp1">确定</span></div>';n.setAttribute("class","city-a-wrap");var s=$.id(e);s.appendChild(n),n.innerHTML=r,$.qu(".city-a-boxsp1").onclick=function(){$.id(e).removeChild($.qu(".city-a-wrap")),a&&a()}}}function y(e,t,a,n,r,s,i){n&&($.qu(n).style.display="-webkit-box");var o=(0,H.getBaseUrl)(window.location.href),l="";l=o.indexOf("?")!=-1?"&":"?";var c=encodeURIComponent(l+"entry_code="+e),p=(0,H.getBaseUrl)(window.location.href)+c,d="",u=new XMLHttpRequest,h=flightUrl+"/icbc/xhService.ashx?act=checkLogin&returnUri="+p;u.open("get",h,"false"),u.send(),u.onreadystatechange=function(){if(4==u.readyState)if(200==u.status){n&&($.qu(n).style.display="none"),d=JSON.parse(u.responseText);var e=d.Status,o=d.Result;if(1==e){var l={userName:o.MemberName,userID:o.CardNo,xhUnitId:o.UnitId,xhPerms:o.Perms};document.cookie="theUserdata="+JSON.stringify(l),t(),console.log("初次每次都要验证！")}else{document.cookie="theUserdata=";var c=s?s:"抱歉，登录超时，将重新登录，请稍后";i?location.href="/html5/"+o:m(a,c,function(){location.href="/html5/"+o}),localStorage.setItem("allbookdatastr",r)}}else m(a,"验证用户登录出问题。")}}function b(e){for(var t=e+"=",a=t.length,n=document.cookie.length,r=0;r<n;){var s=r+a;if(document.cookie.substring(r,s)==t)return v(s);if(r=document.cookie.indexOf(" ",r)+1,0==r)break}return null}function g(e,t,a){var n=new Date;n.setTime(n.getTime()+6e4*a),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()}function v(e){var t=document.cookie.indexOf(";",e);return t==-1&&(t=document.cookie.length),unescape(document.cookie.substring(e,t))}function k(e,t,a,n,r){var s="";s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),s.onreadystatechange=function(){4===s.readyState&&n&&(200===s.status?n(null,s.responseText):n(new Error(s.status),s.responseText))};var i=!0;r&&(i=r),s.open("POST",e,i);var o=t;"object"===("undefined"==typeof t?"undefined":_(t))&&(o=JSON.stringify(t)),s.setRequestHeader("Content-Type","text/plain; charset=utf-8"),a&&s.setRequestHeader("X-AjaxPro-Method",a),s.send(o)}function q(e,t,a,n){var r="";r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),r.open("get",e+"?"+t,a),r.send(),r.onreadystatechange=function(){4===r.readyState&&n&&(200===r.status?n(null,r.responseText):n(new Error(r.status),r.responseText))}}function x(e,t,a,n){var r="";r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),r.onreadystatechange=function(){4===r.readyState&&n&&(200===r.status?n(null,r.responseText):n(new Error(r.status),r.responseText))};var s=!0;a&&(s=a),r.open("POST",e,s);var i=t;"object"===("undefined"==typeof t?"undefined":_(t))&&(i=JSON.stringify(t)),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(i)}function T(e){setTimeout(function(){document.title=e;var t=document.createElement("iframe");t.style.display="none",t.src="img/back.bg.png",t.onload=function(){setTimeout(function(){document.body.removeChild(t)},0)},document.body.appendChild(t)},0)}Object.defineProperty(t,"__esModule",{value:!0});var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.token=s,t.code=i,t.lastCode=o,t.docker=l,t.host=c,t.getToken=p,t.getView=d,t.getDoc=u,t.postForm=h,t.getWxSign=f,t.myalertp=m,t.userOnoffpp=y,t.GetCookie=b,t.SetCookie=g,t.getCookieVal=v,t.mypost=k,t.myget=q,t.mypostn=x,t.setTitle=T;var w=a(8),O=r(w),C=a(1),M=n(C),H=a(6)},function(e,t){"use strict";function a(){var e=null;return window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e}function n(e){var t="",a=[];for(var n in e)e.hasOwnProperty(n)&&a.push(n+"="+e[n]);return t=a.sort().join("&")}function r(e,t,r){var s=a();s.onreadystatechange=function(){4===s.readyState&&r&&(200===s.status?r(null,s.responseText):r(new Error(s.status),s.responseText))},s.open("POST",e,!0);var i=t;"object"===("undefined"==typeof t?"undefined":o(t))&&(i=n(t)),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(i)}function s(e,t,n){var r=a();r.onreadystatechange=function(){4===r.readyState&&n&&(200===r.status?n(null,r.responseText):n(new Error(r.status),r.responseText))},r.open("POST",e,!0),r.send(t)}function i(e,t,n){var r=a();r.onreadystatechange=function(){4===r.readyState&&200===r.status&&n&&n(r.responseText)},t?r.open("GET",e+"?"+t,!0):r.open("GET",e,!1),r.send(null)}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.get=i,t.post=r,t.postForm=s},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pullnumtohtml(e){var t=e.split(",");console.log("获取的电话数据"),console.log(t),t.length=5;for(var a=t.sort(),n=[],r=0;r<a.length;r++)n.push(a[r].split("|")[1]);for(var s=["南航直营客服电话：","深航直营客服电话：","川航直营客服电话：","非直营机票客服电话：","投诉电话："],i=' <span class="thephone-sp">确定</span>',o="",r=0;r<n.length;r++){var l=n[r].replace(/-/g,"");o+="<p><span>"+s[r]+'</span><a href="tel:'+l+'">'+l+"</a></p>"}var c=o+i;$.qu(".thephone-wrap").innerHTML=c,$.qu(".thephone-sp").onclick=function(){$.qu(".thephone").style.display="none"}}function getallphonenum(key,n){(0,_api.myget)(flightUrl+"/icbc/xhService.ashx","act=GETSERVICEPHONE&Source="+key,!0,function(err,res){if(err)(0,_api.myalertp)("router0","出错了，获取客服联系电话失败！");else{var oData3=eval("("+res+")");console.log(oData3);var phonts=oData3.Result.Phone,phontn=oData3.Result.Source,dt=n+phontn+"|"+phonts;
getmyphone(dt)}})}function getmyphone(e){phonenum+=e+","}function pullallmyphone(){getallphonenum("XHSV",4),getallphonenum("XHTS",5),getallphonenum("CZ",1),getallphonenum("ZH",2),getallphonenum("3U",3)}function allthedata(){var e=$.id("city0").innerHTML,t=$.id("city1").innerHTML,a=$.qu(".input1").innerHTML,n=$.qu(".input2").innerHTML,r={ctyf:e,ctyt:t,timef:a,timet:n};return r}function allthedatatohtml(e){e&&($.id("city0").innerHTML=e.ctyf,$.id("city1").innerHTML=e.ctyt,$.qu(".input1").innerHTML=jiondateChange(e.timef),$.qu(".input1w").innerHTML="("+getWeekDaylong(jiondateChange(e.timef))+")",$.qu(".input2").innerHTML=jiondateChange(e.timet),$.qu(".input2w").innerHTML="("+getWeekDaylong(jiondateChange(e.timet))+")")}function Ntime(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),r=t+"-"+a+"-"+n;return r}function Ntime1(){function e(e,t){var a=e.substring(0,4),n=e.substring(5,7)-1,r=e.substring(8,10),s=new Date(a,n,r);s.setHours(s.getHours()+t);var i=s.getFullYear(),o=s.getMonth()+1,l=s.getDate();return 1==(o+"").length&&(o="0"+o),1==(l+"").length&&(l="0"+l),i+"-"+o+"-"+l}var t=jiondateChange($.qu(".input1").innerHTML);return e(t,24)}function jiondateChange(e){try{var t=e.split("-");e=t[0]+"",e+=1==t[1].length?"-0"+t[1]:"-"+t[1],e+=1==t[2].length?"-0"+t[2]:"-"+t[2]}catch(a){}return e}function getWeekDaylong(e){function t(e){return e<10?"0"+e:e}function a(e){return e.replace(/\-/g,"")}var n=new Array("周日","周一","周二","周三","周四","周五","周六"),r=["今天","明天","后天"],s=parseInt(e.split("-")[0]),i=parseInt(e.split("-")[1]),o=parseInt(e.split("-")[2]),l=new Date(s,i-1,o),c=l.getDay(),p=new Date,d=p.getFullYear()+"-"+t(p.getMonth()+1)+"-"+t(p.getDate()),u=a(e)-a(d);return u>2?n[c]:r[u]}function pullLogin(e){(0,_api.myget)("/icbc/zyService.ashx","act=nameLogin&userNick="+e+"&OrderID=1",!0,function(e,t){console.log(e),console.log(t),e?(console.log("默认登陆失败！"),(0,_api.myalertp)("router0","抱歉，默认登陆失败,请重试！")):(console.log("默认登陆成功！"),console.log(t))})}function setRygTile(){function e(){var e={title:"测试5",url:""};window.history.pushState(e,"title",url)}e();var t=!1;setTimeout(function(){t=!0},1e3),window.addEventListener("popstate",function(t){e()},!1)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),_kutil=__webpack_require__(6),_kswipe=__webpack_require__(10),_kswipe2=_interopRequireDefault(_kswipe),_kajax=__webpack_require__(8),ajax=_interopRequireWildcard(_kajax),$=__webpack_require__(5),_view=__webpack_require__(11),fcity="a",tcity="",OT=1,phonenum="",theuser=1,timer="",_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/join$",this.hash="/flightmb/join",this.title="机票查询Title",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.flightmbJoin+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){function a(e,t){if(e&&e.length>0){var a=$.qu(".swipe");window.swipe=new _kswipe2["default"](a,{width:screen.width,height:window.screen.width/320*120,imgs:e,auto:5e3,continuous:!0})}}console.log(t),(0,_api.setTitle)("机票");var n=["https://cos.uair.cn/mb/img/pic-1.jpg","https://cos.uair.cn/mb/img/pic-2.jpg","https://cos.uair.cn/mb/img/pic-3.jpg","https://cos.uair.cn/mb/img/pic-4.jpg"];a(n,1.9);var r=window.location.href.split("/"),s=r[r.length-1];console.log(s);var i=jiondateChange(Ntime());if($.qu(".input1").innerHTML=i,$.qu(".input1w").innerHTML="("+getWeekDaylong(i)+")",console.log(t),1==t.linkp)if(t.thephonep){var o=t.thephonep;(0,_api.mypostn)("http://ca.nuoya.io/leaveSp/api/credit","MobilePhone="+o,"",function(e,t){if(console.log(e),e)(0,_api.myalertp)("router0","抱歉，获取登陆用户id出错,请重试！");else if("202"==JSON.parse(t).rc);else{var a=JSON.parse(t).CreditData[0].CardNo.replace("MFW","20"),n=JSON.parse(t).CreditData[0].MemberName;if(a&&n){pullLogin(n);setInterval(function(){pullLogin(n)},24e4)}else(0,_api.myalertp)("router0","抱歉，账号信息有误")}})}else var o="";else allthedatatohtml(t.joindata);$.qu(".tab-item2").onclick=function(){(0,_api.userOnoffpp)("a",function(){$.router.go("#!/flightmb/allmytickes",{},!0)},"router0","","","抱歉，您还未登陆，请前往登陆页面~~",1)},pullallmyphone(),$.qu(".tab-item3").onclick=function(){$.qu(".thephone").style.display="-webkit-box",pullnumtohtml(phonenum)},ttbtn1.onclick=function(){$.removeClass(ttbtn2,"active"),$.addClass(this,"active"),$.qu(".tab-ul9").style.left="0",$.qu(".from_la").style.left="4%",$.qu(".from_la1").style.left="3%",$.qu(".input2").innerHTML="",OT=1},ttbtn2.onclick=function(){$.removeClass(ttbtn1,"active"),$.addClass(this,"active"),$.qu(".tab-ul9").style.left="50%",$.qu(".from_la").style.left="56%",$.qu(".from_la1").style.left="55%",$.qu(".input2").innerHTML=Ntime1(),$.qu(".input2w").innerHTML="("+getWeekDaylong(Ntime1())+")",OT=2},city0.onclick=function(){var e=allthedata();$.router.go("#!/flightmb/city",{citytype:0,joindata:e},!0)},city1.onclick=function(){var e=allthedata();$.router.go("#!/flightmb/city",{citytype:1,joindata:e},!0)},$.qu(".tab-ul4").onclick=function(){var e=$.id("city0").innerHTML,t=$.id("city1").innerHTML;$.qu(".tab-ul3").className="tab-ul3 go-right",$.qu(".tab-ul5").className="tab-ul5 go-left",this.children[0].className="city-icon rotate",setTimeout(function(){$.qu(".tab-ul4").children[0].className="city-icon",$.id("city0").innerHTML=t,$.id("city1").innerHTML=e,$.qu(".tab-ul3").className="tab-ul3",$.qu(".tab-ul5").className="tab-ul5"},500)},$.qu(".tab-ul8").onclick=function(){var e=allthedata();$.router.go("#!/flightmb/adate",{timetype:0,joindata:e},!0)},$.qu(".tab-ul9").onclick=function(){var e=($.qu(".input1").innerHTML,allthedata());$.router.go("#!/flightmb/adate",{timetype:1,joindata:e},!0)},$.qu(".search-b").onclick=function(){var e=$.id("city0").innerHTML,t=$.id("city1").innerHTML,a=sessionStorage.length+1,n=a+1;sessionStorage.setItem("city"+a,e),sessionStorage.setItem("city"+n,t);var r=$.qu(".input1").innerHTML,s=$.qu(".input2").innerHTML,i=s;""==i&&(i=0);var o=jiondateChange(r).replace(/\-/g,"");if(0==i)console.log("单程"),$.router.go("#!/flightmb/detail",{citydetail1:e,citydetail2:t,timedetail1:r,timedetail2:s,cliktype:1,backtype:1},!0);else{var l=jiondateChange(i).replace(/\-/g,"");o>l?(0,_api.myalertp)("router0","出发日期不能大于返回日期~~！"):($.router.go("#!/flightmb/detail",{citydetail1:e,citydetail2:t,timedetail1:r,timedetail2:s,cliktype:1,backtype:1},!0),console.log("往返"))}}}}]),e}();exports["default"]=_class},function(e,t){"use strict";function a(e,t){function a(e,t){var a=document.createElement("img");a.src=e,a.complete?t(a):a.onload=function(){return t(a)}}function n(e,t,a){t.height=a,t.width=a*t.naturalWidth/t.naturalHeight,e.appendChild(t)}function r(){var r=t.imgs||[],i=r.length;k.innerHTML="",i?!function(){var o=t.width,l=t.height;e.style.width=o+"px",e.style.height=l+"px";for(var c=[],p=0;p<i;p++){var d=document.createElement("div");c.push(d),k.appendChild(d)}a(r[0],function(t){if(n(c[0],t,l),1===r.length)s();else for(var i=function(t){a(r[t],function(a){n(c[t],a,l),e.style.visibility="visible",t===r.length-1&&s()})},o=1;o<r.length;o++)i(o)})}():s()}function s(){b=k.children,g=new Array(b.length),v=parseInt(getComputedStyle(e).width),k.style.width=b.length*v+"px";for(var t=b.length;t--;){var a=b[t];a.style.width=v+"px",a.setAttribute("data-index",t),y.transitions&&(a.style.left=t*-v+"px",c(t,x>t?-v:x<t?v:0,0))}y.transitions||(k.style.left=x*-v+"px"),e.style.visibility="visible",_&&b&&b.length>1&&u()}function i(){x?l(x-1):t.continuous&&l(b.length-1)}function o(){x<b.length-1?l(x+1):t.continuous&&l(0)}function l(e,a){if(x!=e){if(y.transitions){for(var n=Math.abs(x-e)-1,r=Math.abs(x-e)/(x-e);n--;)c((e>x?e:x)-n-1,v*r,0);c(x,v*r,a||T),c(e,0,a||T)}else d(x*-v,e*-v,a||T);x=e,m(t.callback&&t.callback(x,b[x]))}}function c(e,t,a){p(e,t,a),g[e]=t}function p(e,t,a){var n=b[e],r=n&&n.style;r&&(r.webkitTransitionDuration=r.MozTransitionDuration=r.msTransitionDuration=r.OTransitionDuration=r.transitionDuration=a+"ms",r.webkitTransform="translate("+t+"px,0)translateZ(0)",r.msTransform=r.MozTransform=r.OTransform="translateX("+t+"px)")}function d(e,a,n){if(!n)return void(k.style.left=a+"px");var r=+new Date,s=setInterval(function(){var i=+new Date-r;return i>n?(k.style.left=a+"px",_&&u(),t.swiped&&t.swiped.call(event,x,b[x]),void clearInterval(s)):void(k.style.left=(a-e)*(Math.floor(i/n*100)/100)+e+"px")},4)}function u(){$=setTimeout(o,_)}function h(){_=0,clearTimeout($)}var f=function(){},m=function(e){setTimeout(e||f,0)},y={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(e){var t=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var a in t)if(void 0!==e.style[t[a]])return!0;return!1}(document.createElement("swipe"))};if(!e)return null;var b,g,v,k=e.children[0];t=t||{};var $,q,x=parseInt(t.startSlide,10)||0,T=t.speed||300,_=t.auto||0,w={},O={},C={handleEvent:function(e){switch(e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":m(this.end(e));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":m(this.transitionEnd(e));break;case"resize":m(s.call())}t.stopPropagation&&e.stopPropagation()},start:function(e){var t=e.touches[0];w={x:t.pageX,y:t.pageY,time:+new Date},q=void 0,O={},k.addEventListener("touchmove",this,!1),k.addEventListener("touchend",this,!1)},move:function(e){if(!(e.touches.length>1||e.scale&&1!==e.scale)){t.disableScroll&&e.preventDefault();var a=e.touches[0];O={x:a.pageX-w.x,y:a.pageY-w.y},"undefined"==typeof q&&(q=!!(q||Math.abs(O.x)<Math.abs(O.y))),q||(e.preventDefault(),h(),O.x=O.x/(!x&&O.x>0||x==b.length-1&&O.x<0?Math.abs(O.x)/v+1:1),p(x-1,O.x+g[x-1],0),p(x,O.x+g[x],0),p(x+1,O.x+g[x+1],0))}},end:function(e){var a=+new Date-w.time,n=Number(a)<250&&Math.abs(O.x)>20||Math.abs(O.x)>v/2,r=!x&&O.x>0||x==b.length-1&&O.x<0,s=O.x<0;q||(n&&!r?(s?(c(x-1,-v,0),c(x,g[x]-v,T),c(x+1,g[x+1]-v,T),x+=1):(c(x+1,v,0),c(x,g[x]+v,T),c(x-1,g[x-1]+v,T),x+=-1),t.callback&&t.callback(x,b[x])):(c(x-1,-v,T),c(x,0,T),c(x+1,v,T))),k.removeEventListener("touchmove",C,!1),k.removeEventListener("touchend",C,!1)},transitionEnd:function(e){parseInt(e.target.getAttribute("data-index"),10)==x&&(_&&u(),t.swiped&&t.swiped.call(e,x,b[x]))}};return r(),y.addEventListener?(y.touch&&k.addEventListener("touchstart",C,!1),y.transitions&&(k.addEventListener("webkitTransitionEnd",C,!1),k.addEventListener("msTransitionEnd",C,!1),k.addEventListener("oTransitionEnd",C,!1),k.addEventListener("otransitionend",C,!1),k.addEventListener("transitionend",C,!1)),window.addEventListener("resize",C,!1)):window.onresize=function(){s()},{setup:function(){s()},slide:function(e,t){l(e,t)},prev:function(){h(),i()},next:function(){h(),o()},getPos:function(){return x},kill:function(){h(),k.style.width="auto",k.style.left=0;for(var e=b.length||0;e--;){var t=b[e];t.style.width="100%",t.style.left=0,y.transitions&&p(e,0,0)}y.addEventListener?(k.removeEventListener("touchstart",C,!1),k.removeEventListener("webkitTransitionEnd",C,!1),k.removeEventListener("msTransitionEnd",C,!1),k.removeEventListener("oTransitionEnd",C,!1),k.removeEventListener("otransitionend",C,!1),k.removeEventListener("transitionend",C,!1),window.removeEventListener("resize",C,!1)):window.onresize=null}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t){e.exports='<!-- 页面内容 -->\r\n\r\n\r\n<div class="page-c" id="router0">\r\n    <div class="thephone">\r\n        <div class="thephone-wrap">\r\n            <!--<p><span>客服电话：</span><a href="tel:18580040217">18580040217</a></p>-->\r\n            <!--<p><span>客服电话：</span><a href="tel:4000662188">4000662188</a></p>-->\r\n            <!--<p><span>客服电话：</span><a href="tel:15184447593">15184447593</a></p>-->\r\n            <!--<span class="thephone-sp1">确定</span>-->\r\n        </div>\r\n\r\n    </div>\r\n    <div class="lodin-jo">\r\n        <div id="caseBlanche-jo">\r\n            <div id="rond-jo">\r\n                <div id="test-jo"></div>\r\n            </div>\r\n            <div id="load-jo">\r\n\r\n                <p>验证登陆中...</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <nav class="bar bar-tab">\r\n        <strong class="tab-item tab-item1 active " >\r\n             <span class="tab-label1">机票查询</span>\r\n        </strong>\r\n        <strong class="tab-item tab-item2 " >\r\n             <span class="tab-label2">我的机票</span>\r\n        </strong>\r\n        <strong class="tab-item tab-item3 " >\r\n             <span class="tab-label3">联系客服</span>\r\n        </strong>\r\n    </nav>\r\n    <div class="content">\r\n        <!--<div id="focus" class="focus">-->\r\n\r\n            <!--<div class="bd">-->\r\n                <!--<ul class="bd_xhli">-->\r\n                <!--</ul>-->\r\n            <!--</div>-->\r\n            <!--<div class="hd">-->\r\n                <!--<ul></ul>-->\r\n            <!--</div>-->\r\n        <!--</div>-->\r\n        <span class="join-t1">\r\n           <img  src="https://cos.uair.cn/mb/img/head.bg.png" alt="">\r\n        </span>\r\n        <!-- 轮播图 -->\r\n        <div id=\'dvSwipe\' class=\'swipe\'>\r\n            <div id=\'dvSwipeImg\' class=\'swipe-wrap\'></div>\r\n        </div>\r\n        <div class="content-block content-bg">\r\n                <div class="buttons-tab button-c">\r\n                    <span  class="tab-link active button button-cs1" id="ttbtn1">单程</span>\r\n                    <div class="from_la"></div>\r\n                    <div class="from_la1"></div>\r\n                    <span class="tab-link button button-cs2" id="ttbtn2">往返</span>\r\n                    <div class="to_la"></div>\r\n                </div>\r\n                <div class="content-block content-wrap">\r\n                   <div class="tabs">\r\n\r\n                     <div id="tab1" class="tab">\r\n                            <ul class="tab-ul ">\r\n                               <li class="tab-ul1">出发地点</li>\r\n                               <li class="tab-ul2">到达地点</li>\r\n                               <li class="tab-ul3"><strong id="city0" class="creat-firstcity">重庆</strong></li>\r\n                               <li class="change-li tab-ul4">\r\n                                  <div data-speed="城市交换" class="city-icon">\r\n                                    <span class="" id="city">\r\n                                      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16" class="city-icon-circle"><path d="M13.578 6.673c0-0.296 0.24-0.536 0.536-0.536l0.755-0.008c-0.793-3.104-3.608-5.399-6.96-5.399-3.372 0-6.198 2.323-6.971 5.455l-0.441-0.589c0.985-3.157 3.931-5.449 7.412-5.449 3.672 0 6.746 2.55 7.554 5.975l0.082 0.396c0.082 0.452 0.127 0.917 0.127 1.392 0 0.273-0.014 0.542-0.042 0.807l-2.053-2.046zM2.282 9.336c0 0.296-0.239 0.536-0.535 0.537l-0.755 0.008c0.797 3.103 3.615 5.394 6.967 5.39 3.372-0.004 6.195-2.331 6.964-5.465l0.442 0.588c-0.981 3.159-3.924 5.454-7.405 5.459-3.672 0.005-6.749-2.541-7.562-5.966l-0.083-0.396c-0.082-0.452-0.128-0.916-0.129-1.392-0-0.273 0.014-0.542 0.041-0.807l2.056 2.044z"></path></svg> \r\n                                    </span>                                \r\n                                    <span class="city-icon-plane">\r\n                                      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="37" height="16" viewBox="0 0 37 16">\r\n                                        <path d="M34.345 3.527l-8.042 3.039-10.137-5.429c-1.204-0.544-1.241-0.644-2.088-0.325l-3.608 1.363c-1.119 0.418-0.588 0.805 1.128 2.667l5.078 5.36-12.764 4.822c1.271 0.194 8.993 0.784 10.75 0.121l21.065-7.958c1.011-0.381 1.52-1.51 1.139-2.52s-1.511-1.52-2.521-1.139zM10.231 11.831l-4.288-2.229c-1.27-0.676-1.763-0.674-3.662 0.044l-1.957 0.74 3.704 3.789 6.203-2.343z"></path>\r\n                                      </svg>\r\n                                    </span>\r\n                                  </div> \r\n                               </li>\r\n                               <li class="tab-ul5"><strong id="city1" class="creat-firstcity1">北京</strong></li>\r\n                               <li class="tab-ul6">出发日期</li>\r\n                               <li class="tab-ul7">返程日期</li>\r\n                               <li class="tab-ul8"><span class="input1"></span><span class="input1w">周五</span></li>\r\n                               <li class="tab-ul9"><span class="input2"></span><span class="input2w">周日</span></li>\r\n\r\n\r\n                            </ul>\r\n                     </div>\r\n\r\n                   </div>\r\n                </div>\r\n                <p class="search-p"><span  class="search-b">查询</span></p>\r\n                <p class="notice_p">温馨提示：\r\n                    5月11日至17日期间，从昆明长水国际机场出发的旅客请注意，由于在此期间客流量将增大，机场安保升级，请出行旅客至少提前三小时到达机场办理登机手续。</p>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(){for(var e=sessionStorage.length+1,t=[],a=1;a<e;a++){var n="city"+a,r=sessionStorage.getItem(n);t.push(r)}for(var a=0;a<t.length;a++)for(var s=a+1;s<t.length;s++)t[a]==t[s]&&(t.splice(s,1),s--);return t.reverse()}function i(){for(var e=y.qus(".li-body"),t=0;t<e.length;t++)e[t].onclick=function(){var e=this.innerHTML;0==g?e==v.ctyf?(0,m.myalertp)("pickCity","选择的出发地点相同"):e==v.ctyt?(0,m.myalertp)("pickCity","出发地点不能和到达地点相同!"):(v.ctyf=e,y.router.go("#!/flightmb/join",{citytype:g,joindata:v},!0)):e==v.ctyt?(0,m.myalertp)("pickCity","选择的到达地点相同!"):e==v.ctyf?(0,m.myalertp)("pickCity","出发地点不能和到达地点相同!"):(v.ctyt=e,y.router.go("#!/flightmb/join",{citytype:g,joindata:v},!0)),o()};for(var a=y.qus(".hc-li"),t=0;t<a.length;t++)a[t].onclick=function(){var e=this.innerHTML;0==g?e==v.ctyf?(0,m.myalertp)("pickCity","选择的出发地点相同!"):e==v.ctyt?(0,m.myalertp)("pickCity","出发地点不能和到达地点相同!"):(v.ctyf=e,y.router.go("#!/flightmb/join",{citytype:g,joindata:v},!0)):e==v.ctyt?(0,m.myalertp)("pickCity","选择的到达地点相同!"):e==v.ctyf?(0,m.myalertp)("pickCity","出发地点不能和到达地点相同!"):(v.ctyt=e,y.router.go("#!/flightmb/join",{citytype:g,joindata:v},!0)),o()};for(var n=y.qus(".myCOde-a"),t=0;t<n.length;t++)n[t].onclick=function(){var e=this.innerHTML;y.id(e).scrollIntoView(!0)};var r=y.id("pickCity");r.onscroll=function(){r.scrollTop<50&&(y.qu(".wrap-ft").style.paddingTop="2.2rem")}}function o(){var e=y.id("pickCity");0!=e.scrollTop&&(e.scrollTop=0)}function l(e){for(var t=c(getPopCity()).results,a='<ul class="data-ul">'+d()+"</ul>",n="",r="",s=0;s<t.length;s++)n+='<li class="hc-li">'+t[s].info+"</li>";for(var s=0;s<e.length;s++)r+='<li class="hc-li">'+e[s]+"</li>";for(var i='<div class="div2 "><span class="sp1">热门城市</span><div class="div3"></div></div ><ul class="hc-ul clear hc-ul1 ">',o='<div class="div2 " id="divTop"><span class="sp1">历史查询</span><div class="div3"></div></div ><ul class="hc-ul clear hc-ul2">',l="</ul>",p=i+n+l,u=o+r+l,h='<div class="popup wrap-city"><p class="wrap-ft-p1"><a href="#" class="close-popup wrap-ft-ba">关闭</a></p><div class="wrap-ft"><div class="wrap-ft-wrap"> ',f="</div></div></div>",m="",y=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],s=0;s<y.length;s++)m+='<a href="#" class="myCOde-a">'+y[s]+"</a>";var b='<div class="mybar clear">'+m+"</div>",g=h+u+p+a+f+b;return g}function c(e){var t=new Function("return"+e)();return t}function p(){for(var e=c(getCityObj()).results,t=new Array,a=new Array,n=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r=0;r<n.length;r++){for(var s=n[r],i=new Array,o=e,l=0;l<o.length;l++)0==o[l].value.indexOf(s)&&i.push(o[l].info);t.push(i)}for(var r=0;r<n.length;r++)a.push(n[r]+","+t[r]);return a}function d(){for(var e=p(),t=new Array,a="",n=0;n<e.length;n++){var r=e[n].split(",");if(""==r[1])var s='<li id="'+r[0]+'" class="li-head li-head-dis">'+r[0]+"</li>";else for(var s='<li id="'+r[0]+'" class="li-head">'+r[0]+"</li>",i=1;i<r.length;i++)s+='<li class="li-body">'+r[i]+"</li>";t.push(s)}for(var o=0;o<t.length;o++)a+=t[o];return a}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=a(1),f=n(h),m=a(7),y=a(5),b=a(13),g="",v="",k=function(){function e(t){r(this,e),this.path="/flightmb/city$",this.hash="/flightmb/city",this.title="城市选择",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return u(e,[{key:"view",value:function(e){b?e(null,b):(0,m.getView)(f["default"].view.lotteryOpen+"?t="+ +new Date,"",function(t){b=t,e(null,b)})}},{key:"bind",value:function(e,t){console.log(t),g=t.citytype,v=t.joindata;var a=s();y.html(pickCity,l(a)),0==a.length&&(y.id("divTop").style.display="none",y.qu(".hc-ul2").style.display="none"),y.qu(".wrap-ft-ba").onclick=function(){y.router.go("#!/flightmb/join","",!1),o()},i()}}]),e}();t["default"]=k},function(e,t){e.exports='<div id="pickCity">\r\n\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function getCityCode(city){for(var citys=eval("("+getCityObj()+")").results,i=0;i<citys.length;i++)if(citys[i].info.toUpperCase()==city.toUpperCase())return citys[i].id}function toTOP(){var e=$.id("date-m");0!=e.scrollTop&&(e.scrollTop=0)}function eClick(e,t){e.onclick=function(){var e=$.firstChild(this).innerHTML;"今天"===e&&(e=(new Date).getDate());var a=$.lastChild(this).innerHTML,n=this.parentNode.parentNode.parentNode.id,r=$.nextNode($.firstChild($.firstChild($.id(n)))).innerHTML,s=new Date(r.replace(/-/g,"/"));if(void 0==a&&(a=getWeek(s.getDay())),""!=e){var i=r+"-"+e;if(1==TTitype){var o=adaeeChange(i),l=adaeeChange(t.timef),c=l.replace(/\-/g,""),p=o.replace(/\-/g,"");c>p?(0,_api.myalertp)("date","回程日期应该大于去程日期"):(t.timet=i,$.router.go("#!/flightmb/join",{timetype:TTitype,joindata:t},!0),toTOP())}else t.timef=i,$.router.go("#!/flightmb/join",{timetype:TTitype,joindata:t},!0),toTOP()}}}function adaeeChange(e){try{var t=e.split("-");e=t[0]+"",e+=1==t[1].length?"-0"+t[1]:"-"+t[1],e+=1==t[2].length?"-0"+t[2]:"-"+t[2]}catch(a){}return e}function getWeek(e){switch(e){case 0:return"周日";case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";case 6:return"周六"}}function returnDate(e,t,a,n,r){for(var s="",i=t,o=a,l=7,c="",p=0;p<l;p++)c+=calendar("calendar"+p,i,o,s,!1),o++,13==o&&(o=1,i++);$.html($.id(e),c)}function calendar(e,t,a,n,r){var s=parseInt(t)<1900?1900:parseInt(t);s=s>2030?2030:s;var i=parseInt(a,10)<1?1:parseInt(a,10);i=i>12?12:i;var o="<div class='calendar' id="+e+" date="+n+"><div class='calendar_t'>";return o+=r?"<div class='calendar_t_prev' onclick='changeCalendar(this,-1);'><</div><div class='calendar_t_day'>"+s+"-"+i+"</div><div class='calendar_t_next'onclick='changeCalendar(this,1);'>></div>":"<div class='calendar_t_prev'></div><div class='calendar_t_day'>"+s+"-"+i+"</div><div class='calendar_t_next'></div>",o+="<div class='clear'></div></div><div class='calendar_c'><div class='calendar_c_week'><div class='calendar_c_week_day'>日</div><div class='calendar_c_week_day'>一</div><div class='calendar_c_week_day'>二</div><div class='calendar_c_week_day'>三</div><div class='calendar_c_week_day'>四</div><div class='calendar_c_week_day'>五</div><div class='calendar_c_week_day'>六</div><div class='clear'></div></div><div class='calendar_c_box'>",o+=loadCalendar(s,i,n),o+="</div></div></div>"}function loadCalendar(e,t,a){var n="",r=new Date,s=r.getFullYear(),i=r.getMonth()+1,o=r.getDate(),l=(r.getDay(),[31,28,31,30,31,30,31,31,30,31,30,31]);e=e<1900?1900:e,e=e>2030?2030:e,t=t<1?1:t,t=t>12?12:t,l[1]=e%4==0?29:28,r.setFullYear(e,t-1,1);for(var c=r.getDay(),p=0;p<c;p++)n+="<div class='day dayEmpty dayWhite'><font class='thettn'></font><font class='thett thettn1'></font></div>";var d=0,u=0,h="¥750";h="";for(var p=1;p<=l[t-1];p++){var f=e+"-"+t+"-"+p,m=f.split("-");f=m[0]+"",f+=1==m[1].length?"-0"+m[1]:"-"+m[1],f+=1==m[2].length?"-0"+m[2]:"-"+m[2],f==a?e==s&&t==i&&p==o?(d=p+1,n+="<div class='day daySelect';' data="+f+"><font class='thett'>今天</font><font class='thett1'>"+h+"</font></div>"):p==d?(d=0,u=p+1,n+="<div class='day daySelect';' data="+f+"><font class='thett'>"+p+"</font><font class='thett1'>"+h+"</font><font style='display: none;'>明天</font></div>"):u==p?(u=0,n+="<div class='day daySelect';' data="+f+"><font class='thett'>"+p+"</font> <fontclass='thett1'>"+h+"</font><font style='display: none;'>后天</font></div>"):n+="<div class='day daySelect';' data="+f+"><font class='thett'>"+p+"</font> <font class='thett1'>"+h+"</font></div>":e<s?n+="<div class='day dayPrev dayGrey' data="+f+"><font class='thettn'>"+p+"</font><font class='thettn1'></font></div>":e==s?t<i?n+="<div class='day dayPrev dayGrey' data="+f+"><font class='thettn'>"+p+"</font><font class='thettn1'></font></div>":t==i?p<o?n+="<div class='day dayPrev dayGrey' data="+f+"><font class='thettn'>"+p+"</font><font class='thettn1'></font></div>":p==o?(d=p+1,n+="<div class='day dayNow';' data="+f+"><font class='thett'>今天</font> <font class='thett1' >"+h+"</font><font style='display: none;'>今天</font></div>"):p==d?(d=0,u=p+1,n+="<div class='day dayNext';' data="+f+"><font class='thett'>"+p+"</font> <font class='thett1' >"+h+"</font><font style='display: none;'>明天</font></div>"):n+=u==p?"<div class='day dayNext';' data="+f+"><font class='thett'>"+p+"</font> <font class='thett1' >"+h+"</font><font style='display: none;'>后天</font></div>":"<div class='day dayNext';' data="+f+"><font class='thett'>"+p+"</font> <font class='thett1'>"+h+"</font></div>":n+="<div class='day dayNext';' data="+f+"><font class='thett'>"+p+"</font> <font class='thett1' >"+h+"</font></div>":n+="<div class='day dayNext';' data="+f+"><font class='thett'>"+p+"</font> <font class='thett1'>"+h+"</font></div>"}return n+="<div class='clear'></div>"}function changeCalendar(e,t){var a=$(e).parents(".calendar"),n=a.find(".calendar_t_day").html(),r=n.split("-"),s=parseInt(r[0]),i=parseInt(r[1]),o=a.attr("date");t==-1?(i--,0==i&&(i=12,s--)):1==t&&(i++,13==i&&(i=1,s++));var l=loadCalendar(s,i,o);a.find(".calendar_t_day").html(s+"-"+i),a.find(".calendar_c_box").html(l)}function myAjaxGetLowpricepr(e,t){var a="",n="";n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),n.open("get","/icbc/ajax.aspx?from="+e+"&to="+t+"&act=GetLowPrice","true"),n.send(),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){a=JSON.parse(n.responseText);var e=[];for(var t in a)e.push(a[t]);for(var r=$.qus(".thett1"),s=0;s<e.length;s++)e[s]&&0!=e[s]?r[s].innerHTML="￥"+e[s]:r[s].innerHTML="￥--";for(var i=0;i<r.length;i++){var o=r[i];if(""==o.innerHTML){o.style.display="none";var l=$.firstChild(o.parentNode);l.style.height="40px",l.style.lineHeight="40px"}}}}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),$=__webpack_require__(5),_view=__webpack_require__(15),TTitype="",Ftime="",joindata="",_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/adate$",this.hash="/flightmb/adate",this.title="时间选择",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.lotteryOpen+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){(0,_api.setTitle)("时间选择"),console.log(t),TTitype=t.timetype,joindata=t.joindata,1==TTitype&&(Ftime=t.ftim);var a=new Date,n=new Date,r=a;r.setDate(r.getDate()+7),returnDate("date-m1",n.Format("yyyy"),n.Format("MM"),n.Format("dd"),1);for(var s=$.qus(".dayNext"),i=0;i<s.length;i++){var o=s[i];eClick(o,joindata)}eClick($.qu(".dayNow"),joindata),myAjaxGetLowpricepr(getCityCode(joindata.ctyf),getCityCode(joindata.ctyt)),$.id("dateBack").onclick=function(){$.router.go("#!/flightmb/join",{},!1)}}}]),e}();exports["default"]=_class,Date.prototype.Format=function(e){var t=e,a=["日","一","二","三","四","五","六"];return t=t.replace(/yyyy|YYYY/,this.getFullYear()),t=t.replace(/yy|YY/,this.getYear()%100>9?(this.getYear()%100).toString():"0"+this.getYear()%100),t=t.replace(/MM/,this.getMonth()>=9?(this.getMonth()+1).toString():"0"+(this.getMonth()+1)),t=t.replace(/M/g,this.getMonth()+1),t=t.replace(/w|W/g,a[this.getDay()]),t=t.replace(/dd|DD/,this.getDate()>9?this.getDate().toString():"0"+this.getDate()),t=t.replace(/d|D/g,this.getDate()),t=t.replace(/hh|HH/,this.getHours()>9?this.getHours().toString():"0"+this.getHours()),t=t.replace(/h|H/g,this.getHours()),t=t.replace(/mm/,this.getMinutes()>9?this.getMinutes().toString():"0"+this.getMinutes()),t=t.replace(/m/g,this.getMinutes()),t=t.replace(/ss|SS/,this.getSeconds()>9?this.getSeconds().toString():"0"+this.getSeconds()),t=t.replace(/s|S/g,this.getSeconds())}},function(e,t){e.exports='<div id="date">\r\n\t   <div id="date-t">\r\n\t   \t  <a  id=\'dateBack\' href="javascript:;">关闭</a>\r\n\t   </div>\r\n\t   <div id="date-m">\r\n\t   \t    <div id="date-m1"></div>\r\n\t   </div>\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function showyesNo(){for(var e=$.qus(".jtstop"),t=0;t<e.length;t++){var a=e[t].getAttribute("jtdata");0==a&&(e[t].style.display="none")}for(var n=$.qus(".shareno"),t=0;t<n.length;t++)"-"==n[t].innerHTML&&(n[t].parentNode.style.display="none")}function downpull(e,t,a,n){var r=$.id("detail-m1"),s=$.id("detail-m"),i=0,o=0;s.addEventListener("touchstart",function(e){var t=e.targetTouches[0];i=t.pageY},!1),s.addEventListener("touchmove",function(e){var t=e.targetTouches[0];r.style.top=r.offsetTop+t.pageY-i+"px",i=t.pageY,o=t.pageY-i},!1),s.addEventListener("touchend",function(n){i=0;var s=r.offsetTop;if(s>120&&(r.innerHTML="",myAjaxGetLowprice(getCityCode(e),getCityCode(t),a,searchtypeg),getLowPrict(a),tobeforetable()),s>0)var o=setInterval(function(){r.style.top=r.offsetTop-6+"px",r.offsetTop<=0&&(clearInterval(o),r.style.top=0)},1);if(s<-20)var l=setInterval(function(){r.style.top=r.offsetTop+6+"px",r.offsetTop>=0&&(clearInterval(l),r.style.top=0)},1)},!1)}function myAjaxGetLowprice(e,t,a,n){$.qu(".lodin").style.display="-webkit-box";var r={act:"SearchFlightICBCJson",org_city:e,dst_city:t,org_date:a,xsltPath:"HTML5",search_type:n.searchType},s=JSON.stringify(n),i="",o="";o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),o.open("get",flightUrl+"/icbc/ajax.aspx?isKyReq=1&jsoncallback=jQuery183011878398158009507_1481529281930&act="+r.act+"&org_city="+r.org_city+"&dst_city="+r.dst_city+"&org_date="+r.org_date+"&xsltPath=HTML5&search_type="+r.search_type+"&otherParam="+s+"&firstShowType=1&_=1481529832360","false"),
o.send(),o.onreadystatechange=function(){if(4==o.readyState)if(200==o.status)if($.qu(".lodin").style.display="none",""!=o.responseText){i=JSON.parse(o.responseText);var r=i.Flights,s=1,l=1;$.id("detail-m1").innerHTML=pullData(s,l,r),showyesNo();var c=removedata(getAllcp(r));toproduct(),pullCp(c),fCitydata(removedata(fCity(r)),removedata(toCity(r))),picBox(),thePrice(s,l,r),theTime(s,l,r),$.id("detail-fl1").onclick=function(){$.qu(".detail-fl1pick").style.top="-7.6rem"},$.id("fl1pick-h1s1").onclick=function(){$.qu(".detail-fl1pick").style.top="2.6rem"},$.id("fl1pick-h1s3").onclick=function(){$.id("detail-m1").innerHTML="",$.qu(".detail-fl1pick").style.top="2.6rem";for(var e=$.qus(".check_it"),t=[],a=[],n=[],i=[],o=0;o<e.length;o++)$.hasClass(e[o].parentNode.parentNode,"pickbox-time")&&t.push($.firstChild(e[o].parentNode).innerHTML),$.hasClass(e[o].parentNode.parentNode,"pickbox-cp")&&a.push($.firstChild(e[o].parentNode).innerHTML),$.hasClass(e[o].parentNode.parentNode,"pickbox-type")&&n.push($.firstChild(e[o].parentNode).innerHTML),$.hasClass(e[o].parentNode.parentNode,"pickbox-airport")&&i.push($.firstChild(e[o].parentNode).innerHTML);var c=youData(t,a,n,i,r);$.id("detail-m1").innerHTML=pullData(s,l,c),showyesNo(),thePrice(s,l,c),theTime(s,l,c),toproduct()}}else(0,_api.myalertp)("detail","航班查询超时,请继续查询",function(){myAjaxGetLowprice(e,t,a,n)});else(0,_api.myalertp)("detail","出错了，航班查询超时，Err"+o.status)}}function toproduct(){for(var e=$.qus(".dedata-wrap"),t=0;t<e.length;t++)e[t].onclick=function(){var e=$.id("detail-nowdata2").innerHTML,t=JSON.parse(this.getAttribute("data1")),a={prWen:e,prDate:this.getAttribute("flightdate"),arrtime:this.getAttribute("arrtime"),FlyTime:this.getAttribute("FlyTime"),fromairport:this.getAttribute("fromairport")+this.getAttribute("Terminal"),toairport:this.getAttribute("toairport")+this.getAttribute("arrhall"),carrierabb:this.getAttribute("carrierabb"),carrierabb1:this.getAttribute("carrierabb1"),carrierabb2:this.getAttribute("carrierabb2"),model:this.getAttribute("model"),RouteFrom:$.id("detailcity0").innerHTML,RouteTo:$.id("detailcity1").innerHTML,pulId:this.id,theCarrier:this.getAttribute("Carrier"),ZYtype:this.getAttribute("ZYtype"),Discount:this.getAttribute("Discount"),YPrice:this.getAttribute("YPrice"),RouteFromCode:this.getAttribute("RouteFromCode"),RouteToCode:this.getAttribute("RouteToCode"),Lmodel:this.getAttribute("model")+this.getAttribute("Modelchar"),Cabin:this.getAttribute("Cabin"),Terminal:this.getAttribute("Terminal"),JtStop:this.getAttribute("JtStop"),flight1data:t};if(""==backtype)$.router.go("#!/flightmb/product",{prData:a,prot:1,bdata:backdata},!0);else{var n=zhefromData.theCarrier1,r=a.theCarrier,s=zhefromData.thelowf.data1+zhefromData.thelowf.ttime,i=a.prDate+a.FlyTime;if(removeMh(s)-removeMh(i)>0)return(0,_api.myalertp)("detail","返程航班时间不能早于去程航班时间!请重新选择。"),!1;if(zhefromData.thelowf.data1+zhefromData.thelowf.ttime)var o=zhefromData.zytypep;if(1==o)if(r==n)$.router.go("#!/flightmb/product",{prData:a,prot:3,bdata:zhefromData},!0);else{switch(n){case"ZH":n="深圳航空";break;case"CZ":n="南方航空";break;case"3U":n="四川航空"}(0,_api.myalertp)("detail","请选择与去程同一航司直营航班，航司直营无法与其他航班混合下单。去程航司号为:"+n)}else $.router.go("#!/flightmb/product",{prData:a,prot:3,bdata:zhefromData},!0)}}}function initialAction(){$.id("detail-tms2").onclick=function(){var e=this.getAttribute("date"),t=$.id("detailcity0").innerHTML,a=$.id("detailcity1").innerHTML;$.qu(".detail-f-ulsp3").innerHTML="价格",$.qu(".detail-f-ulsp2").innerHTML="从早到晚",checkDateIsOK(e)&&changeDateOfTop(e),myAjaxGetLowprice(getCityCode(t),getCityCode(a),e,searchtypeg),getLowPrict(e)},$.id("detail-tms1").onclick=function(){var e=this.getAttribute("date"),t=$.id("detailcity0").innerHTML,a=$.id("detailcity1").innerHTML;$.qu(".detail-f-ulsp3").innerHTML="价格",$.qu(".detail-f-ulsp2").innerHTML="从早到晚",checkDateIsOK(e)&&(changeDateOfTop(e),myAjaxGetLowprice(getCityCode(t),getCityCode(a),e,searchtypeg),getLowPrict(e))}}function thePrice(e,t,a){var n=!0;$.id("detail-fl3").onclick=function(){$.qu(".detail-f-ulo2").style.background="#E4DCDC",$.qu(".detail-f-ulo3").style.background="#FCA40B",$.qu(".detail-f-ulsp2").innerHTML="时间",n?(t=1,e=2,$.qu(".detail-f-ulsp3").innerHTML="从低到高",n=!1):(t=2,e=2,$.qu(".detail-f-ulsp3").innerHTML="从高到低",n=!0),$.id("detail-m1").innerHTML=pullData(e,t,a),showyesNo(),toproduct()}}function theTime(e,t,a){var n=!0;$.id("detail-fl2").onclick=function(){$.qu(".detail-f-ulo2").style.background="#FCA40B",$.qu(".detail-f-ulo3").style.background="#E4DCDC",$.qu(".detail-f-ulsp3").innerHTML="价格",n?(t=2,e=1,$.qu(".detail-f-ulsp2").innerHTML="从晚到早",n=!1):(t=1,e=1,$.qu(".detail-f-ulsp2").innerHTML="从早到晚",n=!0),$.id("detail-m1").innerHTML=pullData(e,t,a);$.id("detail-m1").innerHTML;showyesNo(),toproduct()}}function tobeforetable(){$.qu(".detail-f-ulo2").style.background="#E4DCDC",$.qu(".detail-f-ulo3").style.background="#FCA40B",$.qu(".detail-f-ulsp2").innerHTML="从早到晚",$.qu(".detail-f-ulo2").style.background="#FCA40B",$.qu(".detail-f-ulo3").style.background="#E4DCDC",$.qu(".detail-f-ulsp3").innerHTML="价格"}function fCitydata(e,t){for(var a='<li ><span class="cityfrom"><em>北京</em>起飞</span></li>',n='<li class="pickbox-airport1"><span>不限</span><label class="check_it pickbox-airport11  "><input type="radio" value=" " name="airportFrom"></label></li>',r="",s='<li ><span class="cityto"><em>上海</em>降落</span></li>',i='<li class="pickbox-airport2 "><span>不限</span><label class="check_it pickbox-airport22"><input type="radio" value=" " name="airportTo"></label></li>',o="",l=0;l<e.length;l++)r+='<li class="pickbox-airport1"><span>'+e[l]+'</span><label ><input type="radio" value=" " name="airportFrom"></label></li>';for(var l=0;l<t.length;l++)o+='<li class="pickbox-airport2" ><span >'+t[l]+'</span><label ><input type="radio" value=" " name="airportTo"></label></li>';$.qu(".pickbox-airport").innerHTML=a+n+r+s+i+o}function youData(e,t,a,n,r){var s=[],i=[],o=[],l=[];if("不限"!=e[0]){s=[];var c=[];c.push(e[0].split("--",2)[0]),c.push(e[e.length-1].split("--",2)[1]);for(var p=strKo(c[0]),d=strKo(c[1]),u=0;u<r.length;u++){var h=strKo(r[u].FlyTime);p<=h&&h<=d&&s.push(r[u])}if(0==s.length)return""}else s=r;if("不限"!=t[0]){for(var f=0;f<t.length;f++)for(var u=0;u<r.length;u++)t[f]==r[u].CarrierAbb&&i.push(r[u]);if(0==i.length)return""}else i=r;if("不限"!=a[0]){for(var f=0;f<a.length;f++)for(var u=0;u<r.length;u++)a[f]==r[u].Model&&o.push(r[u]);if(0==o.length)return""}else o=r;if("不限"!=n[0]&&"不限"!=n[1]){for(var m=[],y=[],f=0;f<r.length;f++)n[0]==r[f].FromAirport&&m.push(r[f]);for(var f=0;f<m.length;f++)n[1]==m[f].ToAirport&&y.push(m[f]);l=y}else if("不限"!=n[0]&&"不限"==n[1]){for(var b=[],f=0;f<r.length;f++)n[0]==r[f].FromAirport&&b.push(r[f]);l=b}else if("不限"==n[0]&&"不限"==n[1])l=r;else if("不限"==n[0]&&"不限"!=n[1]){for(var g=[],f=0;f<r.length;f++)n[1]==r[f].ToAirport&&g.push(r[f]);l=g}for(var v=[],f=0;f<s.length;f++)for(var u=0;u<i.length;u++)s[f].CabinFlag==i[u].CabinFlag&&v.push(s[f]);for(var k=[],f=0;f<o.length;f++)for(var u=0;u<l.length;u++)o[f].CabinFlag==l[u].CabinFlag&&k.push(o[f]);for(var $=[],f=0;f<v.length;f++)for(var u=0;u<k.length;u++)v[f].CabinFlag==k[u].CabinFlag&&$.push(v[f]);return $}function strKo(e){return Number(e.split(":").join(""))}function picBox(){function e(e,t,a,n){for(var r=$.tags($.qu(e),"li"),s=1;s<r.length;s++)r[s].onclick=function(){if($.hasClass($.tags(this,"label")[0],n)){$.removeClass($.tags(this,"label")[0],n);for(var e=$.qus(a),r=0,s=0;s<e.length;s++)r+=$.hasClass(e[s],n);0==r&&$.addClass($.qu(t),n)}else $.removeClass($.qu(t),n),$.addClass($.tags(this,"label")[0],n);return!1};r[0].onclick=function(){for(var e=$.qus(a),r=0;r<e.length;r++)$.removeClass(e[r],n);$.addClass($.qu(t),n)}}for(var t=$.qus(".pickbox-airport2"),a=0;a<t.length;a++)t[a].onclick=function(){return $.hasClass($.lastChild(this),"check_it")?($.removeClass($.lastChild(this),"check_it"),$.addClass($.qu(".pickbox-airport22"),"check_it")):($.each(t,function(){$.removeClass($.lastChild(this),"check_it")}),$.addClass($.lastChild(this),"check_it")),!1};for(var n=$.qus(".pickbox-airport1"),a=0;a<n.length;a++)n[a].onclick=function(){return $.hasClass($.lastChild(this),"check_it")?($.removeClass($.lastChild(this),"check_it"),$.addClass($.qu(".pickbox-airport11"),"check_it")):($.each(n,function(){$.removeClass($.lastChild(this),"check_it")}),$.addClass($.lastChild(this),"check_it")),!1};for(var r=$.qus(".pickbox-title1"),a=0;a<r.length;a++)r[a].onclick=function(){$.each(r,function(){$.removeClass(this,"title-active")}),$.addClass(this,"title-active"),$.hasClass($.qu(".pickbox-title11"),"title-active")?($.each($.qus(".pickbox-mian"),function(){this.style.display="none"}),$.qu(".pickbox-time").style.display="block"):$.hasClass($.qu(".pickbox-title12"),"title-active")?($.each($.qus(".pickbox-mian"),function(){this.style.display="none"}),$.qu(".pickbox-cp").style.display="block"):$.hasClass($.qu(".pickbox-title13"),"title-active")?($.each($.qus(".pickbox-mian"),function(){this.style.display="none"}),$.qu(".pickbox-type").style.display="block"):$.hasClass($.qu(".pickbox-title14"),"title-active")&&($.each($.qus(".pickbox-mian"),function(){this.style.display="none"}),$.qu(".pickbox-airport").style.display="block")};e(".pickbox-time",".pickbox-time1",".pickbox-time2","check_it"),e(".pickbox-cp",".pickbox-cp1",".pickbox-cp2","check_it"),e(".pickbox-type",".pickbox-type1",".pickbox-type2","check_it"),$.id("fl1pick-h1s2").onclick=function(){allreMaddClass()}}function allreMaddClass(){function e(e){$.addClass($.qu(e),"check_it")}for(var t=$.tags($.qu(".detail-pickbox"),"label"),a=0;a<t.length;a++)$.hasClass(t[a],"check_it")&&$.removeClass(t[a],"check_it");for(var n=[".pickbox-time1",".pickbox-cp1",".pickbox-type1",".pickbox-airport11",".pickbox-airport22"],a=0;a<n.length;a++)e(n[a])}function pullData(e,t,a){if(""!=a){if(1==e)if(1==t)var n=a.sort(function(e,t){return strKo(e.FlyTime)-strKo(t.FlyTime)});else var n=a.sort(function(e,t){return strKo(t.FlyTime)-strKo(e.FlyTime)});else if(2==e)if(1==t)var n=a.sort(function(e,t){return e.Fare-t.Fare});else var n=a.sort(function(e,t){return t.Fare-e.Fare});for(var r="",s=0;s<n.length;s++)if(0==n[s].Cabins.length)r=r;else{var i=JSON.stringify(n[s].Cabins[0]);r+='<ul class="dedata-wrap" id="'+n[s].CabinFlag+'" ArrTime="'+n[s].ArrTime+'"  CabinLevel="'+n[s].CabinLevel+'"  ArrHall="'+n[s].ArrHall+'" ZYtype="'+n[s].Cabins[0].CabinType+'"  Model="'+n[s].Model+'"  CarrierAbb="'+n[s].CarrierAbb+n[s].Carrier+n[s].FlightNo+'" CarrierAbb1="'+n[s].CarrierAbb+'"  CarrierAbb2="'+n[s].Carrier+n[s].FlightNo+'"  FlightDate="'+n[s].FlightDate+'"  Terminal="'+n[s].Terminal+'"  ToAirport="'+n[s].ToAirport+'" FlyTime="'+n[s].FlyTime+'" FromAirport="'+n[s].FromAirport+'" RouteFrom="'+n[s].RouteFrom+'"  RouteTo="'+n[s].RouteTo+'" Carrier="'+n[s].Carrier+'" YPrice ="'+n[s].YPrice+'" Discount="'+n[s].Discount+'" RouteFromCode="'+n[s].RouteFromCode+'" RouteToCode="'+n[s].RouteToCode+'" ModelChar="'+n[s].ModelChar+'" Cabin="'+n[s].Cabin+'"  Terminal="'+n[s].Terminal+'" JtStop="'+n[s].JtStop+'" data1='+i+'><li class="d-wrapl1" ><span class="d-wrapl1-sp1">'+n[s].FlyTime+'</span><span class="d-wrapl1-sp2"><strong></strong></span><span class="d-wrapl1-sp3">'+n[s].ArrTime+'</span><span class="d-wrapl1-sp4">￥<em class="d-wrapl1price">'+n[s].Fare+'</em></span><span class="jtstop"   jtdata="'+n[s].JtStop+'">经停</span></li><li class="d-wrapl2"><span class="d-wrapl2-sp1">'+n[s].FromAirport+'</span><span class="d-wrapl2-sp2">'+n[s].ToAirport+'</span></li><li class="d-wrapl3"><img class="DF-logo" src="https://cos.uair.cn/mb/img/'+n[s].Carrier+'.png"/> <span class="d-wrapl3-sp1">'+n[s].CarrierAbb+n[s].Carrier+n[s].FlightNo+'</span><span class="d-wrapl3-sp2">'+n[s].Model+n[s].ModelChar+'</span></li><li class="d-wrapl4">共享:实际乘坐<span class="shareno">'+n[s].ShareNo+"</span></li></ul>"}return r}return"没有找到航班！"}function getAllcp(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].CarrierAbb);return t}function removedata(e){for(var t,a=((new Date).getTime(),[]),n=0;n<e.length;n++){t=!0;for(var r=0;r<a.length;r++)if(e[n]===a[r]){t=!1;break}t&&a.push(e[n])}return a.sort(function(e,t){return e-t})}function pullCp(e){for(var t='<li ><span>不限</span><label class="check_it pickbox-cp1"><input type="radio" value=" "></label></li>',a="",n=0;n<e.length;n++)a+="<li><span>"+e[n]+'</span><label class="pickbox-cp2"><input type="checkbox" value=" "></label></li>';$.qu(".pickbox-cp").innerHTML=t+a}function fCity(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].FromAirport);return t}function toCity(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].ToAirport);return t}function detailChange(e){try{var t=e.split("-");e=t[0]+"",e+=1==t[1].length?"-0"+t[1]:"-"+t[1],e+=1==t[2].length?"-0"+t[2]:"-"+t[2]}catch(a){}return e}function getPointedDate(e,t,a){Date.prototype.Format=function(e){var t=e,a=["日","一","二","三","四","五","六"];return t=t.replace(/yyyy|YYYY/,this.getFullYear()),t=t.replace(/yy|YY/,this.getYear()%100>9?(this.getYear()%100).toString():"0"+this.getYear()%100),t=t.replace(/MM/,this.getMonth()>=9?(this.getMonth()+1).toString():"0"+(this.getMonth()+1)),t=t.replace(/M/g,this.getMonth()+1),t=t.replace(/w|W/g,a[this.getDay()]),t=t.replace(/dd|DD/,this.getDate()>9?this.getDate().toString():"0"+this.getDate()),t=t.replace(/d|D/g,this.getDate()),t=t.replace(/hh|HH/,this.getHours()>9?this.getHours().toString():"0"+this.getHours()),t=t.replace(/h|H/g,this.getHours()),t=t.replace(/mm/,this.getMinutes()>9?this.getMinutes().toString():"0"+this.getMinutes()),t=t.replace(/m/g,this.getMinutes()),t=t.replace(/ss|SS/,this.getSeconds()>9?this.getSeconds().toString():"0"+this.getSeconds()),t=t.replace(/s|S/g,this.getSeconds())};var n=new Date,r=e.split("-");return n.setFullYear(r[0],parseInt(r[1]-1),r[2]),"+"==a?n.setDate(parseInt(r[2])+t):"-"==a&&n.setDate(parseInt(r[2])-t),n.Format("yyyy-MM-dd")}function getWeek(e){switch(e){case 0:return"周日";case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";case 6:return"周六"}}function checkDateIsOK(e){var t=urlTime1;return e<(new Date).Format("yyyy-MM-dd")?((0,_api.myalertp)("detail","历史航班不可查询！"),$.qu(".detail-tms1d2").style.display="none",$.qu(".detail-tms1d1").style.lineHeight="2.4rem",$.qu(".detail-tms1d1").style.color="#A6A5A5",$.id("detail-tmbn1").style.color="#A6A5A5",!1):($.qu(".detail-tms1d2").style.display="block",$.qu(".detail-tms1d1").style.lineHeight="1.9rem",$.qu(".detail-tms1d1").style.color="#fff",$.id("detail-tmbn1").style.color="#fff",!(""!=t&&(e=e.replace(/-/g,""),e=parseInt(e),t=t.replace(/-/g,""),t=parseInt(t),t>e))||((0,_api.myalertp)("detail","去程时间不能大于返程时间"),!1))}function changeDateOfTop(e){$.id("detail-m1").innerHTML="";var t=getPointedDate(e,1,"-"),a=getPointedDate(e,1,"+");$.id("detail-tms1").setAttribute("date",t),$.id("detail-tms2").setAttribute("date",a),$.id("detail-tmmai").setAttribute("date",e),$.id("detail-nowdata1").innerHTML=e;var n=new Date(e);$.id("detail-nowdata2").innerHTML=getWeek(n.getDay())}function getLowPrict(e){function t(e,t){var a="",r="";r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),r.open("get","/icbc/ajax.aspx?from="+e+"&to="+t+"&act=GetLowPrice","true"),r.send(),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){a=JSON.parse(r.responseText);var e=n.date,t=getPointedDate(e,1,"+"),s=getPointedDate(t,1,"+");for(var i in a){var o=i.replace(n.from+"_"+n.to+"_","");o==t&&($.id("detail-nowdata3").innerHTML=a[i]),o==e&&($.id("detail-odldata").innerHTML=a[i]),o==s&&($.id("detail-nexdata1").innerHTML=a[i])}zerofn()}}}var a=GetDateStrH(e,-24),n={from:getCityCode(urlFrom),to:getCityCode(urlTo),date:a};t(n.from,n.to)}function zerofn(){var e=$.id("detail-nexdata1").innerHTML,t=$.id("detail-nowdata3").innerHTML,a=$.id("detail-odldata").innerHTML;0==e?($.qu(".detail-tms2d1").style.height="2.4rem",$.qu(".detail-tms2d1").style.lineHeight="2.4rem",$.qu(".detail-tms2d2").style.display="none",$.qu(".detail-tmbn2img2").style.marginTop="0"):($.qu(".detail-tms2d1").style.height="1.3rem",$.qu(".detail-tms2d1").style.lineHeight="1.9rem",$.qu(".detail-tms2d2").style.display="inline-block",$.qu(".detail-tmbn2img2").style.marginTop="1rem"),0==a?($.qu(".detail-tms1d1").style.height="2.4rem",$.qu(".detail-tms1d1").style.lineHeight="2.4rem",$.qu(".detail-tms1d2").style.display="none",$.qu(".detail-tmbn1img1").style.marginTop="0"):($.qu(".detail-tms1d1").style.height="1.3rem",$.qu(".detail-tms1d1").style.lineHeight="1.9rem",$.qu(".detail-tms1d2").style.display="inline-block",$.qu(".detail-tmbn1img1").style.marginTop="1rem"),0==t?$.qu(".detail-tmmais4").style.display="none":$.qu(".detail-tmmais4").style.display="inline-block"}function GetDateStrH(e,t){var a=e.substring(0,4),n=e.substring(5,7)-1,r=e.substring(8,10),s=new Date(a,n,r);s.setHours(s.getHours()+t);var i=s.getFullYear(),o=s.getMonth()+1,l=s.getDate();return 1==(o+"").length&&(o="0"+o),1==(l+"").length&&(l="0"+l),i+"-"+o+"-"+l}function getCityName(code){for(var citys=eval("("+getCityObj()+")").results,i=0;i<citys.length;i++)if(citys[i].id.toUpperCase()==code.toUpperCase())return citys[i].info}function getCityCode(city){for(var citys=eval("("+getCityObj()+")").results,i=0;i<citys.length;i++)if(citys[i].info.toUpperCase()==city.toUpperCase())return citys[i].id}function toTOP(){var e=$.id("date-m");0!=e.scrollTop&&(e.scrollTop=0)}function removeMh(e){return parseInt(e.replace(/\:|\-/g,""))}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),$=__webpack_require__(5),_view=__webpack_require__(17),TTitype="",urlFrom="",urlTo="",urlTime="",urlTime1="",date2="",searchtype="",searchtypeg={},backdata={},backtype="",zhefromData="",Member="",ftime1="",pcnumdata="",_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/detail$",this.hash="/flightmb/detail",this.title="机票详情",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.lotteryOpen+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){console.log(t),1==t.cliktype?(urlFrom=t.citydetail1,urlTo=t.citydetail2,urlTime=t.timedetail1,urlTime1=t.timedetail2,backtype="",tobeforetable(),$.id("detail-nowdata3").innerHTML="",$.id("detail-odldata").innerHTML="",$.id("detail-nexdata1").innerHTML=""):2==t.cliktype?(urlTime=t.stime,urlTime1=t.bt,$.qu(".detail-tms1d2").style.display="block",$.qu(".detail-tms1d1").style.lineHeight="1.9rem",$.qu(".detail-tms1d1").style.color="#fff",$.id("detail-tmbn1").style.color="#fff"):4==t.cliktype?(urlFrom=t.searchbdata.bcity1,urlTo=t.searchbdata.bcity2,urlTime=t.searchbdata.btime,urlTime1="",backtype=t.searchbdata.backtype,zhefromData=t.ptbdata1,ftime1=t.ptbdata1.data1,pcnumdata=t.ptbdata1.pcnum+"_"+t.ptbdata1.theCa,t.Member):3==t.cliktype&&(urlTime=t.ptdata);var a=urlFrom,n=urlTo,r=urlTime;date2=urlTime1,r=detailChange(r),date2=detailChange(date2);var s=1;""!=date2?(s=2,$.qu(".detail-t2").style.display="block",$.qu(".detail-t2").innerHTML="去:"):(s=1,$.qu(".detail-t2").style.display="none",2==backtype&&($.qu(".detail-t2").style.display="block",$.qu(".detail-t2").innerHTML="返:")),$.id("detailcity0").innerHTML=a,$.id("detailcity1").innerHTML=n,changeDateOfTop(r),1==s?(searchtype=1,searchtypeg=4==t.cliktype?{backDate:r,goFlight:pcnumdata,goDate:detailChange(ftime1),searchType:3,adultCount:1,childCount:1}:{backDate:"",goFlight:"",goDate:r,searchType:1,adultCount:1,childCount:1},backdata={backtype:1}):(searchtype=2,searchtypeg={backDate:date2,goFlight:"",goDate:r,searchType:2,adultCount:1,childCount:1},backdata={btime:date2,bcity1:n,bcity2:a,backtype:2,searcht:2,ftime:r}),$.id("detail-tmmai").onclick=function(){var e=$.id("detailcity0").innerHTML,t=$.id("detailcity1").innerHTML;$.router.go("#!/flightmb/picktime",{backtime:urlTime1,searchtype:searchtype,cityf:e,cityt:t},!0)},myAjaxGetLowprice(getCityCode(a),getCityCode(n),r,searchtypeg),getLowPrict(r),initialAction(),$.qu(".detail-t1").onclick=function(){$.router.go("#!/flightmb/join","",!1)},$.qu(".d_home").onclick=function(){$.router.go("#!/flightmb/join","",!1)}}}]),e}();exports["default"]=_class},function(e,t){e.exports='\r\n\r\n<div id="detail">\r\n     <div class="lodin">\r\n         <img class="xhlog" src="https://cos.uair.cn/mb/img/xhlog.gif" />\r\n     </div>\r\n\r\n     <!-- <div class="lodin-p">\r\n          <div id="caseBlanche-p">\r\n            <div id="rond-p">\r\n              <div id="test-p"></div>\r\n            </div>\r\n            <div id="load-p">\r\n              <p>价格查询中...</p>\r\n            </div>\r\n          </div>\r\n     </div> -->\r\n     <div id="detail-t">\r\n        <span class="detail-t1">\r\n            <img  src="https://cos.uair.cn/mb/img/back.bg.png" alt="">\r\n        </span>\r\n        <div class="detailcity">\r\n           <span class="detail-t2"></span>\r\n           <span id="detailcity0"></span>\r\n           <span id="detailcity2">→</span>\r\n           <span id="detailcity1"></span>\r\n        </div>\r\n\r\n         <a href="tel:4000662188" class="d_phone"></a>\r\n         <img src="https://cos.uair.cn/mb/img/h_home.png" class="d_home" alt=""/>\r\n\r\n\r\n     </div>\r\n     <div id="detail-tm">\r\n         <div id="detail-tms1" >\r\n               <div id="detail-tmbn1">\r\n                  <img class="detail-tmbn1img1" src="https://cos.uair.cn/mb/img/back.bg.png" alt="">\r\n               </div>\r\n               <span class="detail-tms1d1">前一天</span>\r\n               <span class="detail-tms1d2">￥<em id="detail-odldata"></em></span>\r\n         </div>\r\n         <div id="detail-tmmai">\r\n               <span class="detail-tmmais1">\r\n                      <img src="https://cos.uair.cn/mb/img/data.png" alt="">\r\n               </span>\r\n               <span class="detail-tmmais2"><em id="detail-nowdata1"></em></span>\r\n               <span class="detail-tmmais3"><em id="detail-nowdata2"></em></span>\r\n               <span class="detail-tmmais4">￥<em id="detail-nowdata3"></em></span>\r\n               <span class="detail-tmmais5"></span>\r\n         </div>\r\n         <div id="detail-tms2" >\r\n               <span class="detail-tms2d1">后一天</span>\r\n               <span class="detail-tms2d2">￥<em id="detail-nexdata1"></em></span>\r\n               <div id="detail-tmbn2">\r\n                    <img class="detail-tmbn2img2" src="https://cos.uair.cn/mb/img/back1.bg.png" alt="">\r\n               </div>\r\n         </div>\r\n     </div>\r\n     <div id="detail-m">\r\n         <div id="detail-m1">\r\n\r\n         </div>\r\n     </div>\r\n     <div id="detail-f">\r\n        <ul class="detail-f-ul">\r\n          <li id="detail-fl1">\r\n               <div class="detail-f-uld">\r\n                   <img src="https://cos.uair.cn/mb/img/detail-f-bg1.png" alt="">\r\n               </div>\r\n\r\n              <span class="detail-f-ulsp detail-f-ulsp1">筛选</span>\r\n              <div class="detail-f-ulo"></div>\r\n\r\n          </li>\r\n          <li id="detail-fl2">\r\n               <div class="detail-f-uld">\r\n                   <img src="https://cos.uair.cn/mb/img/detail-f-bg2.png" alt="">\r\n               </div>\r\n\r\n              <span class="detail-f-ulsp detail-f-ulsp2">从早到晚</span>\r\n               <div class="detail-f-ulo2"></div>\r\n          </li>\r\n          <li id="detail-fl3">\r\n                <div class="detail-f-uld">\r\n                   <img src="https://cos.uair.cn/mb/img/detail-f-bg3.png" alt="">\r\n                </div>\r\n\r\n              <span class="detail-f-ulsp detail-f-ulsp3">价格</span>\r\n               <div class="detail-f-ulo3"></div>\r\n          </li>\r\n        </ul>\r\n        <div class="detail-fl1pick">\r\n             <ul class="detail-fl1pick-h">\r\n                 <li class="fl1pick-h1"><span id="fl1pick-h1s1" >取消</span></li>\r\n                 <li class="fl1pick-h1"><span id="fl1pick-h1s2" >清空筛选</span></li>\r\n                 <li class="fl1pick-h1"><span id="fl1pick-h1s3" >确定</span></li>\r\n             </ul>\r\n             <div class="detail-pickbox">\r\n                  <ul class="pickbox-title">\r\n                      <li class="title-active pickbox-title1 pickbox-title11">起飞时间</li>\r\n                      <li class="pickbox-title1 pickbox-title12">航空公司</li>\r\n                      <li class="pickbox-title1 pickbox-title13">机型</li>\r\n                      <li class="pickbox-title1 pickbox-title14">机场</li>\r\n                  </ul>\r\n                  <ul class="pickbox-mian pickbox-time">\r\n                      <li >\r\n                          <span>不限</span>\r\n                         <label class="check_it pickbox-time1"><input type="radio" value=" "></label>\r\n                      </li>\r\n\r\n                      <li >\r\n                          <span>6:00--12:00</span>\r\n                         <label class="pickbox-time2"><input type="checkbox" value=" "></label>\r\n                      </li>\r\n                      <li >\r\n                          <span>12:00--18:00</span>\r\n                          <label class="pickbox-time2" ><input type="checkbox" value=" "></label>\r\n                      </li>\r\n                      <li >\r\n                          <span>18:00--24:00</span>\r\n                          <label class="pickbox-time2" ><input type="checkbox" value=" "></label>\r\n                      </li>\r\n                  </ul>\r\n                  <ul class="pickbox-mian pickbox-cp">\r\n\r\n                  </ul>\r\n                  <ul class="pickbox-mian pickbox-type">\r\n                     <li >\r\n                         <span>不限</span>\r\n                        <label class="check_it pickbox-type1"><input type="radio" value=" "></label>\r\n                     </li>\r\n                     <li>\r\n                         <span>小型机</span>\r\n                         <label class="pickbox-type2"><input type="checkbox" value=" "></label>\r\n                     </li>\r\n                     <li >\r\n                         <span>中型机</span>\r\n                         <label class=" pickbox-type2"  >\r\n                            <input type="checkbox" value=" ">\r\n                         </label>\r\n                     </li>\r\n                     <li >\r\n                         <span>大型机</span>\r\n                         <label class=" pickbox-type2"  >\r\n                            <input type="checkbox" value=" ">\r\n                         </label>\r\n                      </li>\r\n                  </ul>\r\n                  <ul class="pickbox-mian pickbox-airport">\r\n\r\n                  </ul>\r\n             </div>\r\n        </div>\r\n     </div>\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function getCityCode(city){for(var citys=eval("("+getCityObj()+")").results,i=0;i<citys.length;i++)if(citys[i].info.toUpperCase()==city.toUpperCase())return citys[i].id}function picktimedateChange(e){try{var t=e.split("-");e=t[0]+"",e+=1==t[1].length?"-0"+t[1]:"-"+t[1],e+=1==t[2].length?"-0"+t[2]:"-"+t[2]}catch(a){}return e}function toTOP(){var e=$.id("date-m");0!=e.scrollTop&&(e.scrollTop=0)}function eClick(e){e.onclick=function(){var e=$.firstChild(this).innerHTML;"今天"===e&&(e=nDt.getDate());var t=$.lastChild(this).innerHTML,a=this.parentNode.parentNode.parentNode.id,n=$.nextNode($.firstChild($.firstChild($.id(a)))).innerHTML,r=new Date(n.replace(/-/g,"/"));if(void 0==t&&(t=getWeek(r.getDay())),""!=e){var s=n+"-"+e,i=t;""==pbackt?($.router.go("#!/flightmb/detail",{cliktype:2,timetype:TTitype,stime:s,sprice:i,bt:pbackt},!0),toTOP()):pbackt1<picktimedateChange(s)?(0,_api.myalertp)("datep","去程日期不能大于返程日期"):($.router.go("#!/flightmb/detail",{cliktype:2,timetype:TTitype,stime:s,bt:pbackt,sprice:i},!0),toTOP())}}}function getWeek(e){switch(e){case 0:return"周日";case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";case 6:return"周六"}}function returnDate(e,t,a,n,r){for(var s="",i=t,o=a,l=7,c="",p=0;p<l;p++)c+=calendar("calendar"+p,i,o,s,!1),o++,13==o&&(o=1,i++);$.html($.id(e),c)}function calendar(e,t,a,n,r){var s=parseInt(t)<1900?1900:parseInt(t);s=s>2030?2030:s;var i=parseInt(a,10)<1?1:parseInt(a,10);i=i>12?12:i;var o="<div class='calendar' id="+e+" date="+n+"><div class='calendar_t'>";return o+=r?"<div class='calendar_t_prev' onclick='changeCalendar(this,-1);'><</div><div class='calendar_t_day'>"+s+"-"+i+"</div><div class='calendar_t_next'onclick='changeCalendar(this,1);'>></div>":"<div class='calendar_t_prev'></div><div class='calendar_t_day'>"+s+"-"+i+"</div><div class='calendar_t_next'></div>",o+="<div class='clear'></div></div><div class='calendar_c'><div class='calendar_c_week'><div class='calendar_c_week_day'>日</div><div class='calendar_c_week_day'>一</div><div class='calendar_c_week_day'>二</div><div class='calendar_c_week_day'>三</div><div class='calendar_c_week_day'>四</div><div class='calendar_c_week_day'>五</div><div class='calendar_c_week_day'>六</div><div class='clear'></div></div><div class='calendar_c_box'>",o+=loadCalendar(s,i,n),o+="</div></div></div>"}function loadCalendar(e,t,a){var n="",r=new Date,s=r.getFullYear(),i=r.getMonth()+1,o=r.getDate(),l=(r.getDay(),[31,28,31,30,31,30,31,31,30,31,30,31]);e=e<1900?1900:e,e=e>2030?2030:e,t=t<1?1:t,t=t>12?12:t,l[1]=e%4==0?29:28,r.setFullYear(e,t-1,1);for(var c=r.getDay(),p=0;p<c;p++)n+="<div class='day dayEmpty dayWhite'><font class='thettpn'></font><font class='thettpn thettp1n'></font></div>";var d=0,u=0,h="￥750";h="";for(var p=1;p<=l[t-1];p++){var f=e+"-"+t+"-"+p,m=f.split("-");f=m[0]+"",f+=1==m[1].length?"-0"+m[1]:"-"+m[1],f+=1==m[2].length?"-0"+m[2]:"-"+m[2],f==a?e==s&&t==i&&p==o?(d=p+1,n+="<div class='day daySelect';' data="+f+"><font class='thettp'>今天</font><font class='thettp1'>"+h+"</font><font style='display: none;'>今天</font></div>"):p==d?(d=0,u=p+1,n+="<div class='day daySelect';' data="+f+"><font class='thettp'>"+p+"</font><font class='thettp1'>"+h+"</font><font style='display: none;'>明天</font></div>"):u==p?(u=0,n+="<div class='day daySelect';' data="+f+"><font class='thettp'>"+p+"</font><fontclass='thettp1'>"+h+"</font><font style='display: none;'>后天</font></div>"):n+="<div class='day daySelect';' data="+f+"><font class='thettp'>"+p+"</font><font class='thettp1'>"+h+"</font></div>":e<s?n+="<div class='day dayPrev dayGrey' data="+f+"><font class='thettpn'>"+p+"</font><font class='thettp1n'></font></div>":e==s?t<i?n+="<div class='day dayPrev dayGrey' data="+f+"><font class='thettpn'>"+p+"</font><font class='thettp1n'></font></div>":t==i?p<o?n+="<div class='day dayPrev dayGrey' data="+f+"><font class='thettpn'>"+p+"</font><font class='thettp1n'></font></div>":p==o?(d=p+1,n+="<div class='day dayNow';' data="+f+"><font class='thettp'>今天</font><font class='thettp1' >"+h+"</font><font style='display: none;'>今天</font></div>"):p==d?(d=0,u=p+1,n+="<div class='day dayNext';' data="+f+"><font class='thettp'>"+p+"</font><font class='thettp1' >"+h+"</font><font style='display: none;'>明天</font></div>"):n+=u==p?"<div class='day dayNext';' data="+f+"><font class='thettp'>"+p+"</font><font class='thettp1' >"+h+"</font><font style='display: none;'>后天</font></div>":"<div class='day dayNext';' data="+f+"><font class='thettp'>"+p+"</font><font class='thettp1'>"+h+"</font></div>":n+="<div class='day dayNext';' data="+f+"><font class='thettp'>"+p+"</font><font class='thettp1' >"+h+"</font></div>":n+="<div class='day dayNext';' data="+f+"><font class='thettp'>"+p+"</font><font class='thettp1'>"+h+"</font></div>";
}return n+="<div class='clear'></div>"}function changeCalendar(e,t){var a=$(e).parents(".calendar"),n=a.find(".calendar_t_day").html(),r=n.split("-"),s=parseInt(r[0]),i=parseInt(r[1]),o=a.attr("date");t==-1?(i--,0==i&&(i=12,s--)):1==t&&(i++,13==i&&(i=1,s++));var l=loadCalendar(s,i,o);a.find(".calendar_t_day").html(s+"-"+i),a.find(".calendar_c_box").html(l)}function myLowpricepick(e,t){var a="",n="";n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),n.open("get","/icbc/ajax.aspx?from="+e+"&to="+t+"&act=GetLowPrice","true"),n.send(),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){a=JSON.parse(n.responseText);var e=[];for(var t in a)e.push(a[t]);for(var r=$.qus(".thettp1"),s=0;s<e.length;s++)e[s]&&0!=e[s]?r[s].innerHTML="￥"+e[s]:r[s].innerHTML="￥--";for(var i=0;i<r.length;i++){var o=r[i];if(""==o.innerHTML){o.style.display="none";var l=$.firstChild(o.parentNode);l.style.height="40px",l.style.lineHeight="40px"}}}}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),$=__webpack_require__(5),_view=__webpack_require__(19),TTitype="",pbackt="",pbackt1="",searchtypep="",nowDate=new Date,nDt=new Date,_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/picktime$",this.hash="/flightmb/picktime",this.title="时间选择",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.lotteryOpen+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){console.log(t),pbackt=t.backtime,searchtypep=t.searchtype,""!=pbackt&&(pbackt1=picktimedateChange(pbackt));var a=nowDate;a.setDate(a.getDate()+7),returnDate("date-m1",nDt.Format("yyyy"),nDt.Format("MM"),nDt.Format("dd"),1);for(var n=$.qus(".dayNext"),r=0;r<n.length;r++){var s=n[r];eClick(s)}eClick($.qu(".dayNow")),myLowpricepick(getCityCode(t.cityf),getCityCode(t.cityt)),$.id("dateBack").onclick=function(){$.router.go("#!/flightmb/detail",{},!1)}}}]),e}();exports["default"]=_class,Date.prototype.Format=function(e){var t=e,a=["日","一","二","三","四","五","六"];return t=t.replace(/yyyy|YYYY/,this.getFullYear()),t=t.replace(/yy|YY/,this.getYear()%100>9?(this.getYear()%100).toString():"0"+this.getYear()%100),t=t.replace(/MM/,this.getMonth()>=9?(this.getMonth()+1).toString():"0"+(this.getMonth()+1)),t=t.replace(/M/g,this.getMonth()+1),t=t.replace(/w|W/g,a[this.getDay()]),t=t.replace(/dd|DD/,this.getDate()>9?this.getDate().toString():"0"+this.getDate()),t=t.replace(/d|D/g,this.getDate()),t=t.replace(/hh|HH/,this.getHours()>9?this.getHours().toString():"0"+this.getHours()),t=t.replace(/h|H/g,this.getHours()),t=t.replace(/mm/,this.getMinutes()>9?this.getMinutes().toString():"0"+this.getMinutes()),t=t.replace(/m/g,this.getMinutes()),t=t.replace(/ss|SS/,this.getSeconds()>9?this.getSeconds().toString():"0"+this.getSeconds()),t=t.replace(/s|S/g,this.getSeconds())}},function(e,t){e.exports='<div id="datep">\r\n\t   <div id="date-t">\r\n\t   \t  <a  id=\'dateBack\' href="javascript:;">关闭</a>\r\n\t   </div>\r\n\t   <div id="date-m">\r\n\t   \t    <div id="date-m1"></div>\r\n\t   </div>\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pullHeadphone(e){var t=$.qu(".p_phone");"CZ"==e?getCZphone("CZ",t):getCZphone("XHSV",t)}function productPulldata(e){$.id("productcity0").innerHTML=e.RouteFrom,$.id("productcity1").innerHTML=e.RouteTo,$.id("ptime").innerHTML=e.prDate,$.id("pwen").innerHTML=e.prWen,timetobf(e.FlyTime,e.arrtime),$.qu(".phw-ml1sp1").innerHTML=e.FlyTime,$.qu(".phw-ml1sp2").innerHTML=e.arrtime,$.qu(".phw-ml3sp1").innerHTML=e.fromairport,$.qu(".phw-ml31sp2").innerHTML=e.toairport,$.id("pc").innerHTML=e.carrierabb,$.id("plane").innerHTML=e.model,0==e.JtStop?$.qu(".theJT").style.display="none":$.qu(".theJT").style.display="block",flight1=e.flight1data,theCarrier=e.theCarrier,theID=e.pulId,tobookdata1={data1:e.prDate,pc:e.carrierabb1,pcnum:e.carrierabb2,ftime:e.FlyTime,fplace:e.RouteFrom,fport:e.fromairport,ttime:e.arrtime,tplace:e.RouteTo,tport:e.toairport,ZYtype:e.ZYtype,theCarrier1:e.theCarrier,YPrice:e.YPrice,RouteFromCode:e.RouteFromCode,RouteToCode:e.RouteToCode,Lmodel:e.Lmodel,Cabin1:e.Cabin,Terminal:e.Terminal},tobookdata12=deepCopy(tobookdata1),myAjaxGetLowprice(theID,flight1,theCarrier)}function timetobf(e,t){var a=60*Number(e.split(":")[0])+Number(e.split(":")[1]),n=60*Number(t.split(":")[0])+Number(t.split(":")[1]),r=parseInt((n-a)/60),s=(n-a)%60;r<0&&(r+=23,s+=60),$.id("pH1").innerHTML=r,$.id("pH2").innerHTML=s}function myAjaxGetLowprice(e,t,a){var n={act:"SearchByCabinFlagJson",cabinFlag:e},r=[],s="";s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),s.open("get",flightUrl+"/icbc/ajax.aspx?isKyReq=1&act="+n.act+"&cabinFlag="+n.cabinFlag,"false"),s.send(),s.onreadystatechange=function(){if(4==s.readyState)if(200==s.status){if(""!=s.responseText){var e=JSON.parse(s.responseText);e.unshift(t),r=e}else r.push(t);console.log(r),$.qu(".pro-main-wrap").innerHTML="",proPulldatanew(r,a),datashow(),getjiad(),ptoMybook(),getChangeData()}else(0,_api.myalertp)("myproduct","出错了，获取产品出错。")}}function getloapriceflight(e){for(var t=e,a=deepCopy(e),n=$.qus(".promiandata-l3"),r="",s="",i=0,o=[],l=[],c=[],p=0;p<n.length;p++){var d=n[p].getAttribute("zytypep"),u=n[p].getAttribute("discount"),h=n[p].getAttribute("cabinlevel").indexOf("经济");if(1==isTripp){if(1==d)if(h!=-1){var f=u;f="全价"==f?"10":u.replace("折",""),o.push(Number(f)),l.push(n[p])}else c.push(n[p])}else if(0==d)if(h!=-1){var f=u;f="全价"==f?"10":u.replace("折",""),o.push(Number(f)),l.push(n[p])}else c.push(n[p])}var m={floatnum:2,min:7,max:8},y=o.length;0!=y?(1==y?i=0:y>=2&&(i=o[0]>=m.min?0:o[1]<=o[0]+m.floatnum&&o[1]<m.max?1:0),r=l[i]):r=c[0],t.pice1=r.getAttribute("proprice"),t.theCa=r.getAttribute("seachprice"),t.CabinType=r.getAttribute("cabinType"),t.InsureType=r.getAttribute("insureType"),t.zytypep=r.getAttribute("zytypep"),t.hbjine=r.getAttribute("hbjine"),t.hashongbao=r.getAttribute("hashongbao"),t.isTrippok=r.getAttribute("isTrippok"),t.ZhPolicyId=r.getAttribute("ZhPolicyId"),t.cabindesc=r.getAttribute("cabindesc"),t.sequencenumber=r.getAttribute("sequencenumber"),t.cbcount=r.getAttribute("CbCount"),t.discount=r.getAttribute("Discount"),t.cabinlevel=r.getAttribute("cabinlevel"),s=0!=l.length?l[0]:c[0],a.pice1=s.getAttribute("proprice"),a.theCa=s.getAttribute("seachprice"),a.CabinType=s.getAttribute("cabinType"),a.InsureType=s.getAttribute("insureType"),a.zytypep=s.getAttribute("zytypep"),a.hbjine=s.getAttribute("hbjine"),a.hashongbao=s.getAttribute("hashongbao"),a.isTrippok=s.getAttribute("isTrippok"),a.ZhPolicyId=s.getAttribute("ZhPolicyId"),a.cabindesc=s.getAttribute("cabindesc"),a.sequencenumber=s.getAttribute("sequencenumber"),a.cbcount=s.getAttribute("CbCount"),a.discount=s.getAttribute("Discount"),a.cabinlevel=s.getAttribute("cabinlevel"),thelowf=t,thelowfo=a}function deepCopy(e){var t={};for(var a in e)t[a]="object"===_typeof(e[a])?deepCoyp(e[a]):e[a];return t}function ptoMybook(){$.each($.qus(".promiandata-l3"),function(){this.onclick=function(){tobookdata1.pice1=this.getAttribute("proprice"),tobookdata1.theCa=this.getAttribute("seachprice"),tobookdata1.CabinType=this.getAttribute("cabinType"),tobookdata1.InsureType=this.getAttribute("insureType"),tobookdata1.zytypep=this.getAttribute("zytypep"),tobookdata1.hbjine=this.getAttribute("hbjine"),tobookdata1.hashongbao=this.getAttribute("hashongbao"),tobookdata1.isTrippok=this.getAttribute("isTrippok"),tobookdata1.ZhPolicyId=this.getAttribute("ZhPolicyId"),tobookdata1.cabindesc=this.getAttribute("cabindesc"),tobookdata1.sequencenumber=this.getAttribute("sequencenumber"),tobookdata1.cbcount=this.getAttribute("CbCount"),tobookdata1.discount=this.getAttribute("Discount"),tobookdata1.cabinlevel=this.getAttribute("cabinlevel");var e=getbasep();if(3==backprtyep){var t=fitstData.zytypep,a=tobookdata1.zytypep,n="抱歉，您还未登陆，请前往登陆页面~~";if(1==t)if(1==a){tobookdata1.thelowf=thelowf,tobookdata1.thelowfo=thelowfo;var r={pbtype:3,ptbdata1:tobookdata1,ptbdata2:fitstData,Member:Member,pfjprice:e,isclearps:1},s=JSON.stringify(r);(0,_api.userOnoffpp)("p",function(){$.router.go("#!/flightmb/book",{pbtype:3,ptbdata1:tobookdata1,ptbdata2:fitstData,Member:Member,pfjprice:e,isclearps:1},!0)},"myproduct",".lodinp",s,n,1)}else(0,_api.myalertp)("myproduct","请选择与去程同一航司直营航班，航司直营无法与其他航班混合下单。");else if(0==a){tobookdata1.thelowf=thelowf,tobookdata1.thelowfo=thelowfo;var r={pbtype:3,ptbdata1:tobookdata1,ptbdata2:fitstData,Member:Member,pfjprice:e,isclearps:1},s=JSON.stringify(r);(0,_api.userOnoffpp)("p",function(){$.router.go("#!/flightmb/book",{pbtype:3,ptbdata1:tobookdata1,ptbdata2:fitstData,Member:Member,pfjprice:e,isclearps:1},!0)},"myproduct",".lodinp",s,n,1)}else(0,_api.myalertp)("myproduct","请选择与去程同一航司直营航班，航司直营无法与其他航班混合下单。")}else if(1==backprtyep){tobookdata1.thelowf=thelowf,tobookdata1.thelowfo=thelowfo;var r={pbtype:3,ptbdata1:tobookdata1,ptbdata2:"",Member:Member,pfjprice:e,isclearps:1},s=JSON.stringify(r);(0,_api.userOnoffpp)("p",function(){$.router.go("#!/flightmb/book",{pbtype:3,ptbdata1:tobookdata1,ptbdata2:"",Member:Member,pfjprice:e,isclearps:1},!0)},"myproduct",".lodinp",s,n,1)}else 2==backprtyep&&(tobookdata1.thelowf=thelowf,tobookdata1.thelowfo=thelowfo,myfromData=tobookdata1,$.router.go("#!/flightmb/detail",{cliktype:4,ptbdata1:myfromData,searchbdata:backdatapro,thelowf:thelowf},!0))}})}function getbasep(){for(var e=$.qus(".promiandata-l3"),t="",a="",n="",r="",s=0;s<e.length;s++){var i=$.attr(e[s],"seachprice");"P"==i?t=$.attr(e[s],"proprice"):"J"==i?r=$.attr(e[s],"proprice"):"F"==i?a=$.attr(e[s],"proprice"):"G"==i&&(n=$.attr(e[s],"proprice"))}var o={P:t,F:a,G:n,J:r};return o}function proPulldatanew(e,t){for(var a=[],n=[],r=0;r<e.length;r++)6==e[r].CabinType||1==isTripp?a.push(e[r]):n.push(e[r]);var s=a.length,i=n.length,o="";if(0==s&&0!=i)for(r=0;r<i;r++)o+=creathtmlxh(n[r],1);else if(0!=s&&0==i)for(r=0;r<s;r++)o+=creathtmlzy(a[r],2);else o=0!=s&&0!=i?newhtmlfn(a,2,t)+newhtmlfn(n,1,t):"暂时没有数据";$.qu(".pro-main-wrap").innerHTML=o,$.each($.qus(".themore1"),function(){"false"==$.attr(this,"hashongbaoe")&&(this.style.display="none")}),getloapriceflight(tobookdata12)}function datashow(){var e=$.qus(".xhflight"),t=$.qus(".zyflight"),a=$.qu(".fmoret"),n=$.qu(".fmoretz"),r=!0,s=!0;a&&(a.onclick=function(){if(r){for(var t=0;t<e.length;t++)$.removeClass(e[t],"xhflight");r=!1}else{for(var a=0;a<e.length;a++)$.addClass(e[a],"xhflight");r=!0}}),n&&(n.onclick=function(){if(s){for(var e=0;e<t.length;e++)t[e].style.display="block";s=!1}else{for(var e=0;e<t.length;e++)t[e].style.display="none";s=!0}})}function newhtmlfn(e,t,a){var n=e.length,r="",s="",i="",o="",l="";if(1==t){if(0!=n){if(n>1){s='<ul class="promiandata"><li class="promiandata-l1"><span class="prprice">￥<strong class="theprice">'+e[0].Fare+'</strong></span><span class="themore1" Hashongbaoe="'+e[0].Hashongbao+'" ><span class="lite">红包立减</span><em class="litep">￥</em><em class="themore">'+e[0].HBJinE+'</em></span></li><li class="promiandata-l2"><strong class="thecabin">'+e[0].CabinLevel+'</strong><span class="numticks"><em class="onlybn" style="display: none;">仅</em><em class="prnum">'+e[0].CbCount+'张</em><em class="prmove ">+</em></span><span class="thediscount">'+e[0].Discount+'</span></li><li class=" promiandata-l4" ><span class="promiandata-l3" proprice ="'+e[0].Fare+'" seachprice="'+e[0].Cabin+'" CabinType="'+e[0].CabinType+'" InsureType="'+e[0].InsureType+'"  zytypep =0  isTrippok=2   HBJinE="'+e[0].HBJinE+'" Hashongbao ="'+e[0].Hashongbao+'"  ZhPolicyId =1  cabinDesc =""  sequenceNumber =""  CbCount="'+e[0].CbCount+'"  discount="'+e[0].Discount+'" cabinLevel="'+e[0].CabinLevel+'" >预订</span></li><li class="promiandata-l5"><span class="changepage" data="'+e[0].Cabin+'" prPRice="'+e[0].Fare+'" CabinLevel="'+e[0].CabinLevel+'" >退改签规定</span><span class="xhcredit ">该航班支持授信月结</span><span class="fmoret"  >更多舱位<img class="fmore" src="https://cos.uair.cn/mb/img/botom.png" alt=""></span></li></ul>';for(var c=1;c<e.length;c++)i+=creathtmlxh(e[c],2);return r=s+i}return s='<ul class="promiandata"><li class="promiandata-l1"><span class="prprice">￥<strong class="theprice">'+e[0].Fare+'</strong></span><span class="themore1" Hashongbaoe="'+e[0].Hashongbao+'" ><span class="lite">红包立减</span><em class="litep">￥</em><em class="themore">'+e[0].HBJinE+'</em></span></li><li class="promiandata-l2"><strong class="thecabin">'+e[0].CabinLevel+'</strong><span class="numticks"><em class="onlybn" style="display: none;">仅</em><em class="prnum">'+e[0].CbCount+'张</em><em class="prmove ">+</em></span><span class="thediscount">'+e[0].Discount+'</span></li><li class=" promiandata-l4" ><span class="promiandata-l3" proprice ="'+e[0].Fare+'" seachprice="'+e[0].Cabin+'" CabinType="'+e[0].CabinType+'" InsureType="'+e[0].InsureType+'"  zytypep =0  isTrippok=2   HBJinE="'+e[0].HBJinE+'" Hashongbao ="'+e[0].Hashongbao+'"  ZhPolicyId =1  cabinDesc =""  sequenceNumber =""  CbCount="'+e[0].CbCount+'"  discount="'+e[0].Discount+'" cabinLevel="'+e[0].CabinLevel+'"  >预订</span></li><li class="promiandata-l5"><span class="changepage" data="'+e[0].Cabin+'" prPRice="'+e[0].Fare+'" CabinLevel="'+e[0].CabinLevel+'" >退改签规定</span><span class="xhcredit ">该航班支持授信月结</span></li></ul>',r=s}return r=""}var p="",d="";switch(a){case"ZH":p="img/zy_ZH",d="无差旅月结,无配送";break;case"CZ":p="img/zy_CZ",d="差旅月结,无配送";break;case"3U":p="img/zy_3U",d="无差旅月结,无保险,无配送";break;case"HU":p="img/zy_HU",d="无差旅月结,无保险,无配送"}if(0!=n){var u=0;if(u=1==isTripp?1:0,null==e[0].ZhPolicyId&&(e[0].ZhPolicyId=1),e[0].ChOtherParam?(o=e[0].ChOtherParam.cabinDesc,l=e[0].ChOtherParam.sequenceNumber):(o="",l=""),n>1){s='<ul class="promiandata"><li class="promiandata-l1"><span class="prprice">￥<strong class="theprice">'+e[0].Fare+'</strong></span><span class="themore1" Hashongbaoe=0 style=" color: #e61515;padding-left: 0.2rem;" >官方直营</span></li><li class="promiandata-l2"><strong class="thecabin">'+e[0].CabinLevel+'</strong><span class="numticks"><em class="onlybn" style="display: none;">仅</em><em class="prnum">'+e[0].CbCount+'张</em><em class="prmovez ">+</em></span><span class="thediscount">'+e[0].Discount+'</span></li><li class=" promiandata-l4" ><span class="promiandata-l3" proprice ="'+e[0].Fare+'" seachprice="'+e[0].Cabin+'" CabinType="'+e[0].CabinType+'" InsureType="'+e[0].InsureType+'" zytypep =1   isTrippok="'+u+'"  HBJinE="'+e[0].HBJinE+'" Hashongbao ="'+e[0].Hashongbao+'"  ZhPolicyId ="'+e[0].ZhPolicyId+'"  cabinDesc ="'+o+'"  sequenceNumber ="'+l+'"  CbCount="'+e[0].CbCount+'"  discount="'+e[0].Discount+'" cabinLevel="'+e[0].CabinLevel+'"  >预订</span></li><li class="promiandata-l5"><span class="changepage" data="'+e[0].Cabin+'" prPRice="'+e[0].Fare+'" CabinLevel="'+e[0].CabinLevel+'" >退改签规定</span><span class="xhcredit ">'+d+'</span><span class="fmoretz">更多舱位<img class="fmore" src="https://cos.uair.cn/mb/img/botom.png" alt=""></span></li></ul>';for(var c=1;c<e.length;c++)i+=creathtmlzy(e[c],1);return r=s+i}return s='<ul class="promiandata"><li class="promiandata-l1"><span class="prprice">￥<strong class="theprice">'+e[0].Fare+'</strong></span><span class="themore1" Hashongbaoe=0 style=" color: #e61515;padding-left: 0.2rem;" >官方直营</span></li><li class="promiandata-l2"><strong class="thecabin">'+e[0].CabinLevel+'</strong><span class="numticks"><em class="onlybn" style="display: none;">仅</em><em class="prnum">'+e[0].CbCount+'张</em><em class="prmovez ">+</em></span><span class="thediscount">'+e[0].Discount+'</span></li><li class=" promiandata-l4" ><span class="promiandata-l3" proprice ="'+e[0].Fare+'" seachprice="'+e[0].Cabin+'" CabinType="'+e[0].CabinType+'" InsureType="'+e[0].InsureType+'" zytypep =1   isTrippok="'+u+'"  HBJinE="'+e[0].HBJinE+'" Hashongbao ="'+e[0].Hashongbao+'"  ZhPolicyId ="'+e[0].ZhPolicyId+'"  cabinDesc ="'+o+'"  sequenceNumber ="'+l+'" CbCount="'+e[0].CbCount+'"  discount="'+e[0].Discount+'"  cabinLevel="'+e[0].CabinLevel+'"  >预订</span></li><li class="promiandata-l5"><span class="changepage" data="'+e[0].Cabin+'" prPRice="'+e[0].Fare+'" CabinLevel="'+e[0].CabinLevel+'" >退改签规定</span><span class="xhcredit ">'+d+"</span></span></li></ul>",r=s}return r=""}function creathtmlxh(e,t){var a="",n="";2==t?(a="该航班支持授信月结",n="  xhflight"):(a="",n="");var r='<ul class="promiandata'+n+' " ><li class="promiandata-l1"><span class="prprice">￥<strong class="theprice">'+e.Fare+'</strong></span><span class="themore1" Hashongbaoe="'+e.Hashongbao+'" ><span class="lite">红包立减</span><em class="litep">￥</em><em class="themore">'+e.HBJinE+'</em></span></li><li class="promiandata-l2"><strong class="thecabin">'+e.CabinLevel+'</strong><span class="numticks"><em class="onlybn" style="display: none;">仅</em><em class="prnum">'+e.CbCount+'张</em><em class="prmove ">+</em></span><span class="thediscount">'+e.Discount+'</span></li><li class=" promiandata-l4" ><span class="promiandata-l3" proprice ="'+e.Fare+'" seachprice="'+e.Cabin+'" CabinType="'+e.CabinType+'" InsureType="'+e.InsureType+'"  zytypep =0  isTrippok=2   HBJinE="'+e.HBJinE+'" Hashongbao ="'+e.Hashongbao+'"  ZhPolicyId =1  cabinDesc =""  sequenceNumber ="" CbCount="'+e.CbCount+'"  discount="'+e.Discount+'"             cabinLevel="'+e.CabinLevel+'"  >预订</span></li><li class="promiandata-l5"><span class="changepage" data="'+e.Cabin+'" prPRice="'+e.Fare+'" CabinLevel="'+e.CabinLevel+'" >退改签规定</span><span class="xhcredit ">'+a+"</span></li></ul>";return r}function creathtmlzy(e,t){var a="";a=1==t?"  zyflight":"";var n="",r="";switch(theCarrier){case"ZH":n="img/zy_ZH",r="无差旅月结,无配送";break;case"CZ":n="img/zy_CZ",r="有差旅月结,无配送";break;case"3U":n="img/zy_3U",r="无差旅月结,无保险,无配送";break;case"HU":n="img/zy_HU",r="无差旅月结,无保险,无配送"}var s="",i="",o="",l=0;return l=1==isTripp?1:0,null==e.ZhPolicyId&&(e.ZhPolicyId=1),e.ChOtherParam?(i=e.ChOtherParam.cabinDesc,o=e.ChOtherParam.sequenceNumber):(i="",o=""),s='<ul class="promiandata '+a+' "><li class="promiandata-l1"><span class="prprice">￥<strong class="theprice">'+e.Fare+'</strong></span><span class="themore1" Hashongbaoe=0 style=" color: #e61515;padding-left: 0.2rem;" >官方直营</span></li><li class="promiandata-l2"><strong class="thecabin">'+e.CabinLevel+'</strong><span class="numticks"><em class="onlybn" style="display: none;">仅</em><em class="prnum">'+e.CbCount+'张</em><em class="prmovez  ">+</em></span><span class="thediscount">'+e.Discount+'</span></li><li class=" promiandata-l4" ><span class="promiandata-l3" proprice ="'+e.Fare+'" seachprice="'+e.Cabin+'" CabinType="'+e.CabinType+'" InsureType="'+e.InsureType+'" zytypep =1   isTrippok="'+l+'"  HBJinE="'+e.HBJinE+'" Hashongbao ="'+e.Hashongbao+'"  ZhPolicyId ="'+e.ZhPolicyId+'"  cabinDesc ="'+i+'"  sequenceNumber ="'+o+'"  CbCount="'+e.CbCount+'" discount="'+e.Discount+'" cabinLevel="'+e.CabinLevel+'"  >预订</span></li><li class="promiandata-l5"><span class="changepage" data="'+e.Cabin+'" prPRice="'+e.Fare+'" CabinLevel="'+e.CabinLevel+'" >退改签规定</span><span class="xhcredit ">'+r+"</span></li></ul>"}function getChangeData(){for(var e=$.qus(".changepage"),t=0;t<e.length;t++)e[t].onclick=function(){var e=this.getAttribute("data");$.nextNode(this).innerHTML;$.qu(".changepagbox-price-sp3").innerHTML=this.getAttribute("cabinlevel"),$.qu(".x-price-sp11").innerHTML=this.getAttribute("prprice"),$.qu(".changepagbox").style.display="block",myAjaxChange(theCarrier,e)};$.qu(".changepagbox-close").onclick=function(){$.qu(".changepagbox").style.display="none"}}function myAjaxChange(carrier,seat){$.qu(".lodinp").style.display="-webkit-box";var oData2="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/ajax.aspx?isKyReq=1&act=getOtherKyData&ACTION=GetRefundDef&carrier="+carrier+"&seat="+seat+"&reqPath=utlsiteservice.aspx","true"),xhr.send(),xhr.onreadystatechange=function(){4==xhr.readyState&&(200==xhr.status?($.qu(".lodinp").style.display="none",""!=xhr.responseText?(oData2=eval(xhr.responseText),$.qu(".changetex1").innerHTML=oData2[0].EndorseNotice,$.qu(".changetex2").innerHTML=oData2[0].UpNotice,$.qu(".changetex3").innerHTML=oData2[0].RefundNotice):($.qu(".changetex1").innerHTML="退改签规则以航空公司最新规则为准",$.qu(".changetex2").innerHTML="退改签规则以航空公司最新规则为准",$.qu(".changetex3").innerHTML="退改签规则以航空公司最新规则为准")):(0,_api.myalertp)("myproduct","出错了，获取退改签出错。"))}}function getjiad(){for(var e=$.qus(".prnum"),t=0;t<e.length;t++){var a=e[t].previousElementSibling||e[t].previousSibling,n=e[t].nextElementSibling||e[t].nextSibling;"A张"==e[t].innerHTML?(e[t].innerHTML="9张",a.style.display="none",n.style.display="inline-block"):(a.style.display="inline-block",n.style.display="none")}}function getDsOnePricepp(cp,data){var oData2="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/xhService.ashx?act=GETDSONEPRICE","false"),xhr.send(),xhr.onreadystatechange=function(){if(4==xhr.readyState)if(200==xhr.status){var data1=eval("("+xhr.responseText+")");if(""!=data1){oData2=data1.DsOnePrice;for(var thecps=oData2.split(","),i=0;i<thecps.length;i++){if(cp==thecps[i]){isTripp=1;break}isTripp=0}productPulldata(data)}else(0,_api.myalertp)("myproduct","获取直营参数失败。")}else(0,_api.myalertp)("myproduct","获取直营参数失败。")}}function getCZphone(key,el){(0,_api.myget)(flightUrl+"/icbc/xhService.ashx","act=GETSERVICEPHONE&Source="+key,!0,function(err,res){if(err)(0,_api.myalertp)("router0","出错了，获取客服联系电话失败！");else{var oData3=eval("("+res+")"),phonts=oData3.Result.Phone,phontn=oData3.Result.Source;el.href="tel:"+phonts}})}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),_kutil=__webpack_require__(6),$=__webpack_require__(5),_view=__webpack_require__(21),tcity="",OT=1,theID="",theCarrier="",tobookdata1={},tobookdata12={},backdatapro="",backprtyep="",myfromData={},fitstData="";window.top.userName="",window.top.userID="";var timer="",Member={},flight1=[],flight2=[],theCarrier="",DsOnePricep="",isTripp=0,thedatap="",thelowf="",thelowfo="",pcnumdata="",_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/product$",this.hash="/flightmb/product",this.title="产品详情",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.searchJoin+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){console.log(t);var a=t.prot;if(1==a){var n=t.prData;backdatapro=t.bdata,backprtyep=backdatapro.backtype,theCarrier=n.theCarrier,pcnumdata=n.carrierabb2,getDsOnePricepp(theCarrier,n),thedatap=t.prData.prDate}else if(3==a){var n=t.prData;fitstData=t.bdata,backprtyep=3,theCarrier=n.theCarrier,t.Member,getDsOnePricepp(theCarrier,n),thedatap=t.prData.prDate}$.qu(".product-t1").onclick=function(){$.router.go("#!/flightmb/detail",{cliktype:3,ptdata:thedatap},!0)},$.qu(".p_home").onclick=function(){$.router.go("#!/flightmb/join","",!1)},pullHeadphone(theCarrier)}}]),e}();exports["default"]=_class},function(e,t){e.exports='\r\n\r\n<div id="myproduct">\r\n        <div class="lodinp">\r\n              <!--<div id="caseBlanche">-->\r\n                <!--<div id="rond">-->\r\n                  <!--<div id="test"></div>-->\r\n                <!--</div>-->\r\n                <!--<div id="load">-->\r\n                  <!--<p>航班查询中...</p>-->\r\n                <!--</div>-->\r\n              <!--</div>-->\r\n             <img class="xhlog" src="https://cos.uair.cn/mb/img/xhlog.gif" />\r\n         </div>\r\n        <div id="product-t">\r\n            <span class="product-t1"><img src="https://cos.uair.cn/mb/img/back.bg.png" alt=""></span>\r\n            <div class="productcity">\r\n               <span class="product-t2">去:</span>\r\n              <span id="productcity0"></span>\r\n              <span id="productcity2">→</span>\r\n              <span id="productcity1"></span>\r\n            </div>\r\n            <a href="" class="p_phone"></a>\r\n            <img src="https://cos.uair.cn/mb/img/h_home.png" class="p_home" alt=""/>\r\n\r\n        </div>\r\n        <div class="product-h">\r\n             <div class="product-hwrap">\r\n                    <div class="phw-t">\r\n                        <span class="phw-tsp1" ><em id="ptime" ></em> <em id="pwen"></em> <em id="pH1">1</em>H<em id="pH2">26</em>m</span>\r\n\r\n                    </div>\r\n                    <ul class="phw-m">\r\n                        <li class="phw-ml1">\r\n                            <span class="phw-ml1sp1"></span>\r\n                            <span class="phw-ml1sp2"></span>\r\n                        </li >\r\n                        <li class="phw-ml2"><span class="d-wrapl1-sp2 d-line"><strong></strong></span></li>\r\n                        <li class="phw-ml3">\r\n                            <span class="phw-ml3sp1"></span>\r\n                            <span class="phw-ml31sp2"></span>\r\n                        </li >\r\n                        <li class="phw-ml4">\r\n                             <span class="phw-ml4sp1"><em id="pc"></em> | <em id="plane"></em></span>\r\n                        </li>\r\n                        <li class="theJT"><span>经停</span></li>\r\n                    </ul>\r\n             </div>\r\n        </div>\r\n        <div id="pro-main">\r\n            <div class="pro-main-wrap"></div>\r\n        </div>\r\n        <div class="changepagbox" >\r\n            <div class="changepagbox-wrap">\r\n                 <div class="changepagbox-t">\r\n                    <strong >退改签规定</strong>\r\n                    <img class="changepagbox-close" src="https://cos.uair.cn/mb/img/close.bg.png" alt="">\r\n                 </div>\r\n                 <ul class="changepagbox-text">\r\n                    <li>\r\n                        <strong>签转规定:</strong>\r\n                        <span class="changetex1">不允许</span>\r\n                    </li>\r\n                    <li>\r\n                         <strong>改期规定:</strong>\r\n                         <span class="changetex2">起飞前（含）收取票面价10%的改期费；起飞后收取票面价20%的改期费；涉及升舱，则改签费和升舱费需同时收取</span>\r\n                    </li>\r\n                    <li>\r\n                         <strong>退票规定:</strong>\r\n                         <span class="changetex3">起飞前（含）收取票面价20%的退票费；起飞后收取票面价30%的退票费</span>\r\n                    </li>\r\n                 </ul>\r\n                 <strong  class="changepagbox-p">退改签规则以航空公司最新规则为准</strong>\r\n                 <div class="changepagbox-price">\r\n\r\n                        <span class="changepagbox-price-sp1"><em>￥</em><em class="x-price-sp11">570</em></span>\r\n                        <!-- <span class="numticks numticks1"></span> -->\r\n                        <span  class="changepagbox-price-sp3">经济舱</span>\r\n                        <span  class="thebookBtton">预订</span>\r\n                 </div>\r\n            </div>\r\n        </div>\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pullnumtohtml(e){var t=e.split(",");t.length=5;for(var a=t.sort(),n=[],r=0;r<a.length;r++)n.push(a[r].split("|")[1]);for(var s=["南航直营客服电话：","深航直营客服电话：","川航直营客服电话：","非直营机票客服电话：","投诉电话："],i=' <span class="thephone-sp1">确定</span>',o="",r=0;r<n.length;r++){var l=n[r].replace(/-/g,"");o+="<p><span>"+s[r]+'</span><a href="tel:'+l+'">'+l+"</a></p>"}var c=o+i;$.qu(".thephone-wrap1").innerHTML=c,$.qu(".thephone-sp1").onclick=function(){$.qu(".thephone1").style.display="none"}}function getallphonenum(key,n){var oData3="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/xhService.ashx?act=GETSERVICEPHONE&Source="+key,"false"),xhr.send(),xhr.onreadystatechange=function(){if(4==xhr.readyState)if(200==xhr.status){oData3=eval("("+xhr.responseText+")");var phonts=oData3.Result.Phone,phontn=oData3.Result.Source,dt=n+phontn+"|"+phonts;getmyphone(dt)}else(0,_api.myalertp)("router0","出错了，获取客服联系电话失败！")}}function getmyphone(e){phonenum+=e+","}function pullallmyphone(){getallphonenum("XHSV",4),getallphonenum("XHTS",5),getallphonenum("CZ",1),getallphonenum("ZH",2),getallphonenum("3U",3)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),$=__webpack_require__(5),_view=__webpack_require__(23),phonenum="",_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/allmytickes$",this.hash="/flightmb/allmytickes",this.title="我的机票",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.searchJoin+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){var a=window.location.href.split("/"),n=a[a.length-1];console.log(n),$.qu(".tab-item1").onclick=function(){$.router.go("#!/flightmb/join",{},!1),$.qu(".thephone1").style.display="none"},pullallmyphone(),$.qu(".tab-item31").onclick=function(){$.qu(".thephone1").style.display="-webkit-box",pullnumtohtml(phonenum)},$.qu(".allmytickes-m10").onclick=function(){$.router.go("#!/flightmb/allmybook",{btype:1},!0)},$.qu(".allmytickes-m11").onclick=function(){$.router.go("#!/flightmb/passenger",{btype:2},!0)},$.qu(".allmytickes-m12").onclick=function(){$.router.go("#!/flightmb/mychalinkp",{btype:3},!0)},$.qu(".allmytickes-m13").onclick=function(){$.router.go("#!/flightmb/contactpeople",{btype:4},!0)},$.qu(".allmytickes-sb").style.display="none",$.qu(".allmytickes-sb").onclick=function(){document.cookie="xhtime=0",document.cookie="tkey=0",location.href=flightUrl+"/icbc/logout.aspx?type=wap"}}}]),e}();exports["default"]=_class},function(e,t){e.exports='<div id="allmytickes">\r\n      <div class="thephone1">\r\n          <div class="thephone-wrap1">\r\n              <!--<p><span>客服电话：</span><a href="tel:18325078979">18325078979</a></p>-->\r\n              <!--<p><span>客服电话：</span><a href="tel:4000662188">4000662188</a></p>-->\r\n              <!--<p><span>客服电话：</span><a href="tel:18325078979">18325078979</a></p>-->\r\n              <!--<span class="thephone-sp11">确定</span>-->\r\n          </div>\r\n\r\n      </div>\r\n      <div class="allmytickes-t">\r\n          <span class="allmytickes-tt2">我的机票</span>\r\n      </div>\r\n      <div class="allmytickes-m1 allmytickes-m10"><span>机票订单</span><img src="https://cos.uair.cn/mb/img/right.png" alt=""></div>\r\n      <div class="allmytickes-m1 allmytickes-m11"><span>常用乘机人</span><img src="https://cos.uair.cn/mb/img/right.png" alt=""></div>\r\n      <div class="allmytickes-m1 allmytickes-m12"><span>常用联系人</span><img src="https://cos.uair.cn/mb/img/right.png" alt=""></div>\r\n      <div class="allmytickes-m1 allmytickes-m13"><span>常用地址</span><img src="https://cos.uair.cn/mb/img/right.png" alt=""></div>\r\n\r\n      <span class="allmytickes-sb">退出登录</span>\r\n      <nav class="bar bar-tab">\r\n          <strong class="tab-item  tab-item1 " >\r\n               <span class="tab-label1">机票查询</span>\r\n          </strong>\r\n          <strong class="tab-item  tab-item2 active " >\r\n               <span class="tab-label2">我的机票</span>\r\n          </strong>\r\n          <strong class="tab-item tab-item31 " >\r\n               <span class="tab-label3 ">联系客服</span>\r\n          </strong>\r\n      </nav>\r\n\r\n</div>\r\n';
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function deteledata(){$.qu(".searpger-bn").innerHTML="清空",$.qu(".searpger-te").value="",$.qu(".searpger-bn").style.width="20%",$.qu(".searpger-bn").style.background="#9a8c8c",$.qu(".searpger-te").style.width="72%"}function theClick(){$.each($.qus(".mianpger-boxbtn1"),function(){this.onclick=function(e){var that=this;$.qu(".mianpger-boxbtn1lay").style.display="-webkit-box",$.qu(".boxbtn1lay-boxsp1").onclick=function(){var theid=that.parentNode.getAttribute("psid"),dataass={id:theid};(0,_api.userOnoffpp)("s",function(){mypost("/ajaxpro/UairB2C.MGOpt,UairB2C.ashx",dataass,"DelPassenger",function(err,res){var bdata=eval("("+res+")");if(bdata.value){var json=JSON.parse(bdata.value);json?pullPassData():(0,_api.myalertp)("passenger","删除乘机人失败")}else(0,_api.myalertp)("passenger","删除乘机人失败")})},"passenger",".lodinpass","",alertms),$.qu(".mianpger-boxbtn1lay").style.display="none"},$.qu(".boxbtn1lay-boxsp2").onclick=function(){$.qu(".mianpger-boxbtn1lay").style.display="none"};var e=e||window.e;e.stopPropagation()}}),$.each($.qus(".mianpger-boxbtn2"),function(){var e=this;e.onclick=function(t){var a={name:e.getAttribute("name"),age:e.getAttribute("age"),card:e.getAttribute("card"),nb:e.getAttribute("nb"),ftype:e.getAttribute("ftype"),fnumber:e.getAttribute("fnumber"),birthday:e.getAttribute("psbirthday")};$.router.go("#!/flightmb/changepassenger",{btype:22,linktype:bte,pda:a},!0);var t=t||window.e;t.stopPropagation()}});var allnames=$.qus(".mianpger-name"),allnameslen=$.qus(".mianpger-name").length;$.qu(".searpger-bn").onclick=function(){$.qu(".searpger-te").value="";for(var e=0;e<allnameslen;e++)allnames[e].parentNode.parentNode.style.display="block"},$.qu(".searpger-te").onkeyup=function(e){var e=e||window.e,t=e.keyCode,a=$.qu(".searpger-te").value;if(8==t&&!a)for(var n=0;n<allnameslen;n++)allnames[n].parentNode.parentNode.style.display="block"},$.qu(".searpger-te").oninput=function(){var e=$.qu(".searpger-te").value;if(e){for(var t=[],a=0;a<allnameslen;a++){var n=allnames[a].innerHTML;console.log(e),n.indexOf(e)!=-1&&t.push(a)}if(console.log(t),0!=t.length){for(var a=0;a<allnameslen;a++)allnames[a].parentNode.parentNode.style.display="none";for(var r=0;r<t.length;r++)allnames[t[r]].parentNode.parentNode.style.display="block"}}}}function addthePeople(){for(var e=$.qus(".mianpger-box"),t=0;t<e.length;t++)e[t].onclick=function(){var e=JSON.parse(this.getAttribute("data")),t={psid:this.getAttribute("psid"),data:e};if("儿童"==t.data.Age)backFlight?(0,_api.myalertp)("passenger","儿童不能选择往返航班"):1==bte&&$.router.go("#!/flightmb/book",{pbtype:1,pdata:t},!0);else if(1==bte){var a=e.IDNo?e.IDNo.length:0,n=(e.Phone,e.IDType);"身份证"==n?18==a?$.router.go("#!/flightmb/book",{pbtype:1,pdata:t},!0):(0,_api.myalertp)("passenger","身份证号码有误,请核实"):e.IDNo?$.router.go("#!/flightmb/book",{pbtype:1,pdata:t},!0):(0,_api.myalertp)("passenger","证件号码为空,请核实")}}}function pullPassData(){$.qu(".lodinpass").style.display="-webkit-box";var e=flightUrl+"/ajaxpro/UairB2C.MGOpt,UairB2C.ashx",t="GetPassengers",a={xslpath:"json"},n=null,r=[];mypostAjax(e,a,t,function(e,t){if(null==e){$.qu(".lodinpass").style.display="none";var a=JSON.parse(t).value;if(a){n=JSON.parse(a);var s=n.Passengers.Passenger,i={plan:""},o=0;for(var l in n.Passengers){if(console.log(l),1==o){i.plan=n.Passengers[l];break}o++}var c=JSON.parse(i.plan);if(console.log(c),0!=c.length)for(var p=0;p<s.length;p++){s[p].planda=[];for(var d=0;d<c.length;d++)s[p].ID==c[d].PassengerID&&(c[d].StartDate=c[d].StartDate.split(" ",2)[0],c[d].EndDate=c[d].EndDate.split(" ",2)[0],s[p].planda.push(c[d]))}else for(var p=0;p<s.length;p++)s[p].planda=[];r=s,r.length>10?($.qu(".searpger").style.display="block",$.qu(".mianpger").style.top="7.3rem"):($.qu(".searpger").style.display="none",$.qu(".mianpger").style.top="5.2rem"),console.log(r),topasengerHtml(r),theClick(),addthePeople()}else $.qu(".pger-wrap").innerHTML="没有常用乘机人，请重新添加！"}else(0,_api.myalertp)("passenger","获取乘机人出错了，Err")})}function topasengerHtml(e){var t="",a=[];e.length?a=e:a.push(e);for(var n=0;n<a.length;n++){var r=a[n].Age?a[n].Age:"",s=a[n].IDNo?a[n].IDNo:"",i=a[n].IDType?a[n].IDType:"",o=a[n].IDNo?a[n].IDNo:"",l="",c=a[n].IDType?a[n].IDType:"",p=a[n].birthday?a[n].birthday.split(" ")[0]:"",d="";if(p){var u=p,h=new Date(u);d=h.getFullYear()+toTwo(h.getMonth()+1)+toTwo(h.getDate()),a[n].birthday=d}if(o&&"护照"==c&&o.indexOf(":")!=-1?(l=o.split(":")[0],a[n].birthday=d=p=o.split(":")[1]):l=a[n].IDNoShow?a[n].IDNoShow:"","儿童"==r)"身份证"==i?8==s.length?r=isAge(s,12)?"儿童":"成人":18==s.length&&(r=isAge(s,12)?"儿童":"成人"):"护照"==i&&(r=isAge(d,12)?"儿童":"成人");else if("身份证"==i&&18==s.length){var f=s.substr(6,8);r=isAge(f,65)?"成人":"老人"}else"护照"==i&&(r=isAge(d,12)?"儿童":"成人","成人"==r&&(r=isAge(d,65)?"成人":"老人"));a[n].Age=r;var m=a[n];a[n].rule||(a[n].rule="0");var e=JSON.stringify(m),y=a[n].PhoneShow?a[n].PhoneShow:"",b=a[n].Phone?a[n].Phone:"",g=a[n].ID?a[n].ID:"",v=a[n].Name?a[n].Name:"",k=a[n].Age?"("+r+")":"",q=a[n].Age?a[n].Age:"";t+='<div class="mianpger-box" ruletype="'+a[n].rule+'"   psid="'+g+'"  data='+e+'><p><span class="mianpger-name">'+v+k+'</span></p><p><span class="mianpger-card">'+c+'</span><span class="mianpger-num">'+l+'</span></p><p><span class="mianpger-ph">手机号</span><span class="mianpger-phnum">'+y+'</span></p><span class="mianpger-boxbtn1">删除</span><span class="mianpger-boxbtn2" name="'+v+'" age ="'+q+'" card="'+c+'"  nb="'+l+'"  ftype ="'+g+'"  fnumber="'+b+'" psbirthday="'+d+'" >修改</span></div>'}$.qu(".pger-wrap").innerHTML=t}function isAge(e,t){var a=new Date,n=a.getFullYear()+toTwo(a.getMonth()+1)+toTwo(a.getDate()),r=e,s=new Date,i=parseInt(r.substr(0,4)),o=s.getFullYear(),l=parseInt(r.substr(4,2)),c=s.getMonth(),p=parseInt(r.substr(6,2)),d=s.getDate();null!=n&&void 0!=n&&(o=parseInt(n.substr(0,4)),c=parseInt(n.substr(4,2)),d=parseInt(n.substr(6,2)));var u=!1;return u=!(o-i>t)&&(o-i!=t||!(c-l>0)&&(c-l!=0||!(d-p>=0)))}function toTwo(e){return e<10?"0"+e:""+e}function mypostAjax(e,t,a,n){var r="";r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),r.onreadystatechange=function(){4===r.readyState&&n&&(200===r.status?n(null,r.responseText):n(new Error(r.status),r.responseText))},r.open("POST",e,!0);var s=t;"object"===("undefined"==typeof t?"undefined":_typeof(t))&&(s=JSON.stringify(t)),r.setRequestHeader("Content-Type","text/plain; charset=utf-8"),r.setRequestHeader("X-AjaxPro-Method",a),r.send(s)}function hideInfo(e){var t=e.length;return t<18?e:e.replace(/^(.{6})(?:\d+)(.{4})$/,"$1****$2")}function hideTel(e){return e.replace(/^(.{3})(?:\d+)(.{4})$/,"$1****$2")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),$=__webpack_require__(5),_view=__webpack_require__(25),bte=2,backFlight="",flightPes=null,alertms="",_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/passenger$",this.hash="/flightmb/passenger",this.title="常用乘机人",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.searchJoin+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){bte=t.btype,console.log(bte),deteledata(),1==bte?(alertms="",$.qu(".passenger-tt1").onclick=function(){$.router.go("#!/flightmb/book",{},!1)},backFlight=t.backFlight):(alertms="抱歉，您的登陆超时，请重新登录~~",$.qu(".passenger-tt1").onclick=function(){$.router.go("#!/flightmb/allmytickes",{},!1)}),(0,_api.userOnoffpp)("s",pullPassData,"passenger",".lodinpass","",alertms),$.qu(".addpger").onclick=function(){$.router.go("#!/flightmb/changepassenger",{btype:11,linktype:bte},!0)}}}]),e}();exports["default"]=_class},function(e,t){e.exports='\r\n\r\n<div id="passenger">\r\n\r\n      <!--<div class="lodin-pa">-->\r\n            <!--&lt;!&ndash;<div id="caseBlanche-pa">&ndash;&gt;-->\r\n                <!--&lt;!&ndash;<div id="rond-pa">&ndash;&gt;-->\r\n                    <!--&lt;!&ndash;<div id="test-pa"></div>&ndash;&gt;-->\r\n                <!--&lt;!&ndash;</div>&ndash;&gt;-->\r\n                <!--&lt;!&ndash;<div id="load-pa">&ndash;&gt;-->\r\n                    <!--&lt;!&ndash;<p>数据加载中...</p>&ndash;&gt;-->\r\n                <!--&lt;!&ndash;</div>&ndash;&gt;-->\r\n            <!--&lt;!&ndash;</div>&ndash;&gt;-->\r\n          <!-- -->\r\n      <!--</div>-->\r\n    <div class="lodinpass">\r\n        <!--<div id="caseBlanche">-->\r\n        <!--<div id="rond">-->\r\n        <!--<div id="test"></div>-->\r\n        <!--</div>-->\r\n        <!--<div id="load">-->\r\n        <!--<p>航班查询中...</p>-->\r\n        <!--</div>-->\r\n        <!--</div>-->\r\n        <img class="xhlog" src="https://cos.uair.cn/mb/img/xhlog.gif" />\r\n    </div>\r\n      <div class="passenger-t">\r\n          <span class="passenger-tt1"><img src="https://cos.uair.cn/mb/img/back.bg.png" alt=""></span>\r\n          <span class="passenger-tt2">常用乘机人</span>\r\n      </div>\r\n      <div class="searpger">\r\n            <input class="searpger-te" type="text" placeholder="搜索乘机人">\r\n            <span class="searpger-bn">搜索</span>\r\n\r\n      </div>\r\n       <div class="addpger">\r\n            + 新增加乘机人\r\n       </div>\r\n       <div class="mianpger-boxbtn1lay">\r\n           <div class="mia-boxbtn1lay-box">\r\n              <p class="boxbtn1lay-boxp1">删除该乘机人信息？</p>\r\n              <span class="boxbtn1lay-boxsp1">确定</span>\r\n              <span class="boxbtn1lay-boxsp2">取消</span>\r\n           </div>\r\n       </div>\r\n       <div class="mianpger">\r\n           <div class="pger-wrap">\r\n\r\n           </div>\r\n\r\n       </div>\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function getagedata(){$.qu(".chpassenger-myse").onchange=function(){"护照"==this.value?$.qu(".chpassenger-agedata").style.display="block":($.qu(".chpassenger-agedata").style.display="none",$.qu(".nbage").value="")},$.qu(".chpassenger-myse1").onchange=function(){"护照"==this.value?$.qu(".chpassenger-agedata").style.display="block":($.qu(".chpassenger-agedata").style.display="none",$.qu(".nbage").value="")}}function thechangepa(e){var t=e.age;"儿童"==t?youngcolor():adultcolor();var a=e.card;$.qu(".chname").value=e.name,puttypeCard(t,a),$.qu(".nbT").value=e.nb,$.qu(".fnumberT").value=e.fnumber,$.qu(".nbage").value=e.birthday}function adultcolor(){$.qu(".chpassenger-o1").style.background="red",$.qu(".chpassenger-o1").setAttribute("CO","red"),$.qu(".chpassenger-o12").setAttribute("CO","AC"),$.qu(".chpassenger-o12").style.background="#ACA8A8",$.qu(".chpassenger-myse").style.display="block",$.qu(".chpassenger-myse1").style.display="none";var e=$.qu(".chpassenger-myse").value;"护照"==e?$.qu(".chpassenger-agedata").style.display="block":($.qu(".chpassenger-agedata").style.display="none",$.qu(".nbage").value="")}function youngcolor(){$.qu(".chpassenger-o1").style.background="#ACA8A8",$.qu(".chpassenger-o1").setAttribute("CO","red1"),$.qu(".chpassenger-o12").setAttribute("CO","AC"),$.qu(".chpassenger-o12").style.background="red",$.qu(".chpassenger-myse").style.display="none",$.qu(".chpassenger-myse1").style.display="block";var e=$.qu(".chpassenger-myse1").value;"护照"==e?$.qu(".chpassenger-agedata").style.display="block":($.qu(".chpassenger-agedata").style.display="none",$.qu(".nbage").value="")}function theoldfn(){var id=changedata.ftype,name=$.qu(".chname").value,phone=$.qu(".fnumberT").value,idtype="";if("block"==$.qu(".chpassenger-myse1").style.display){idtype="身份证";var people="儿童"}else{idtype=$.qu(".chpassenger-myse").value;var people="成人"}if(!Verify.verifyFlightName(name))return(0,_api.myalertp)("chpassenger","请填写正确的乘机人姓名，英文名字用‘/’分割"),!1;if(!getType(people)){var msal="";return msal="儿童"==people?"儿童出生日期为成人出生日期":"请填写正确的证件号码",(0,_api.myalertp)("chpassenger",msal),!1}var idno=$.qu(".nbT").value;if(""==idno)return(0,_api.myalertp)("chpassenger","证件号码不能为空"),!1;if(!Verify.verifyMobile(phone)&&""!=phone)return(0,_api.myalertp)("chpassenger","请填写正确的手机号码"),!1;if(""==phone&&"成人"==people)return(0,_api.myalertp)("chpassenger","成人手机号码必填！"),!1;var theage="";if("护照"==idtype){var reg=/^[a-z,A-Z,0-9]+$/;if(!reg.test(idno))return(0,_api.myalertp)("chpassenger","请填写正确护照号码"),!1}var savepassenger='{"ID":"'+id+'","Name":"'+name+'","Phone":"'+phone+'","IDNo":"'+idno+'","IDType":"'+idtype+'","AgeType":"'+people+'","Birthday":"'+theage+'"}',aes=new ICBCAes;aes.GetAesStr(savepassenger,function(encryptionSavepassenger,encryptionPwd){var dataass={json:encryptionSavepassenger,encryptionAESPwd:encryptionPwd};mypost("/ajaxpro/UairB2C.MGOpt,UairB2C.ashx",dataass,"SavePassenger",function(err,res){var bdata=eval("("+res+")");if(bdata.value){var json=JSON.parse(bdata.value);1==json.ret?$.router.go("#!/flightmb/passenger",{btype:mylinktype},!0):(0,_api.myalertp)("chpassenger","修改乘机人失败")}else(0,_api.myalertp)("chpassenger","修改乘机人失败")})})}function getType(e){var t=!0,a="",n=$.qu(".nbT").value;if("成人"==e)var a=$.qu(".chpassenger-myse").value;else{var r=$.qu(".chpassenger-myse1").value;"护照"==r?(a="护照",n=$.qu(".nbage").value):a="身份证"}var s=e;if("身份证"==a||"成人"!=e&&"护照"==a){var i=/^(\d{4})(\d{1,2})(\d{1,2})$/;if(n.length>8?validateIdCard(n)||(t=!1):n.match(i)||(t=!1),"儿童"==s){var o=new Date,l=0,c=o.getFullYear(),p=0,d=o.getMonth(),u=0,h=o.getDate();n.replace(i,function(e,t,a,n){l=parseInt(t),p=parseInt(a),u=parseInt(n)});var f=!1;f=!(c-l>12)&&(c-l!=12||!(d-p>0)&&(d-p!=0||!(h-u>=0))),f?(youngcolor(),_people="儿童"):(adultcolor(),_people="成人",t=!1)}else if(validateIdCard(n)){var m=18==n.length?n.substr(6,8):n.substr(6,6),o=new Date;m=8==m.length?m:"19"+m;var l=parseInt(m.substr(0,4)),c=o.getFullYear(),p=parseInt(m.substr(4,2)),d=o.getMonth(),u=parseInt(m.substr(6,2)),h=o.getDate(),f=!1;f=!(c-l>12)&&(c-l!=12||!(d-p>0)&&(d-p!=0||!(h-u>=0))),f?(youngcolor(),_people="儿童"):(adultcolor(),_people="成人")}else t=!1;puttypeCard(_people)}return t}function puttypeCard(e,t){if("成人"==e){if($.qu(".chpassenger-myse").style.display="block",t){for(var a=$.qu(".chpassenger-myse"),n=a.getElementsByTagName("option"),r=0;r<n.length;r++)if(t==n[r].innerHTML){a.selectedIndex=n[r].index;break}"护照"==t?$.qu(".chpassenger-agedata").style.display="block":($.qu(".chpassenger-agedata").style.display="none",$.qu(".nbage").value="")}$.qu(".chpassenger-myse1").style.display="none"}else $.qu(".chpassenger-myse").style.display="none",$.qu(".chpassenger-myse1").style.display="block"}function validateIdCard(e){var t=!0,a=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;if(a.test(e)){if(18==e.length){for(var n=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),r=new Array(1,0,10,9,8,7,6,5,4,3,2),s=0,i=0;i<17;i++)s+=e.substring(i,i+1)*n[i];var o=s%11,l=e.substring(17);2==o?"X"==l||"x"==l||(t=!1):l==r[o]||(t=!1)}}else t=!1;return t}function addpsFN(){var countID="0",adname=$.qu(".chname").value,cardNum=$.qu(".nbT").value,cardtype="",agetype="";if("block"==$.qu(".chpassenger-myse").style.display)cardtype=$.qu(".chpassenger-myse").value,agetype="成人";else{var newcardtype=$.qu(".chpassenger-myse1").value;cardtype="护照"==newcardtype?"护照":"身份证",agetype="儿童"}var phoneNum=$.qu(".fnumberT").value;if(!Verify.verifyFlightName(adname))return(0,_api.myalertp)("chpassenger","请填写正确的乘机人姓名，英文名字用‘/’分割"),!1;if(""==cardNum)return(0,_api.myalertp)("chpassenger","请填写证件号码"),!1;if(!getType(agetype)){var msal="";return msal="儿童"==agetype?"儿童出生日期为成人出生日期":"请填写正确的证件号码",(0,_api.myalertp)("chpassenger",msal),!1}var id=countID,idno=cardNum,birthday="";if("护照"==cardtype){if(birthday=$.qu(".nbage").value,!birthday)return(0,_api.myalertp)("chpassenger","请填写出生日期"),!1;var checkb=checkbrithday(birthday);if(!checkb)return!1;var reg=/^[a-z,A-Z,0-9]+$/;if(!reg.test(idno))return(0,_api.myalertp)("chpassenger","请填写正确护照号码"),!1}if(!Verify.verifyMobile(phoneNum)&&""!=phoneNum)return(0,_api.myalertp)("chpassenger","请填写正确的手机号码"),!1;if(""==phoneNum&&"成人"==agetype)return(0,_api.myalertp)("chpassenger","成人手机号码必填！"),!1;phoneNum=phoneNum?phoneNum:" ";var birthdaypull="";birthday&&(birthdaypull=birthday.substring(0,4)+"-"+birthday.substring(4,6)+"-"+birthday.substring(6,8));var savepassenger='{"ID":"'+id+'","Name":"'+adname+'","Phone":"'+phoneNum+'","IDNo":"'+cardNum+'","IDType":"'+cardtype+'","AgeType":"'+agetype+'","Notes":"生日:'+birthdaypull+'"}';console.log("空电话的时候，限儿童"),console.log(phoneNum),console.log(savepassenger);var aes=new ICBCAes;aes.GetAesStr(savepassenger,function(encryptionSavepassenger,encryptionPwd){var dataass={json:encryptionSavepassenger,encryptionAESPwd:encryptionPwd};mypost("/ajaxpro/UairB2C.MGOpt,UairB2C.ashx",dataass,"SavePassenger",function(err,res){console.log(err),console.log(res);var bdata=eval("("+res+")");if(bdata.value){var json=JSON.parse(bdata.value);1==json.ret?$.router.go("#!/flightmb/passenger",{btype:mylinktype},!0):(0,_api.myalertp)("chpassenger","增加乘机人失败,请重试。")}else(0,_api.myalertp)("chpassenger","增加乘机人失败,请重试。")})})}function checkbrithday(e){var t=/^(?:(?!0000)[0-9]{4}(?:(?:0[1-9]|1[0-2])(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/,a=t.test(e);if(console.log(a),a){var n=new Date,r=Number((n.getFullYear()+"").substring(0,4)),s=Number(e.substring(0,4));return!(r<s)||((0,_api.myalertp)("chpassenger","出身日期不能大于当前日期"),!1)}return(0,_api.myalertp)("chpassenger","出身日期有误，正确如：20140902"),!1}function isAgePs(e,t){var a=new Date,n=a.getFullYear()+toTwo(a.getMonth()+1)+toTwo(a.getDate()),r=e,s=new Date,i=parseInt(r.substr(0,4)),o=s.getFullYear(),l=parseInt(r.substr(4,2)),c=s.getMonth(),p=parseInt(r.substr(6,2)),d=s.getDate();null!=n&&void 0!=n&&(o=parseInt(n.substr(0,4)),c=parseInt(n.substr(4,2)),d=parseInt(n.substr(6,2)));var u=!1;return u=!(o-i>t)&&(o-i!=t||!(c-l>0)&&(c-l!=0||!(d-p>=0)))}function toTwo(e){return e<10?"0"+e:""+e}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),$=__webpack_require__(5),_view=__webpack_require__(27),mylinktype="",theindex="",changedata="",_people="",mytype="",_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/changepassenger$",this.hash="/flightmb/changepassenger",this.title="乘机人",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.searchJoin+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){console.log(t),mytype=t.btype,mylinktype=t.linktype,11==mytype?($.qu(".chpassenger-tt2").innerHTML="新增加乘机人",adultcolor(),$.qu(".chname").value="",$.qu(".nbT").value="",$.qu(".fnumberT").value="",$.qu(".chpassenger-agedata").style.display="none",$.qu(".nbage").value="",$.qu(".chpassenger-myse1").style.display="none",$.qu(".chpassenger-myse").style.display="block",$.qu(".chpassenger-myse").selectedIndex=0,$.qu(".chpassenger-sb").onclick=function(){(0,_api.userOnoffpp)("c",addpsFN,"chpassenger","","","报告小主，您登录超时，请前往登陆页面~~")}):22==mytype&&($.qu(".chpassenger-tt2").innerHTML="修改乘机人",thechangepa(t.pda),changedata=t.pda,theindex=t.pda.ftype,$.qu(".chpassenger-sb").onclick=function(){(0,_api.userOnoffpp)("c",theoldfn,"chpassenger","","","报告小主，您登录超时，请前往登陆页面~~")}),$.qu(".chpassenger-tt1").onclick=function(){$.router.go("#!/flightmb/passenger",{btype:mylinktype},!1)},$.qu(".chpassenger-o1").onclick=function(){adultcolor()},$.qu(".chpassenger-o12").onclick=function(){youngcolor()},getagedata()}}]),e}();if(exports["default"]=_class,"undefined"==typeof Verify)var Verify={};!function(e){e.toDateString=function(e){var t=e.getMonth()+1,a=e.getDate();return t<10&&(t="0"+t),a<10&&(a="0"+a),e.getFullYear()+"-"+t+"-"+a},e.verifyFlightName=function(e){var t=!1;e=e.replace(/(^\s*)|(\s*$)/g,"");var a=/^[A-Za-z\/]+$/;return a.test(e)?t=e.indexOf("/")>0&&e.indexOf("/")<e.length-1:(a=/^[\u4e00-\u9fa5]+[A-Z,a-z]*[\u4e00-\u9fa5]*$/,t=!!a.test(e)),t},e.verifyName=function(e){var e=e.replace(/(^\s*)|(\s*$)/g,"");return e.length>0},e.verifyEmail=function(e){return/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(e)},e.verifyTicketNo=function(e){var t=!1,a=e.length;return 13===a&&(t=/^\d{13}$/.test(e)),t},e.verifyMobile=function(e){return/^1\d{10}$/.test(e)},e.verifyIdCard=function(e){var t,a,n,r,s,i=e.length;if(15===i){if(t=e.match(/^(?:\d{6})(\d{2})(\d{2})(\d{2})(?:\d{3})$/),!t)return!1;a=parseInt("19"+t[1],10),n=parseInt(t[2],10),r=parseInt(t[3],10),s=e.charAt(i-1)%2}else if(18===i){for(var o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],l="10X98765432",c=0,p=0;c<17;c++)p+=e.charAt(c)*o[c];if(l.charAt(p%11)!==e.charAt(17).toUpperCase())return!1;if(t=e.match(/^(?:\d{6})(\d{4})(\d{2})(\d{2})(?:\d{3})(?:[0-9]|X)$/i),!t)return!1;a=parseInt(t[1],10),n=parseInt(t[2],10),r=parseInt(t[3],10),s=e.charAt(i-2)%2}var d=new Date(a,n-1,r);return a===d.getFullYear()&&n===d.getMonth()+1&&r===d.getDate()},e.replaceIdCard=function(t){var a=e.verifyIdCard(t);return a?18===t.length?t.replace(/^(\d{4})\d{11}(\d{2}[\da-z])$/i,"$1***********$2"):15===t.length?t.replace(/^(\d{4})\d{8}(\d{3})$/,"$1********$2"):void 0:t},e.replaceMobile=function(e){return e.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2")}}(Verify)},function(e,t){e.exports='\r\n\r\n<div id="chpassenger">\r\n      <div class="chpassenger-t">\r\n          <span class="chpassenger-tt1"><?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1492400593265" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2999" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22"><defs><style type="text/css"></style></defs><path d="M277.617 540.706l406.92 406.919c16.897 16.9 44.296 16.9 61.194 0 16.901-16.899 16.9-44.296 0-61.194l-376.321-376.322 373.233-373.231c16.898-16.901 16.898-44.298 0-61.197-16.898-16.898-44.297-16.9-61.196 0l-400.476 400.477c-0.563 0.563-1.105 1.14-1.629 1.724-0.585 0.526-1.163 1.066-1.725 1.63-16.898 16.897-16.898 44.296 0 61.194z" p-id="3000" fill="#ffffff"></path></svg></span>\r\n          <span class="chpassenger-tt2">修改常用乘机人</span>\r\n      </div>\r\n      <ul class="chpassenger-main">\r\n            <li class="chpassenger-mainl1"><span>成人(12岁以上)</span><strong class="chpassenger-o1" CO=\'red\'><span class="chpassenger-o2"></span></strong></li>\r\n            <li class="chpassenger-mainl1"><span>儿童(2-12)</span><strong class="chpassenger-o12" CO=\'AC\'><span class="chpassenger-o22"></span></strong></li>\r\n            <li><span class="chpassenger-main-sp">姓名</span><input  type="text" class="chname" placeholder="输入姓名"></li>\r\n            <li>\r\n            <span class="chpassenger-main-sp">证件类型</span>\r\n            <select class="chpassenger-myse">\r\n                <option value ="身份证">身份证</option>\r\n                <option value ="护照">护照</option>\r\n                <option value ="军官证">军官证</option>\r\n                <option value="回乡证">回乡证</option>\r\n                <option value="台胞证">台胞证</option>\r\n                <option value="港澳通行证">港澳通行证</option>\r\n                <option value="警官证">警官证</option>\r\n                <option value="士兵证">士兵证</option>\r\n                <option value="其他">其他</option>\r\n\r\n            </select>\r\n            <select class="chpassenger-myse1">\r\n                <option value ="身份证">身份证/出生日期(20140918)</option>\r\n                <option value ="护照">护照</option>\r\n            </select>\r\n            </li>\r\n            <li class="chpassenger-agedata"><span class="chpassenger-main-sp">出生日期</span><input type="text" class="nbage" placeholder="输入出生日期"></li>\r\n            <li><span class="chpassenger-main-sp">证件号码</span><input type="text" class="nbT" placeholder="输入证件号码"></li>\r\n            <li class="chpassenger-mainlla"><span class="chpassenger-main-sp ">手机号码</span><input type="text" class="fnumberT" placeholder="输入手机号码"></li>\r\n      </ul>\r\n      <span class="chpassenger-sb">确认</span>\r\n\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function getmyContactdata(){$.qu(".lodincha").style.display="-webkit-box";var xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/xhService.ashx?act=GETCONTACTERS","false"),xhr.send(),xhr.onreadystatechange=function(){if(4==xhr.readyState)if(200==xhr.status){$.qu(".lodincha").style.display="none";var datac=xhr.responseText,datac1=eval("("+datac+")");if(1==datac1.Status){var pscData=datac1.Result.Contacters;thecontactHtml(pscData),addtheLinkpe(),theClickhtml()}else $.qu(".chalinkp-wrap").innerHTML=""}else(0,_api.myalertp)("chalinkp","获取常用联系人出错了，Err"+xhr.status)}}function thecontactHtml(e){for(var t="",a=0;a<e.length;a++)t+='<div class="chalinkp-box" contactid="'+e[a].ID+'"><p><span class="chalinkp-card">姓名</span></soan><span class="chalinkp-name">'+e[a].Name+'</span></p><p><span class="chalinkp-card">电话</span><span class="chalinkp-num">'+e[a].Phone+'</span></p><p><span class="chalinkp-ph">邮箱</span><span class="chalinkp-phnum">'+e[a].Email+'</span></p><span class="chalinkp-boxbtn1">删除</span><span class="chalinkp-boxbtn2" name ="'+e[a].Name+'" phone ="'+e[a].Phone+'" email ="'+e[a].Email+'" contid="'+e[a].ID+'" >修改</span></div>';$.qu(".chalinkp-wrap").innerHTML=t}function addtheLinkpe(){$.each($.qus(".chalinkp-box"),function(){this.onclick=function(){var e={linkname:$.lastChild($.firstChild(this)).innerHTML,linknump:$.lastChild($.nextNode($.firstChild(this))).innerHTML,id:this.getAttribute("contactid")};2==lint&&$.router.go("#!/flightmb/book",{pbtype:2,linkdata:e},!0)}})}function theClickhtml(){$.each($.qus(".chalinkp-boxbtn1"),function(){this.onclick=function(e){var that=this;$.qu(".chalinkp-chalinkpt").style.display="-webkit-box",$.qu(".chalinkpt-boxsp1").onclick=function(){var thepeopleid=that.parentNode.getAttribute("contactid"),dataass={id:thepeopleid};(0,_api.userOnoffpp)("c",function(){mypost("/ajaxpro/UairB2C.MGOpt,UairB2C.ashx",dataass,"DelContacter",function(err,res){var bdata=eval("("+res+")");if(bdata.value){var rs=eval("("+bdata.value+")");rs?getmyContactdata():(0,_api.myalertp)("chalinkp","删除联系人失败")}else(0,_api.myalertp)("chalinkp","删除联系人失败")})},"chalinkp",".lodincha","","抱歉，您登录超时，请前往登陆页面~~"),$.qu(".chalinkp-chalinkpt").style.display="none"},$.qu(".chalinkpt-boxsp2").onclick=function(){$.qu(".chalinkp-chalinkpt").style.display="none"};var e=e||window.e;e.stopPropagation()}}),$.each($.qus(".chalinkp-boxbtn2"),function(){this.onclick=function(e){var t=this,a={name:t.getAttribute("name"),phone:t.getAttribute("phone"),email:t.getAttribute("email"),contid:t.getAttribute("contid")};$.router.go("#!/flightmb/changelinkp",{type:4,linktype:lint,cdat:a},!0);var e=e||window.e;e.stopPropagation()}})}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),$=__webpack_require__(5),_view=__webpack_require__(29),lint="",_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/mychalinkp$",this.hash="/flightmb/mychalinkp",this.title="联系人",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.searchJoin+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){lint=t.btype,$.qu(".chalinkp-tt1").onclick=function(){2==lint?$.router.go("#!/flightmb/book",{},!1):3==lint&&$.router.go("#!/flightmb/allmytickes",{},!0)},$.qu(".chalinkp-addpger").onclick=function(){$.router.go("#!/flightmb/changelinkp",{type:1,linktype:lint},!0)},(0,_api.userOnoffpp)("c",getmyContactdata,"chalinkp",".lodincha","","报告小主，您登录超时，请前往登陆页面~~")}}]),e}();exports["default"]=_class},function(e,t){e.exports='\r\n\r\n\r\n<div id="chalinkp">\r\n    <!--<div class="lodin-lin">-->\r\n        <!--<div id="caseBlanche-lin">-->\r\n            <!--<div id="rond-lin">-->\r\n                <!--<div id="test-lin"></div>-->\r\n            <!--</div>-->\r\n            <!--<div id="load-lin">-->\r\n                <!--<p>数据加载中...</p>-->\r\n            <!--</div>-->\r\n        <!--</div>-->\r\n    <!--</div>-->\r\n    <div class="lodincha">\r\n        <img class="xhlog" src="https://cos.uair.cn/mb/img/xhlog.gif" />\r\n    </div>\r\n     <div class="chalinkp-t">\r\n        <span class="chalinkp-tt1"><img src="https://cos.uair.cn/mb/img/back.bg.png" alt=""></span>\r\n        <span class="chalinkp-tt2">常用联系人</span>\r\n     </div>\r\n     <div class="chalinkp-addpger">\r\n            + 新增联系人\r\n     </div>\r\n     <div class="chalinkp-chalinkpt">\r\n         <div class="mia-chalinkpt-box">\r\n              <p class="chalinkpt-boxp1">删除该联系人信息？</p>\r\n              <span class="chalinkpt-boxsp1">确定</span>\r\n              <span class="chalinkpt-boxsp2">取消</span>\r\n         </div>\r\n     </div>\r\n     <div class="chalinkp">\r\n          <div class="chalinkp-wrap">\r\n\r\n\r\n\r\n          </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function changeContact(contid,thelinkt){var name=$.qu(".changelinkp-mainin11").value,phone=$.qu(".changelinkp-mainin12").value,email=$.qu(".changelinkp-mainin13").value;if(!Verify.verifyName(name))return(0,_api.myalertp)("changelinkp","请填写联系人姓名"),!1;if(!phone)return(0,_api.myalertp)("changelinkp","请填写联系人手机号码"),!1;if(!Verify.verifyMobile(phone))return(0,_api.myalertp)("changelinkp","请填写正确的联系人手机号码"),!1;var filter=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;if(""!=email&&!filter.test(email))return(0,_api.myalertp)("changelinkp","您的电子邮件格式不正确"),!1;var savecontacter='{"ID":"'+contid+'","Name":"'+name+'","Phone":"'+phone+'","Email":"'+email+'"}',aes=new ICBCAes;aes.GetAesStr(savecontacter,function(encryptionSavecontacter,encryptionPwd){var dataass={json:encryptionSavecontacter,encryptionAESPwd:encryptionPwd
};mypost("/ajaxpro/UairB2C.MGOpt,UairB2C.ashx",dataass,"SaveContacter",function(err,res){console.log(err),console.log(res);var bdata=eval("("+res+")");if(bdata.value){var json=JSON.parse(bdata.value);1==json.ret?$.router.go("#!/flightmb/mychalinkp",{btype:thelinkt},!0):(0,_api.myalertp)("changelinkp","保存联系人失败")}})})}function addcontactF(thelinkt){var countid="0",name=$.qu(".changelinkp-mainin11").value,phone=$.qu(".changelinkp-mainin12").value,email=$.qu(".changelinkp-mainin13").value;if(!Verify.verifyName(name))return(0,_api.myalertp)("changelinkp","请填写联系人姓名"),!1;if(!phone)return(0,_api.myalertp)("changelinkp","请填写联系人手机号码"),!1;if(!Verify.verifyMobile(phone))return(0,_api.myalertp)("changelinkp","请填写正确的联系人手机号码"),!1;var filter=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;if(""!=email&&!filter.test(email))return(0,_api.myalertp)("changelinkp","您的电子邮件格式不正确"),!1;var savecontacter='{"ID":"'+countid+'","Name":"'+name+'","Phone":"'+phone+'","Email":"'+email+'"}',aes=new ICBCAes;aes.GetAesStr(savecontacter,function(encryptionSavecontacter,encryptionPwd){var dataass={json:encryptionSavecontacter,encryptionAESPwd:encryptionPwd};mypost("/ajaxpro/UairB2C.MGOpt,UairB2C.ashx",dataass,"SaveContacter",function(err,res){console.log(err),console.log(res);var bdata=eval("("+res+")");if(bdata.value){var json=JSON.parse(bdata.value);1==json.ret?$.router.go("#!/flightmb/mychalinkp",{btype:thelinkt},!0):(0,_api.myalertp)("changelinkp","添加联系人失败")}else(0,_api.myalertp)("changelinkp","添加联系人失败")})})}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),$=__webpack_require__(5),_view=__webpack_require__(31),thelinkt="",contid="",_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/changelinkp$",this.hash="/flightmb/changelinkp",this.title="增加或者修改联系人",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.searchJoin+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){var a=t.type;if(thelinkt=t.linktype,1==a)$.qu(".changelinkp-tt2").innerHTML="新增联系人",$.qu(".changelinkp-mainin11").value="",$.qu(".changelinkp-mainin12").value="",$.qu(".changelinkp-mainin13").value="",$.qu(".changelinkp-sb").onclick=function(){(0,_api.userOnoffpp)("c",function(){addcontactF(thelinkt)},"changelinkp","","","报告小主，您登录超时，请前往登陆页面~~")};else if(4==a){console.log(t),$.qu(".changelinkp-tt2").innerHTML="修改联系人";var n=t.cdat;$.qu(".changelinkp-mainin11").value=n.name,$.qu(".changelinkp-mainin12").value=n.phone,$.qu(".changelinkp-mainin13").value=n.email,contid=n.contid,$.qu(".changelinkp-sb").onclick=function(){(0,_api.userOnoffpp)("c",function(){changeContact(contid,thelinkt)},"changelinkp","","","报告小主，您登录超时，请前往登陆页面~~")}}$.qu(".changelinkp-tt1").onclick=function(){$.router.go("#!/flightmb/mychalinkp",{btype:thelinkt},!1)}}}]),e}();if(exports["default"]=_class,"undefined"==typeof Verify)var Verify={};!function(e){e.toDateString=function(e){var t=e.getMonth()+1,a=e.getDate();return t<10&&(t="0"+t),a<10&&(a="0"+a),e.getFullYear()+"-"+t+"-"+a},e.verifyFlightName=function(e){var t=!1;e=e.replace(/(^\s*)|(\s*$)/g,"");var a=/^[A-Za-z\/]+$/;return a.test(e)?t=e.indexOf("/")>0&&e.indexOf("/")<e.length-1:(a=/^[\u4e00-\u9fa5]+[A-Z,a-z]*[\u4e00-\u9fa5]*$/,t=!!a.test(e)),t},e.verifyName=function(e){var e=e.replace(/(^\s*)|(\s*$)/g,"");return e.length>0},e.verifyEmail=function(e){return/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(e)},e.verifyTicketNo=function(e){var t=!1,a=e.length;return 13===a&&(t=/^\d{13}$/.test(e)),t},e.verifyMobile=function(e){return/^1\d{10}$/.test(e)},e.verifyIdCard=function(e){var t,a,n,r,s,i=e.length;if(15===i){if(t=e.match(/^(?:\d{6})(\d{2})(\d{2})(\d{2})(?:\d{3})$/),!t)return!1;a=parseInt("19"+t[1],10),n=parseInt(t[2],10),r=parseInt(t[3],10),s=e.charAt(i-1)%2}else if(18===i){for(var o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],l="10X98765432",c=0,p=0;c<17;c++)p+=e.charAt(c)*o[c];if(l.charAt(p%11)!==e.charAt(17).toUpperCase())return!1;if(t=e.match(/^(?:\d{6})(\d{4})(\d{2})(\d{2})(?:\d{3})(?:[0-9]|X)$/i),!t)return!1;a=parseInt(t[1],10),n=parseInt(t[2],10),r=parseInt(t[3],10),s=e.charAt(i-2)%2}var d=new Date(a,n-1,r);return a===d.getFullYear()&&n===d.getMonth()+1&&r===d.getDate()},e.replaceIdCard=function(t){var a=e.verifyIdCard(t);return a?18===t.length?t.replace(/^(\d{4})\d{11}(\d{2}[\da-z])$/i,"$1***********$2"):15===t.length?t.replace(/^(\d{4})\d{8}(\d{3})$/,"$1********$2"):void 0:t},e.replaceMobile=function(e){return e.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2")}}(Verify)},function(e,t){e.exports='\r\n\r\n\r\n<div id="changelinkp">\r\n     <div class="changelinkp-t">\r\n        <span class="changelinkp-tt1"><img src="https://cos.uair.cn/mb/img/back.bg.png" alt=""></span>\r\n        <span class="changelinkp-tt2">新增常用联系人</span>\r\n     </div>\r\n     <ul class="changelinkp-main">\r\n        <li class="changelinkp-main1" >\r\n          <div >姓名</div>\r\n          <input type="text" placeholder="输入姓名" class="changelinkp-mainin1 changelinkp-mainin11 ">\r\n        </li>\r\n        <li class="changelinkp-main1" >\r\n          <div >电话</div>\r\n          <input type="text" placeholder="输入电话" class="changelinkp-mainin1 changelinkp-mainin12">\r\n        </li>\r\n        <li class="changelinkp-main1 changelinkp-mainla" >\r\n          <div >邮箱</div>\r\n          <input type="text" placeholder="输入邮箱" class="changelinkp-mainin1 changelinkp-mainin13">\r\n        </li>\r\n\r\n     </ul>\r\n\r\n     <span class="changelinkp-sb">确认</span>\r\n\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pullHeadphoneB(){var e=$.qu(".b_phone"),t="none"==$.qu(".zycp").style.display?0:1,a=$.qu(".myBook-mtfsp3").innerHTML.substring(0,2);if(console.log("直营标记="+t),0==t)getCZphoneb("XHSV",e);else switch(a){case"ZH":getCZphoneb("ZH",e);break;case"CZ":getCZphoneb("CZ",e);break;case"3U":getCZphoneb("3U",e)}}function getCZphoneb(key,el){(0,_api.myget)(flightUrl+"/icbc/xhService.ashx","act=GETSERVICEPHONE&Source="+key,!0,function(err,res){if(err)(0,_api.myalertp)("router0","出错了，获取客服联系电话失败！");else{var oData3=eval("("+res+")"),phonts=oData3.Result.Phone,phontn=oData3.Result.Source;el.href="tel:"+phonts}})}function checkpsnum(){var e=$.qus(".myBook-namel").length;return e<=9}function checktickesnum(){var e=$.qus(".myBook-namel").length;"A"==frestnum&&(frestnum=10),"A"==trestnum&&(trestnum=10);var t=0,a=0;return backFlight?(t=frestnum<e?0:1,a=trestnum<e?0:1):t=frestnum<e?0:1,[t,a]}function myAlertBox(e,t,a){var n=document.getElementById("book-alert");n.style.display="-webkit-box",n.getElementsByClassName("book-alert-info")[0].innerHTML=e;var r=n.getElementsByClassName("book-alert-yes")[0],s=n.getElementsByClassName("book-alert-no")[0];r.onclick=function(){n.style.display="none",t&&"function"==typeof t&&t()},s.onclick=function(){n.style.display="none",a&&"function"==typeof a&&a()}}function myBookFn(){function e(){var e="";bookdata2&&(e=bookdata2.data1);var t={city00:bookdata1.fplace,city11:bookdata1.tplace,time00:bookdata1.data1,time11:e};$.router.go("#!/flightmb/detail",{citydetail1:t.city00,citydetail2:t.city11,timedetail1:t.time00,timedetail2:t.time11,cliktype:1,backtype:1},!0)}var t=$.qu(".mttbookprice").innerHTML,a=t,n=$.qu(".mttbookprice4").innerHTML,r=n;alloneMone();var s=["温馨提示：按贵公司规定，同航班需订最低价，改订最低价舱位，请点击“确定”，否则点击“取消”，重新选择航班！","温馨提示：按贵公司规定，同航班需订低价，改订低价舱位，请点击“确定”，否则点击“取消”，重新查询航班！","提示：非常抱歉，贵公司没有为您设定公务舱、头等舱级别，不能购买，请更换航班或联系贵公司差旅专员购买。"];addchildphone();var i=JSON.parse((0,_api.GetCookie)("theUserdata"));console.log("cookie获取用户信息"),console.log(i),Member={name:i.userName,No:i.userID};var o="";if(console.log("非差旅名单"),console.log(nottripNum),nottripNum.length>0)for(var l=0;l<nottripNum.length;l++)o+=nottripNum[l]+",";o.replace(/\|/g,"").length>0&&(o=o.substring(0,o.length-1));var c=!1,p=$.qu(".ygLeft-box").getAttribute("choicetype");if(1==p&&"block"==$.qu(".goReason").style.display&&(c=!0),!mPassengerIsValidated&&c)(0,_api.myalertp)("myBook","乘机人中有非企业客户(姓名:"+o+")，请分别下单购买。");else{if(onOFFp)ShipFeeOnoff=0,ShipAddr="";else{var d=$.qu(".y_exp").getAttribute("extype");ShipFeeOnoff=1==d?shipMoney:0,ShipAddr=theAddresdata}var u=contactdata(),h=onum+odnum,f=h+ynum;if(backFlight)if(0==f)(0,_api.myalertp)("myBook","请选择乘机人!");else{if(!checkpsnum())return(0,_api.myalertp)("myBook","抱歉,单个订单乘机人不能超过9人。"),!1;var m=checktickesnum();if(0==m[0])return(0,_api.myalertp)("myBook","抱歉,去程余票数量小于乘机人数量，请分别下单或者更换航班。"),!1;if(0==m[1])return(0,_api.myalertp)("myBook","抱歉,返程余票数量小于乘机人数量，请分别下单或者更换航班。"),!1;if(""!=u.name&&""!=u.phone)if(0!=ynum)(0,_api.myalertp)("myBook","儿童不能订往返票！");else{var y=[bookdata2,bookdata1],b=[passengerAlldataone(onepiect2),passengerAlldataone(onepiect1)],g=thenonephone();if(0!=g.length)return(0,_api.myalertp)("myBook","乘机人:"+g.toString()+" 电话为空"),!1;if(getpassengerPhone())(0,_api.myalertp)("myBook","抱歉,乘机人电话有重复,请核实");else{var v=ddataar;if(v[0]>0){var p=$.qu(".ygLeft-box").getAttribute("choicetype");if(1==p&&"block"==$.qu(".goReason").style.display){if(1!=v[7])return(0,_api.myalertp)("myBook","抱歉,乘客所属公司不同，不能同时下单！"),!1;if(1==v[3]){var k=function(t,a,n){myAlertBox(t,function(){$.router.go("#!/flightmb/book",{pbtype:3,ptbdata1:a,ptbdata2:n,Member:"",pfjprice:pfjpricek,isclearps:0},!0)},e)};if(0==v[4])pullAlldatatoBook(y,ShipFeeOnoff,b,u,ShipAddr,DS,Member,Tripdata);else if(3==v[4])Number(a)>Number(fromlowflghtprice)&&a||Number(n)>Number(tolowflghtprice)&&n?k(s[1],fromlowflght,tolowflght):pullAlldatatoBook(y,ShipFeeOnoff,b,u,ShipAddr,DS,Member,Tripdata);else if(1==v[4])if(Number(t)>Number(fromlowflghtpriceo)&&t||Number(r)>Number(tolowflghtpriceo)&&r){var q=fromlowflghto.cabinlevel.indexOf("经济")!=-1;tolowflghto.cabinlevel.indexOf("经济")!=-1;q&&q?k(s[0],fromlowflghto,tolowflghto):(0,_api.myalertp)("myBook",s[2],e)}else pullAlldatatoBook(y,ShipFeeOnoff,b,u,ShipAddr,DS,Member,Tripdata)}else(0,_api.myalertp)("myBook","温馨提示：按贵公司规定，不同差旅政策的乘客不能一起下单")}else pullAlldatatoBook(y,ShipFeeOnoff,b,u,ShipAddr,DS,Member,Tripdata)}else pullAlldatatoBook(y,ShipFeeOnoff,b,u,ShipAddr,DS,Member,Tripdata)}}else(0,_api.myalertp)("myBook","请选择联系人信息！")}else if(0!=h){if(ynum>2*h)return(0,_api.myalertp)("myBook","抱歉，一个成人最多只能携带2名儿童"),!1;var x=checkpsnum();if(!x)return(0,_api.myalertp)("myBook","抱歉,单个订单乘机人不能超过9人。"),!1;if(""!=u.name&&""!=u.phone){var T=passengerAlldataone(onepiect1),_=thenonephone();if(0!=_.length)return(0,_api.myalertp)("myBook","乘机人:"+_.toString()+" 电话为空"),!1;if(getpassengerPhone())(0,_api.myalertp)("myBook","抱歉,乘机人电话有重复,请核实");else{var m=checktickesnum();if(0==m[0])return(0,_api.myalertp)("myBook","抱歉,余票数量小于乘机人数量，请分别下单或者更换航班。"),!1;var v=ddataar;if(v[0]>0){var p=$.qu(".ygLeft-box").getAttribute("choicetype");if(1==p&&"block"==$.qu(".goReason").style.display){if(1!=v[7])return(0,_api.myalertp)("myBook","抱歉,乘客所属公司不同，不能同时下单！"),!1;if(1==v[3]){var w=function(t,a){myAlertBox(t,function(){$.router.go("#!/flightmb/book",{pbtype:3,ptbdata1:a,ptbdata2:"",Member:"",pfjprice:pfjpricek,isclearps:0},!0)},e)};0==v[4]?pullAlldatatoBook(bookdata1,ShipFeeOnoff,T,u,ShipAddr,DS,Member,Tripdata):3==v[4]?Number(a)>Number(fromlowflghtprice)&&a?fromlowflght.cabinlevel.indexOf("经济")!=-1?w(s[1],fromlowflght):(0,_api.myalertp)("myBook",s[2],e):pullAlldatatoBook(bookdata1,ShipFeeOnoff,T,u,ShipAddr,DS,Member,Tripdata):1==v[4]&&(Number(t)>Number(fromlowflghtpriceo)&&t?fromlowflghto.cabinlevel.indexOf("经济")!=-1?w(s[0],fromlowflghto):(0,_api.myalertp)("myBook",s[2],e):pullAlldatatoBook(bookdata1,ShipFeeOnoff,T,u,ShipAddr,DS,Member,Tripdata))}else(0,_api.myalertp)("myBook","温馨提示：按贵公司规定，不同差旅政策的乘客不能一起下单")}else pullAlldatatoBook(bookdata1,ShipFeeOnoff,T,u,ShipAddr,DS,Member,Tripdata)}else pullAlldatatoBook(bookdata1,ShipFeeOnoff,T,u,ShipAddr,DS,Member,Tripdata)}}else(0,_api.myalertp)("myBook","请选择联系人信息！")}else 0!=ynum?(0,_api.myalertp)("myBook","儿童不能单独订票！"):(0,_api.myalertp)("myBook","请选择乘机人")}}function getpassengerPhone(){var e=[];$.each($.qus(".myBook-namel"),function(){var t=JSON.parse($.attr(this,"data"));if("儿童"!=t.Age&&(e.push(t.Phone),""==t.Phone))return!0});var t={};for(var a in e){if(t[e[a]])return!0;t[e[a]]=!0}return!1}function thenonephone(){for(var e=$.qus(".myBook-namel"),t=[],a=0;a<e.length;a++){var n=JSON.parse($.attr(e[a],"data"));"儿童"!=n.Age&&(n.Phone||t.push(n.Name))}return t}function addchildphone(){for(var e="",t=$.qus(".myBook-namel"),a=0;a<t.length;a++){var n=JSON.parse($.attr(t[a],"data"));if("儿童"!=n.Age){e=n.Phone;break}}thenophonechild=e}function ertong(){var e=$.qus(".myBook-namel"),t="儿童";if(e.length>0)for(var a=0;a<e.length;a++)e[a].children[1].children[0].innerHTML.indexOf(t)>-1&&(e[a].children[2].children[0].innerHTML="出生日期")}function tonewbookhtml(){1==isclearps&&($.qu(".myBook-nameul").innerHTML="",$.qu(".linkman4").innerHTML="",$.qu(".linkman2").innerHTML=""),$.qu(".buysafet").style.display="none",$.qu(".Tripb").style.display="none",$.qu(".goReason").style.display="none",$.qu(".Tripb-box").style.display="none",$.qu(".Tripb-btnbox1").style.left="0.1rem",$.qu(".Tripb-btnbox").style.backgroundColor="#ccc",$.qu(".Tripb-boxt2n").innerHTML="",$.qu(".Tripb-boxt2p").innerHTML="",$.qu(".Tripb-boxt2c").innerHTML="",$.qu(".Tripb-boxt2t").innerHTML="",$.qu(".zycp").style.display="none",$.qu(".zycp").style.background="#fff",onOFFr=!0,$.qu(".allprice11").innerHTML=0,$.qu(".buysafe-price").innerHTML=30,$.qu(".myBook-mttdatay").style.display="none",$.qu(".proof-btnbox1").style.left="0.1rem",$.qu(".proof-btnbox").style.backgroundColor="#ccc",$.qu(".proof-box").style.display="none",onOFFp=!0,$.qu(".proof-boxt2n").innerHTML="",$.qu(".proof-boxt2p").innerHTML="",$.qu(".proof-boxt2c").innerHTML="",$.qu(".proof-boxt2t").innerHTML=""}function checktheroule(e){console.log("整合后数据"),console.log(e);for(var t=e,a=[],n=[],r=[],s=[],i=[],o=[],l=[],c=[],p=[],d=[],u=[],h="2,4",f=0;f<t.length;f++){var m=t[f].OweStatus,y=t[f].UnitId,b=t[f].rule,g=b.split(",");if(a.push(y),h.indexOf(m)!=-1)if(g.indexOf("11")!=-1?o.push(1):o.push(0),"4"==m){var v=JSON.parse((0,_api.GetCookie)("theUserdata")).xhPerms;if(console.log("账户perm字符串"),console.log(v),v){var k=v.split(",");k.indexOf(y)!=-1?u.push(1):(u.push(0),p.push(t[f].Name),d.push(t[f].Name))}else d.push(t[f].Name),p.push(t[f].Name),u.push(0)}else u.push(1);else u.push(0),p.push(t[f].Name),o.push(0)}console.log("初始差旅和非差旅数组"),console.log(u),console.log("权限为11的数组"),console.log(o);for(var q=({d:bookdata1.data1,f:bookdata1.fplace,t:bookdata1.tplace},[]),x=[],T=[],_=[],w=0;w<o.length;w++)if(1==o[w]){var O=t[w].planda;if(console.log(O),0==O.length)q.push(12),T.push(t[w].Name);else{for(var C=!1,M=!1,H=!1,L=0;L<O.length;L++)if(console.log(datetoNumber(O[L].StartDate)),console.log(datetoNumber(bookdata1.data1)),console.log(datetoNumber(O[L].EndDate)),datetoNumber(O[L].StartDate)<=datetoNumber(bookdata1.data1)&&datetoNumber(bookdata1.data1)<=datetoNumber(O[L].EndDate)&&O[L].From==bookdata1.fplace&&O[L].To.indexOf(bookdata1.tplace)!=-1){if(2==O[L].Status){console.log("第一条匹配plan"),C=!0;break}C=!1,M=!0,H=!0,console.log("第一条航班不匹配plan")}else C=!1,H=!0;C?(q.push(1),console.log("差旅时间和条件匹配")):M?(q.push(10),_.push(t[w].Name),x.push(t[w].Name)):(q.push(10),x.push(t[w].Name))}}else q.push(0);console.log("整合后11审批数据"),console.log(q),console.log("整合后差旅及非差旅数组"),console.log(u);for(var D=[],S=[],P=[],A=0;A<u.length;A++)if(0==u[A])D.push(t[A].Name),P.push(0);else{S.push(1);var F=A,b=t[F].rule,g=b.split(",");g.indexOf("0")!=-1?n.push(A):g.indexOf("1")!=-1?r.push(A):g.indexOf("3")!=-1?s.push(A):l.push(A),g.indexOf("10")!=-1&&i.push(A)}var N=t.length,I=n.length,R=r.length,B=s.length,j=i.length,E=l.length,z=(c.length,0),X=0;N==I||N==R||N==B||N==E?(z=1,0!=j&&N!=j&&(z=0),N==I?X=0:N==R?X=1:N==B?X=3:N==E&&(X=0)):z=0;var U=0,Z="",J=S.length,Y=P.length;if(J==N){U=1,Z=a[0];for(var G=0;G<a.length;G++)if(Z!=a[G]){U=0;break}}else U=0;var V=_.length,K=x.length,W=D.length,Q=T.length;if(0!=V||0!=Q?eisall=!0:(eisall=!1,0!=Y&&0!=J&&(eisall=!0),0!=K&&(eisall=!0)),eisall){var ee="",te="",ae="",ne="";0!=K?(ee=x.toString()+" 未通过出差审批,",0!=W&&(te=D.toString()+" 是非差旅用户,")):0!=W&&(te=D.toString()+" 是非差旅用户,"),0!=Q&&(ne=T.toString()+" 未请假,"),ee&&te||!ee&&te?ae="不能选择月结,如需月结请分开下单;或者自行支付":ee&&!te?ne?ae="不能选择月结,如需月结请分开下单;或者自行支付":(ae="不能选择月结,请自行支付",J>K&&(ae="不能选择月结,如需月结请分开下单;或者自行支付")):ee||te||(ae="不能选择月结,请自行支付"),$.qu(".no_trip").style.display="block",$.qu(".no_trip").innerHTML=ee+te+ne+ae}else $.qu(".no_trip").style.display="none";var re=1;return 0!=j&&(re=0),ddataar=[J,Y,N,z,X,p,Z,U,re],[J,Y,N,z,X,p,Z,U,re]}function getTripFn(){$.qu(".ygLeft").onclick=function(){onOFFtr=!0,eisall||(changeygLeft(),$.qu(".proof-box").style.display="none",onOFFr?$.qu(".Tripb-box").style.display="none":$.qu(".Tripb-box").style.display="block",checkChailvPassenger())},$.qu(".ysRight").onclick=function(){eisall||(onOFFtr=!1),changeysRight(),$.qu(".Tripb-box").style.display="none",onOFFp?$.qu(".proof-box").style.display="none":$.qu(".proof-box").style.display="block",checkChailvPassenger()}}function changeysRight(){$.qu(".ygLeft-btn").style.boxShadow="0 0 0 0.2rem #ccc",$.qu(".ysRight-btn").style.boxShadow="0 0 0 0.2rem #cc0000",$.qu(".ygLeft-box").setAttribute("choiceType","0"),$.qu(".ysRight-box").setAttribute("choiceType","1")}function changeygLeft(){$.qu(".ygLeft-btn").style.boxShadow="0 0 0 0.2rem #cc0000",$.qu(".ygLeft-box").setAttribute("choiceType","1"),$.qu(".ysRight-box").setAttribute("choiceType","0"),$.qu(".ysRight-btn").style.boxShadow="0 0 0 0.2rem #ccc"}function datetoNumber(e){var t=detailChange(e.replace(/(\-)|(\/)/gi,"-"));return Number(t.replace(/\-/gi,""))}function detailChange(e){try{var t=e.split("-");e=t[0]+"",e+=1==t[1].length?"-0"+t[1]:"-"+t[1],e+=1==t[2].length?"-0"+t[2]:"-"+t[2]}catch(a){}return e}function getallphonenum(num){var xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("post","http://ca.nuoya.io/leaveSp/api/userinfo","false"),xhr.setRequestHeader("content-type","application/x-www-form-urlencoded"),xhr.send("cardID="+num),xhr.onreadystatechange=function(){if(4==xhr.readyState)if(200==xhr.status){var oData3=eval("("+xhr.responseText+")");console.log(oData3);var rc=oData3.rc;200==rc?redata(oData3.UserInfo):alert("获取乘客差旅信息失败！")}else alert("出错了，"+xhr.status)}}function checkChailvPassenger(){for(var e=$.qus(".myBook-namel"),t=[],a=0;a<e.length;a++){var n=JSON.parse(e[a].getAttribute("data"));t.push(n)}twodatapk(t)}function twodatapk(e){console.log("整合后所有数据"),console.log(e);var t=checktheroule(e);console.log("差旅整合后数据"),console.log(t);var a=t[0],n=t[1];nottripNum=t[5];var r=$.qu(".ygLeft-box").getAttribute("choicetype");if(a>0){$.qu(".ygLeft").style.background="";var s=a,i=a+n;if(s==i)if(mIsNormalPassenger=!1,mPassengerIsValidated=!0,1==zyTable)if(1==isTrippok){zyTablechange=0,$.qu(".Tripb").style.display="block",$.qu(".goReason").style.display="block",eisall?($.qu(".ygLeft").style.background="#f3eeee",changeysRight()):0==r&&"block"==$.qu(".goReason").style.display&&onOFFtr&&changeygLeft(),$.qu(".zycp").style.display="none",$.qu(".zycp1").style.display="none",$.qu(".zycp1").style.background="#fff",$.qu(".zycp").style.background="#fff",$.qu(".mttdata-sp3").style.display="inline-block",$.qu(".buysafe").style.display="block",backFlight&&($.qu(".mttdata1-sp3").style.display="inline-block");var o=$.qu(".ygLeft-box").getAttribute("choicetype");1==o&&"block"==$.qu(".goReason").style.display?($.qu(".proof").style.display="none",$.qu(".proof-box").style.display="none",$.qu(".Tripb").style.display="block",onOFFr?$.qu(".Tripb-box").style.display="none":$.qu(".Tripb-box").style.display="block"):($.qu(".proof").style.display="block",onOFFp?$.qu(".proof-box").style.display="none":$.qu(".proof-box").style.display="block",$.qu(".Tripb").style.display="none",$.qu(".Tripb-box").style.display="none")}else zyTablechange=1,$.qu(".Tripb").style.display="none",$.qu(".goReason").style.display="none",$.qu(".zycp").style.display="inline-block",$.qu(".zycp1").style.display="inline-block",$.qu(".zycp1").style.background="#eee",$.qu(".zycp").style.background="#eee",$.qu(".mttdata-sp3").style.display="none",backFlight&&($.qu(".mttdata1-sp3").style.display="none");else{0!=t[8]||eisall?($.removeClass($.qu(".buysafe-btnbox1"),"buysafe-btnbox1left"),$.removeClass($.qu(".buysafe-btnbox"),"buysafe-btnboxbcf"),onOFF=!0):onOFF&&($.addClass($.qu(".buysafe-btnbox1"),"buysafe-btnbox1left"),$.addClass($.qu(".buysafe-btnbox"),"buysafe-btnboxbcf"),onOFF=!1),zyTablechange=0,$.qu(".Tripb").style.display="block",$.qu(".goReason").style.display="block",eisall?($.qu(".ygLeft").style.background="#f3eeee",changeysRight()):0==r&&"block"==$.qu(".goReason").style.display&&onOFFtr&&changeygLeft(),$.qu(".zycp").style.display="none",$.qu(".zycp").style.background="#fff",backFlight&&($.qu(".zycp1").style.display="none",$.qu(".zycp1").style.background="#fff");var o=$.qu(".ygLeft-box").getAttribute("choicetype");1==o&&"block"==$.qu(".goReason").style.display?($.qu(".proof").style.display="none",$.qu(".proof-box").style.display="none",$.qu(".Tripb").style.display="block",onOFFr?$.qu(".Tripb-box").style.display="none":$.qu(".Tripb-box").style.display="block"):($.qu(".proof").style.display="block",onOFFp?$.qu(".proof-box").style.display="none":$.qu(".proof-box").style.display="block",$.qu(".Tripb").style.display="none",$.qu(".Tripb-box").style.display="none")}else 1==zyTable?(zyTablechange=1,$.qu(".Tripb").style.display="none",$.qu(".Tripb-box").style.display="none",$.qu(".goReason").style.display="block",eisall&&($.qu(".ygLeft").style.background="#f3eeee",changeysRight()),$.qu(".zycp").style.display="inline-block",$.qu(".zycp").style.background="#eee",backFlight&&($.qu(".mttdata1-sp3").style.display="none",$.qu(".zycp1").style.display="none",$.qu(".zycp1").style.background="#fff")):($.qu(".proof").style.display="block",zyTablechange=0,$.qu(".Tripb").style.display="none",$.qu(".Tripb-box").style.display="none",$.qu(".goReason").style.display="block",eisall&&($.qu(".ygLeft").style.background="#f3eeee",changeysRight(),onOFFp?$.qu(".proof-box").style.display="none":$.qu(".proof-box").style.display="block"),$.qu(".zycp").style.display="none",$.qu(".zycp").style.background="#fff",backFlight&&($.qu(".mttdata1-sp3").style.display="inline-block",$.qu(".zycp1").style.display="none",$.qu(".zycp1").style.background="#fff")),mIsNormalPassenger=!0,mPassengerIsValidated=!1}else $.qu(".Tripb").style.display="none",$.qu(".Tripb-box").style.display="none",$.qu(".goReason").style.display="none",1==zyTable?(zyTablechange=1,1==isTrippok&&(zyTablechange=1,$.qu(".zycp").style.display="inline-block",$.qu(".zycp1").style.display="inline-block",$.qu(".zycp1").style.background="#eee",$.qu(".zycp").style.background="#eee",$.qu(".mttdata-sp3").style.display="none",$.qu(".buysafe").style.display="none",backFlight&&($.qu(".mttdata1-sp3").style.display="none")),zyTablechange=1,$.qu(".zycp").style.display="inline-block",$.qu(".zycp").style.background="#eee",backFlight&&($.qu(".mttdata1-sp3").style.display="none",$.qu(".zycp1").style.display="inline-block",$.qu(".zycp1").style.background="#eee")):($.qu(".proof").style.display="block",zyTablechange=0,$.qu(".zycp").style.display="none",$.qu(".zycp").style.background="#fff",backFlight&&($.qu(".zycp1").style.display="none",$.qu(".zycp1").style.background="#fff")),mIsNormalPassenger=!0,mPassengerIsValidated=!0;alloneMone()}function changeCabinTypeFun(e,t){var a=!1;for(var n in mPriceObj)if(!mPriceObj[n]){a=!0;break}if(mIsNormalPassenger){var r=!1;1==isTrippok&&(r=!0),r?(t=6,console.log("前台改为下直营的单")):console.log("走原来的散客逻辑")}else console.log("差旅逻辑"),a?console.log("后台下直营的单"):console.log("后台下普通的单");return[t,a]}function checkPriceFun(e){var t={};if(e);else{var a=DecFlights();e=a[0]}t={act:"checkPrice",from:e.a,to:e.b,flightNo:e.c,cabin:e.d,flightDate:e.e};var n=e.h,r="",s="";s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP");var i="/icbc/ajax.aspx";s.open("post",i,"true"),s.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=utf-8"),s.send("act=checkPrice&from="+e.a+"&to="+e.b+"&flightNo="+e.c+"&cabin="+e.d+"&flightDate="+e.e),s.onreadystatechange=function(){if(4==s.readyState)if(200==s.status){r=s.responseText;var e=!1;e=r==n;var a=t.flightNo+"_"+t.flightDate;mPriceObj[a]=e,Object.size=function(e){var t,a=0;for(t in e)e.hasOwnProperty(t)&&a++;return a};var i=Object.size(mPriceObj),o=DecFlights();i<2&&o.length>1?checkPriceFun(o[1]):console.log("验价完毕")}else(0,_api.myalertp)("myBook","验价出错了，Err"+s.status)}}function DecFlights(){return checkPricedata}function bookPulldata1(e){myBookChange1(e.theCarrier1,e.theCa),$.qu(".myBook-mtfsp1").innerHTML=getLastFive(e.data1),$.qu(".myBook-mtfsp111").innerHTML=isNextDay(e.ftime,e.ttime,e.data1),$.qu(".myBook-mtfsp2").innerHTML=e.pc,$.qu(".myBook-mtfsp3").innerHTML=e.pcnum,$.qu(".myBook-mttsp1").innerHTML=e.ftime,$.qu(".myBook-startFP").innerHTML=e.fplace,$.qu(".myBook-endFP").innerHTML=e.tplace,$.qu(".myBook-mttsp2").innerHTML=e.ttime,$.qu(".myBook-mttsp11").innerHTML=e.fport,$.qu(".myBook-mttsp22").innerHTML=e.tport,$.qu(".mttbookprice").innerHTML=e.pice1}function bookPulldata2(e){myBookChange2(e.theCarrier1,e.theCa),$.qu(".myBook1-mtfsp1").innerHTML=getLastFive(e.data1),$.qu(".myBook1-mtfsp111").innerHTML=isNextDay(e.ftime,e.ttime,e.data1),$.qu(".myBook1-mtfsp2").innerHTML=e.pc,$.qu(".myBook1-mtfsp3").innerHTML=e.pcnum,$.qu(".myBook1-mttsp1").innerHTML=e.ftime,$.qu(".myBook1-startFP").innerHTML=e.fplace,$.qu(".myBook1-endFP").innerHTML=e.tplace,$.qu(".myBook1-mttsp2").innerHTML=e.ttime,$.qu(".myBook1-mttsp11").innerHTML=e.fport,$.qu(".myBook1-mttsp22").innerHTML=e.tport,$.qu(".mttbookprice4").innerHTML=e.pice1}function pullAlldatatoBook(bookdatas,ShipFeeOnoff,Passengertt,Contact,ShipAddr,DS,Member,Tripdata){if($.qu(".lodinb").style.display="-webkit-box",backFlight){var bookdata=bookdatas[0];console.log("去程数据？");var fdatedata=bookdata.data1,tdatedata=bookdatas[1].data1}else var bookdata=bookdatas;var saferule1=$.qu(".looktext1-changetex3").innerHTML,saferule2=$.qu(".looktext1-changetex2").innerHTML,saferule3=$.qu(".looktext1-changetex1").innerHTML,therefundrule="退票： "+saferule1+"改期： "+saferule2+"签转："+saferule3,cptype=bookdata.CabinType,cptype1=bookdata.theCarrier1,DirectSale="",source="wap",cabinType=bookdata.CabinType,cabinTypeArr=changeCabinTypeFun(cptype1,cptype);cabinType=cabinTypeArr[0],6==cabinType&&(DirectSale=source=cptype1);var price=Number(bookdata.YPrice),fltsStr='["'+bookdata.RouteFromCode+'","'+bookdata.RouteToCode+'","'+bookdata.pcnum+'","'+bookdata.theCa+'","'+bookdata.data1+'","'+bookdata.ftime+'","'+bookdata.ttime+'","'+bookdata.pice1+'", "50", "0", '+price+","+DS+',0,"'+bookdata.Cabin1+'","'+bookdata.Lmodel+'", 0 ,1,"'+bookdata.Terminal+'", 0,3]',goFlightdata=bookdata.pcnum+"_"+bookdata.theCa,bookType=3,priceFrom=0,hongbao=0,refundrule=therefundrule,shipfee=ShipFeeOnoff,psg_service_fee=0,SupplyID=0;if(console.log("乘机人信息"),console.log(Passengertt),backFlight){var passenger=Passengertt[0][0];console.log("去时乘客信息"),console.log(passenger)}else var passenger=Passengertt[0];var cardNo=Member.No,memberName=Member.name,contact_id=Contact.contactid,name=Contact.name,mobile=Contact.phone,email="",shipType=0==shipfee?5:4,shipAddr=ShipAddr,shipReq="",UnitNo=UnitNo;if(Tripdata)var TripType=Tripdata.TripType,TripReason=Tripdata.TripReason,PriceReason=Tripdata.PriceReason,TripNote=Tripdata.TripNote;else var TripType="无",TripReason="无",PriceReason="无",TripNote="";var appnt=[],mynotes="";mynotes=backFlight?"往返订单":ynum>0?"成人儿童订单":"";var ispersonal=0,thebtnnump=$.qu(".ygLeft-box").getAttribute("choicetype");"block"==$.qu(".goReason").style.display&&(ispersonal=1==thebtnnump?2:0);var bkdata="{'Flight':['"+fltsStr+"'],'BookType':'"+bookType+"','CabinType':'"+cabinType+"','PriceType':'1','PriceFrom':'"+priceFrom+"','source':'"+source+"','HongBao':'"+hongbao+"','RefundRule':'"+refundrule+"','ShipFee':'"+shipfee+"','ServiceFee':'"+psg_service_fee+"','SupplyID':'"+SupplyID+"','Passenger':["+passenger+"],'CardNo':'"+cardNo+"','MemberName':'"+memberName+"','ContactID':'"+contact_id+"','ContactName':'"+name+"','ContactPhone':'"+mobile+"','Email':'"+email+"','ShipVia':"+shipType+",'ShipAddr':'"+shipAddr+"','ShipReq':'"+shipReq+"','Notes':'"+mynotes+"','Price':0,'Rate':0,'Payfee':0,'Insurance':0,'Addfee':0,'Total':0,'Remark':'','Restrictions':'不得签转','UnitNo':'','SubUnitNo':'"+UnitNo+"','TripType':'"+TripType+"','TripReason':'"+TripReason+"','PriceReason':'"+PriceReason+"','TripNote':'"+TripNote+"','Appnt':['"+appnt+"'],'PnrNo':'','PNR':'','Personal':'"+ispersonal+"' }",bk="bk="+bkdata;if(1==zyTablechange)if(onOFF&&"block"==$.qu(".buysafe").style.display)var insuretype="&insuretype="+bookdata.InsureType;else if(onOFFt&&"block"==$.qu(".buysafet").style.display)var insuretype="&insuretype=12";else var insuretype="&insuretype="+bookdata.InsureType;else if(ynum>0)var insuretype="&insuretype=3";else if(1==zyTable)var insuretype="&insuretype="+bookdata.InsureType;else var insuretype="&insuretype="+bookdata.InsureType;console.log("去程或者成人预定保险类型:"+insuretype);var DirectSale1="&DirectSale="+DirectSale,DSPo=1==ZhPolicyId1?"":ZhPolicyId1,DSPolicyID="&DSPolicyID="+DSPo,makeZyOrder="&makeZyOrder="+cabinTypeArr[1],fdate="",tdate="",cpdata="";backFlight&&(fdate=fdatedata,tdate=tdatedata,cpdata=goFlightdata);var cacheParam1={backDate:fdate,goDate:tdate,goFlight:""},cacheParam="&cacheParam ="+JSON.stringify(cacheParam1);if("3U"==zyCP)if(1==zyTable)var CHOtherParam="&CHOtherParam="+JSON.stringify(CHOtherParam1),urldata=bk+insuretype+DirectSale1+DSPolicyID+makeZyOrder+CHOtherParam+cacheParam+"&FromWhere=wap";else var CHOtherParam="&CHOtherParam=",urldata=bk+insuretype+DirectSale1+DSPolicyID+makeZyOrder+CHOtherParam+cacheParam+"&FromWhere=wap";else var CHOtherParam="&CHOtherParam=",urldata=bk+insuretype+DirectSale1+DSPolicyID+makeZyOrder+CHOtherParam+cacheParam+"&FromWhere=wap";console.log("往返订单去程提交数据或者儿童成人成人数据或者单程数据"+urldata);var oData2="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("post",flightUrl+"/icbc/OrderSumit.aspx","false"),xhr.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=utf-8"),xhr.send("isKyReq=1&url=&"+urldata),xhr.onreadystatechange=function(){if(4==xhr.readyState)if($.qu(".lodinb").style.display="none",200==xhr.status){oData2=eval("("+xhr.responseText+")");var bnumber=oData2.OrderID,bpric=oData2.Price,pnrstatus=oData2.PnrStatus;if(console.log("成人或去程预定成功返回数据 ："),console.log(oData2),bnumber>0&&bpric>0)pnrstatus.indexOf("HK")!=-1?backFlight?(localStorage.setItem("oddOrderID",bnumber),pullAlldatatoBooky(bookdatas,ShipFeeOnoff,Passengertt,Contact,ShipAddr,DS,Member,Tripdata)):ynum>0?(localStorage.setItem("oddOrderID",bnumber),pullAlldatatoBooky(bookdatas,ShipFeeOnoff,Passengertt,Contact,ShipAddr,DS,Member,Tripdata)):bookToorder(bookdata,bnumber):backFlight?(0,_api.myalertp)("myBook","去程预定失败，订单状态异常,(订单状态："+pnrstatus+")"):ynum>0?(0,_api.myalertp)("myBook","成人预定失败，订单状态异常,(订单状态："+pnrstatus+")"):(0,_api.myalertp)("myBook","预定失败，订单状态异常,(订单状态："+pnrstatus+")");else{if(oData2.Info)(0,_api.myalertp)("myBook",oData2.Info);else{var theca=bookdata.theCa;theca.length>1?(0,_api.myalertp)("myBook","预定失败，请重试或者选择其他航班！(当前舱位编码:"+theca+")"):(0,_api.myalertp)("myBook","预定失败，请重试或者选择其他航班！")}console.log(oData2)}}else(0,_api.myalertp)("myBook","出错了，数据请求失败！")}}function pullAlldatatoBooky(bookdatas,ShipFeeOnoff,Passenger,Contact,ShipAddr,DS,Member,Tripdata){
if($.qu(".lodinb").style.display="-webkit-box",backFlight)var bookdatab=bookdatas[1],tdatedata=bookdatab.data1,fdatedata=bookdatas[0].data1;else var bookdatab=bookdatas;var allData={},saferule1=$.qu(".looktext1-changetex3").innerHTML,saferule2=$.qu(".looktext1-changetex2").innerHTML,saferule3=$.qu(".looktext1-changetex1").innerHTML,therefundrule="退票： "+saferule1+"改期： "+saferule2+"签转："+saferule3,cptype=bookdatab.CabinType,cptype1=bookdatab.theCarrier1,DirectSale="",source="wap",cabinType=bookdatab.CabinType,cabinTypeArr=changeCabinTypeFun(cptype1,cptype);cabinType=cabinTypeArr[0],6==cabinType&&(DirectSale=source=cptype1),console.log("source2:"+source);var price=Number(bookdatab.YPrice);if(0!=ynum)var fltsStr='["'+bookdatab.RouteFromCode+'","'+bookdatab.RouteToCode+'","'+bookdatab.pcnum+'","'+isYca+'","'+bookdatab.data1+'","'+bookdatab.ftime+'","'+bookdatab.ttime+'","'+bookdatab.pice1+'", "50", "0", '+price+","+DS+',0,"'+bookdatab.Cabin1+'","'+bookdatab.Lmodel+'", 0 ,1,"'+bookdatab.Terminal+'", 0,3]';else var fltsStr='["'+bookdatab.RouteFromCode+'","'+bookdatab.RouteToCode+'","'+bookdatab.pcnum+'","'+bookdatab.theCa+'","'+bookdatab.data1+'","'+bookdatab.ftime+'","'+bookdatab.ttime+'","'+bookdatab.pice1+'", "50", "0", '+price+","+DS+',0,"'+bookdatab.Cabin1+'","'+bookdatab.Lmodel+'", 0 ,1,"'+bookdatab.Terminal+'", 0,3]';var goFlightdata=bookdatab.pcnum+"_"+bookdatab.theCa,bookType=3,priceFrom=0,hongbao=0,refundrule=therefundrule,shipfee=0,psg_service_fee=0,SupplyID=0;if(backFlight)var passenger=Passenger[1][0];else var passenger=Passenger[1];var cardNo=Member.No,memberName=Member.name,contact_id=Contact.contactid,name=Contact.name,mobile=Contact.phone,email="",shipType=4,shipAddr=ShipAddr,shipReq="",UnitNo=UnitNo;if(Tripdata)var TripType=Tripdata.TripType,TripReason=Tripdata.TripReason,PriceReason=Tripdata.PriceReason,TripNote=Tripdata.TripNote;else var TripType="无",TripReason="无",PriceReason="无",TripNote="";var appnt=[],thebeforeid=localStorage.getItem("oddOrderID"),mynotes="";mynotes=backFlight?"往返订单,其去程订单是:"+thebeforeid:ynum>0?"成人儿童订单,关联订单是:"+thebeforeid:"";var ispersonal=0,thebtnnump=$.qu(".ygLeft-box").getAttribute("choicetype");"block"==$.qu(".goReason").style.display&&(ispersonal=1==thebtnnump?2:0);var bkdata="{'Flight':['"+fltsStr+"'],'PriOrderID':'"+thebeforeid+"','BookType':'"+bookType+"','CabinType':'"+cabinType+"','PriceType':'1','PriceFrom':'"+priceFrom+"','source':'"+source+"','HongBao':'"+hongbao+"','RefundRule':'"+refundrule+"','ShipFee':'"+shipfee+"','ServiceFee':'"+psg_service_fee+"','SupplyID':'"+SupplyID+"','Passenger':["+passenger+"],'CardNo':'"+cardNo+"','MemberName':'"+memberName+"','ContactID':'"+contact_id+"','ContactName':'"+name+"','ContactPhone':'"+mobile+"','Email':'"+email+"','ShipVia':"+shipType+",'ShipAddr':'"+shipAddr+"','ShipReq':'"+shipReq+"','Notes':'"+mynotes+"','Price':0,'Rate':0,'Payfee':0,'Insurance':0,'Addfee':0,'Total':0,'Remark':'','Restrictions':'不得签转','UnitNo':'','SubUnitNo':'"+UnitNo+"','TripType':'"+TripType+"','TripReason':'"+TripReason+"','PriceReason':'"+PriceReason+"','TripNote':'"+TripNote+"','Appnt':['"+appnt+"'],'PnrNo':'','PNR':'','Personal':'"+ispersonal+"'}",bk="bk="+bkdata;if(1==zyTablechange)if(onOFF&&"block"==$.qu(".buysafe").style.display)var insuretype="&insuretype="+bookdatab.InsureType;else if(onOFFt&&"block"==$.qu(".buysafet").style.display)var insuretype="&insuretype=12";else var insuretype="&insuretype="+bookdatab.InsureType;else if(ynum>0)var insuretype="&insuretype=3";else if(1==zyTable)var insuretype="&insuretype="+bookdatab.InsureType;else var insuretype="&insuretype="+bookdatab.InsureType;console.log("返程或者儿童保险类型"+insuretype);var DirectSale1="&DirectSale="+DirectSale;if(backFlight)var DSPo=1==ZhPolicyId2?"":ZhPolicyId1;else var DSPo=1==ZhPolicyId1?"":ZhPolicyId1;var DSPolicyID="&DSPolicyID="+DSPo,makeZyOrder="&makeZyOrder="+cabinTypeArr[1],fdate="",tdate="",cpdata="";backFlight&&(fdate=fdatedata,tdate=tdatedata,cpdata=goFlightdata);var cacheParam1={backDate:tdate,goDate:fdate,goFlight:cpdata},cacheParam="&cacheParam ="+JSON.stringify(cacheParam1);if("3U"==zyCP)if(backFlight)if(1==zyTable)var CHOtherParam="&CHOtherParam="+JSON.stringify(CHOtherParam2),urldata=bk+insuretype+DirectSale1+DSPolicyID+makeZyOrder+CHOtherParam+cacheParam+"&FromWhere=wap";else var CHOtherParam="&CHOtherParam=",urldata=bk+insuretype+DirectSale1+DSPolicyID+makeZyOrder+CHOtherParam+cacheParam+"&FromWhere=wap";else if(1==zyTable)var CHOtherParam="&CHOtherParam="+JSON.stringify(CHOtherParam1),urldata=bk+insuretype+DirectSale1+DSPolicyID+makeZyOrder+CHOtherParam+cacheParam+"&FromWhere=wap";else var CHOtherParam="&CHOtherParam=",urldata=bk+insuretype+DirectSale1+DSPolicyID+makeZyOrder+CHOtherParam+cacheParam+"&FromWhere=wap";else var CHOtherParam="&CHOtherParam=",urldata=bk+insuretype+DirectSale1+DSPolicyID+makeZyOrder+CHOtherParam+cacheParam+"&FromWhere=wap";console.log("往返返程提交数据或者儿童成人儿童数据:"+urldata);var oData2="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("post",flightUrl+"/icbc/OrderSumit.aspx","false"),xhr.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=utf-8"),xhr.send("isKyReq=1&url=&"+urldata),xhr.onreadystatechange=function(){if(4==xhr.readyState)if($.qu(".lodinb").style.display="none",200==xhr.status){console.log("儿童预定返回数据"),console.log(xhr.responseText),oData2=eval("("+xhr.responseText+")");var bnumber=oData2.OrderID,bpric=oData2.Price,pnrstatus=oData2.PnrStatus;console.log("儿童或返程预定成功返回数据 ："),console.log(oData2);var bnumber1=localStorage.getItem("oddOrderID");bnumber>0&&bpric>0?pnrstatus.indexOf("HK")!=-1?(bookToorder(bookdatas,bnumber1,bnumber),localStorage.getItem("oddOrderID","")):backFlight?(0,_api.myalertp)("myBook","返程预定失败，订单状态异常,(订单状态："+pnrstatus+")"):ynum>0?(0,_api.myalertp)("myBook","儿童预定失败，订单状态异常,(订单状态："+pnrstatus+")"):(0,_api.myalertp)("myBook","预定失败，订单状态异常,(订单状态："+pnrstatus+")"):(0!=ynum?oData2.Info?(0,_api.myalertp)("myBook","儿童预定失败，"+oData2.Info):(0,_api.myalertp)("myBook","儿童预定失败，请重试或者选择其他航班！"):oData2.Info?(0,_api.myalertp)("myBook","返程预定失败，"+oData2.Info):(0,_api.myalertp)("myBook","返程预定失败，请重试或者选择其他航班！"),localStorage.getItem("oddOrderID",""),console.log(oData2))}else(0,_api.myalertp)("myBook","出错了，预定数据请求失败！")}}function bookToorder(e,t,a){var n="";n=a?[t,a]:[t];var r=0;r=0!=ynum?$.qu(".mttbookpricey").innerHTML:0;var s={allprice:$.qu(".allprice11").innerHTML,OrderID:n,yprice:r},i={ynum:ynum,onum:onum+odnum,safeprice:$.qu(".mttbookprice2").innerHTML,hongbaoprice:0},o=$.qus(".myBook-namel");if(0==o.length)(0,_api.myalertp)("myBook","请选择乘机人！");else for(var l=[],c=0;c<o.length;c++){var p=JSON.parse(o[c].getAttribute("data")),d=p.Age,u=p.Name,h="";h=onOFF&&"block"==$.qu(".buysafe").style.display?backFlight?"2份":"1份":onOFFt&&"block"==$.qu(".buysafet").style.display?backFlight?"2份":"1份":"无";var f={age:d,name:u,card:p.IDType,cardnum:p.IDNo,phonenum:p.Phone,safenum:h};l.push(f)}var m=[],y=$.qu(".looktext1-text").innerHTML;if(backFlight){var b=$.qu(".looktext11-text").innerHTML;m=[y,b]}else m=y;var g={name:$.qu(".linkman2").innerHTML,phonenum:$.qu(".linkman4").innerHTML},v=!0;v="block"==$.qu(".buysafe").style.display&&(!!onOFF||!(!onOFFt||"block"!=$.qu(".buysafet").style.display)),0==q&&"block"==$.qu(".goReason").style.display&&(console.log("进入改变直营电话显示问题"),zyTablechange=1,k=2);var k=0;if("block"==$.qu(".goReason").style.display){var q=$.qu(".ygLeft-box").getAttribute("choicetype");1==q?k=1:(zyTablechange=1,k=0)}$.router.go("#!/flightmb/Order",{pbtype:10,booktoorder:s,linkdata:e,peoplenum:i,safedata:m,passengerdata:l,contactdata:g,ShipAddr:ShipAddr,backFlight:backFlight,havesafe:v,zytype:zyTablechange,isxh:k},!0)}function contactdata(){var e=$.qu(".linkman2").innerHTML,t=$.qu(".linkman4").innerHTML,a=$.qu(".linkman-box").getAttribute("cid");return{name:e,phone:t,contactid:a}}function passengerhtml(e){var t=e.name,a=e.age,n=e.card,r=e.num,s=e.phone,i=1;i=onOFF&&"block"==$.qu(".buysafe").style.display?1:onOFFt&&"block"==$.qu(".buysafet").style.display?1:0;var o=e.price,l="成人"==a?50:0;return'[0,0,"'+t+'","'+a+'","'+n+'","'+r+'","",'+i+","+o+","+l+',0,"'+s+'","","",0,0,0,0,0,0,0,"",0]'}function passengerAlldataone(e){for(var t=$.qus(".myBook-namel"),a=[],n=[],r=[],s=[],i=0;i<t.length;i++){var o=JSON.parse(t[i].getAttribute("data")),l=o.Age,c="老人"==l?"成人":l,p=o.Name,d=o.IDType,u=o.IDNo,h=o.Phone,f="儿童"==c?Fprice:e;if("儿童"!=c){var m={name:p,age:c,card:d,num:u,phone:h,price:f};a.push(m)}else{""==h&&(h=thenophonechild);var m={name:p,age:c,card:d,num:u,phone:h,price:f};n.push(m)}}for(var i=0;i<a.length;i++)r.push("'"+passengerhtml(a[i])+"'");for(var i=0;i<n.length;i++)s.push("'"+passengerhtml(n[i])+"'");return[r,s]}function allmyClickbook(){var e=$.qus(".myBook-namel").length;backFlight?($.qu(".buysafe-nums").innerHTML=2*e,$.qu(".buysafe-numst").innerHTML=2*e):($.qu(".buysafe-nums").innerHTML=e,$.qu(".buysafe-numst").innerHTML=e),$.qu(".looktext-sp1").onclick=function(){onOFFs?($.qu(".looktext1-text").style.display="none",$.qu(".looktext-im1").src="https://cos.uair.cn/mb/img/botom.png",onOFFs=!1):($.qu(".looktext1-text").style.display="block",$.qu(".looktext-im1").src="https://cos.uair.cn/mb/img/top.png",onOFFs=!0)},$.qu(".looktext1-sp1").onclick=function(){onOFFs1?($.qu(".looktext11-text").style.display="none",$.qu(".looktext1-im1").src="https://cos.uair.cn/mb/img/botom.png",onOFFs1=!1):($.qu(".looktext11-text").style.display="block",$.qu(".looktext1-im1").src="https://cos.uair.cn/mb/img/top.png",onOFFs1=!0)},$.qu(".safetexth").onclick=function(){$.qu(".thesafebox").style.display="-webkit-box"},$.qu(".safetexthy").onclick=function(){$.qu(".thesafebox").style.display="-webkit-box"},$.qu(".safetexth1").onclick=function(){$.qu(".thesafebox1").style.display="-webkit-box"},$.qu(".buysafe-btnbox").onclick=function(){(0!=ddataar[8]||eisall)&&(onOFF?($.addClass($.qu(".buysafe-btnbox1"),"buysafe-btnbox1left"),$.addClass(this,"buysafe-btnboxbcf"),onOFF=!1):("ZH"==zyCP&&1==zyTable&&"block"==$.qu(".buysafet").style.display&&onOFFt&&($.removeClass($.qu(".buysafe-btnbox1t"),"buysafe-btnbox1tright"),$.removeClass($.qu(".buysafe-btnboxt"),"buysafe-btnboxtbcfb"),onOFFt=!1),$.removeClass($.qu(".buysafe-btnbox1"),"buysafe-btnbox1left"),$.removeClass(this,"buysafe-btnboxbcf"),onOFF=!0),alloneMone())},$.qu(".buysafe-btnboxt").onclick=function(){onOFFt?($.removeClass($.qu(".buysafe-btnbox1t"),"buysafe-btnbox1tright"),$.removeClass(this,"buysafe-btnboxtbcfb"),onOFFt=!1):("ZH"==zyCP&&1==zyTable&&(getsafeText(12),backFlight&&getsafeText1(12)),onOFF&&($.addClass($.qu(".buysafe-btnbox1"),"buysafe-btnbox1left"),$.addClass($.qu(".buysafe-btnbox"),"buysafe-btnboxbcf"),onOFF=!1),$.addClass($.qu(".buysafe-btnbox1t"),"buysafe-btnbox1tright"),$.addClass(this,"buysafe-btnboxtbcfb"),onOFFt=!0),alloneMone()},$.qu(".proof-btnbox").onclick=function(){onOFFp?$.router.go("#!/flightmb/contactpeople",{btype:40},!0):($.qu(".proof-btnbox1").style.left="0.1rem",this.style.backgroundColor="#ccc",$.qu(".proof-box").style.display="none",onOFFp=!0),alloneMone()},$.qu(".Tripb-btnbox").onclick=function(){onOFFr?$.router.go("#!/flightmb/Trip",{btype:50},!0):($.qu(".Tripb-btnbox1").style.left="0.1rem",this.style.backgroundColor="#ccc",$.qu(".Tripb-box").style.display="none",onOFFr=!0)},$.each($.qus(".bookdelete"),function(){this.onclick=function(){this.parentNode.parentNode.removeChild(this.parentNode);var e=$.qus(".myBook-namel").length;backFlight?($.qu(".buysafe-nums").innerHTML=2*e,$.qu(".buysafe-numst").innerHTML=2*e):($.qu(".buysafe-nums").innerHTML=e,$.qu(".buysafe-numst").innerHTML=e),checkChailvPassenger()}}),$.qu(".namepick2").onclick=function(){$.router.go("#!/flightmb/passenger",{btype:1,backFlight:backFlight},!0)},$.qu(".linkmanpick2").onclick=function(){$.router.go("#!/flightmb/mychalinkp",{btype:2},!0)},$.qu(".y_exp").onclick=function(){this.setAttribute("extype","1"),$.qu(".y_exp-btn").style.boxShadow=" 0 0 0 0.2rem #cc0000",$.qu(".n_exp").setAttribute("extype","0"),$.qu(".n_exp-btn").style.boxShadow=" 0 0 0 0.2rem #cccccc",alloneMone()},$.qu(".n_exp").onclick=function(){(0,_api.myalertp)("myBook","免费平邮，行程单属于发票，遗失不补，约10个工作日寄到"),this.setAttribute("extype","1"),$.qu(".n_exp-btn").style.boxShadow=" 0 0 0 0.2rem  #cc0000",$.qu(".y_exp").setAttribute("extype","0"),$.qu(".y_exp-btn").style.boxShadow=" 0 0 0 0.2rem  #cccccc",alloneMone()}}function addPass(e){for(var t=e.data,a=JSON.stringify(t),n=e.psid,r=t.rule,s=t.DeptId,i='<li class="myBook-namel" psid ="'+n+'"   theroule ="'+r+'" deptId="'+s+'"  data='+a+'  ><div class="bookdelete"><div class="bookdelete1"></div></div><p class="myBook-namelp1"><span class="namelp1sp1">'+t.Name+"("+t.Age+')</span></p><p class="myBook-namelp1"><span class="namelp1sp3">'+t.IDType+'</span><span class="namelp1sp4">'+t.IDNo+"</span></p></li>",o=$.qus(".myBook-namel"),l=0;l<o.length;l++){var c=o[l].getAttribute("psid");if(n==c){$.qu(".myBook-nameul").removeChild(o[l]);break}}$.qu(".myBook-nameul").innerHTML+=i;var p=$.qus(".myBook-namel"),d=p.length;backFlight?($.qu(".buysafe-nums").innerHTML=2*d,$.qu(".buysafe-numst").innerHTML=2*d):($.qu(".buysafe-nums").innerHTML=d,$.qu(".buysafe-numst").innerHTML=d)}function addLinkpe(e){$.qu(".linkman-box").setAttribute("cid",e.id);$.qu(".linkman4").innerHTML;$.qu(".linkman4").innerHTML=e.linknump,$.qu(".linkman2").innerHTML=e.linkname}function alloneMone(){var e=$.qu(".ygLeft-box").getAttribute("choicetype");if(1==zyTablechange)$.qu(".proof").style.display="none",$.qu(".proof-box").style.display="none",ShipFeeOnoff=0;else if(onOFFp||"block"!=$.qu(".proof").style.display)ShipFeeOnoff=0;else{var t=$.qu(".y_exp").getAttribute("extype");ShipFeeOnoff=1==t?shipMoney:0}for(var a=$.qus(".myBook-namel"),n=[],r=[],s=[],i=0;i<a.length;i++){var o=JSON.parse(a[i].getAttribute("data")).Age;"儿童"==o?r.push(1):"老人"==o?s.push(3):n.push(2)}if(onum=n.length,odnum=s.length,ynum=r.length,0==ynum)for(var l=$.qus(".ishidden"),c=0;c<l.length;c++)l[c].style.display="none";else for(var l=$.qus(".ishidden"),c=0;c<l.length;c++)l[c].style.display="block";0==zyTable?($.qu(".zycp").style.display="none",$.qu(".zycp1").style.display="none",$.qu(".zycp1").style.background="#fff",$.qu(".zycp").style.background="#fff",0!=ynum||0!=odnum?(0!=ynum?($.qu(".myBook-mttdatay").style.display="block",$.qu(".mttbookpricey").innerHTML=Fprice):($.qu(".myBook-mttdatay").style.display="none",backFlight&&($.qu(".mttdata1-sp3").style.display="inline-block")),$.qu(".buysafe-price").innerHTML="20",$.qu(".mttbookprice2").innerHTML="20",$.qu(".mttbookprice2y").innerHTML="20",getsafeText(3),backFlight&&getsafeText1(3)):($.qu(".myBook-mttdatay").style.display="none",$.qu(".buysafe-price").innerHTML="30",$.qu(".mttbookprice2").innerHTML="30",getsafeText(insureType),backFlight&&(getsafeText1(insureType1),$.qu(".mttdata1-sp3").style.display="inline-block"))):0==zyTablechange?(1==e&&"block"==$.qu(".goReason").style.display?$.qu(".Tripb").style.display="block":($.qu(".Tripb").style.display="none",$.qu(".Tripb-box").style.display="none"),$.qu(".buysafe").style.display="block",$.qu(".zycp").style.display="none",$.qu(".zycp1").style.display="none",$.qu(".zycp1").style.background="#fff",$.qu(".zycp").style.background="#fff"):($.qu(".zycp").style.display="inline-block",$.qu(".zycp1").style.display="inline-block",$.qu(".zycp1").style.background="#eee",$.qu(".zycp").style.background="#eee",0!=ynum?($.qu(".myBook-mttdatay").style.display="block",$.qu(".mttbookpricey").innerHTML=Fprice,$.qu(".mttdata-sp3y").style.display="inline-block","ZH"==zyCP?($.qu(".mttdata-sp1e3").innerHTML="成人票",$.qu(".mttdata-sp1e3y").innerHTML="儿童票",$.qu(".mttdata-sp3").style.display="inline-block",$.qu(".mttdata-sp3y").style.display="inline-block",$.qu(".buysafe").style.display="block",$.qu(".buysafet").style.display="block"):($.qu(".mttdata-sp3").style.display="none",$.qu(".mttdata-sp3y").style.display="none",$.qu(".buysafe").style.display="none",$.qu(".buysafet").style.display="none",$.qu(".mttdata-sp1e3").innerHTML="成人票(无保险)",$.qu(".mttdata-sp1e3y").innerHTML="儿童票(无保险)")):($.qu(".myBook-mttdatay").style.display="none","ZH"==zyCP?($.qu(".mttdata-sp1e3").innerHTML="成人票",$.qu(".mttdata-sp3").style.display="inline-block",$.qu(".buysafe").style.display="block",$.qu(".buysafet").style.display="block"):($.qu(".mttdata-sp3").style.display="none",$.qu(".buysafe").style.display="none",$.qu(".buysafet").style.display="none",$.qu(".mttdata-sp1e3").innerHTML="成人票(无保险)")));var p=parseInt($.qu(".mttbookprice").innerHTML),d=50,u=parseInt($.qu(".mttbookprice2").innerHTML),h=0;if(backFlight){var f=0;if(onOFF&&"block"==$.qu(".buysafe").style.display?(f=60,$.qu(".mttbookprice2").innerHTML=30,$.qu(".mttbookprice24").innerHTML=30):(f=0,onOFFt&&"block"==$.qu(".buysafet").style.display&&(f=40,$.qu(".mttbookprice2").innerHTML=20,$.qu(".mttbookprice24").innerHTML=20)),0==f)$.qu(".buysafe-nums").innerHTML=0,$.qu(".buysafe-numst").innerHTML=0,$.qu(".mttdata-sp3").style.display="none",$.qu(".mttdata1-sp3").style.display="none",$.qu(".mttdata-sp1e3").innerHTML="成人票(无保险)",$.qu(".mttdata1-sp1e3").innerHTML="成人票(无保险)";else{var m=$.qus(".myBook-namel").length;$.qu(".buysafe-nums").innerHTML=2*m,$.qu(".buysafe-numst").innerHTML=2*m,$.qu(".mttdata-sp3").style.display="inline-block",$.qu(".mttdata1-sp3").style.display="inline-block",$.qu(".mttdata-sp1e3").innerHTML="成人票",$.qu(".mttdata1-sp1e3").innerHTML="成人票"}$.qu(".buysafe-price").innerHTML="30",$.qu(".buysafe-pricet").innerHTML="20";var y=parseInt($.qu(".mttbookprice4").innerHTML),b=(p+y+d+d+f)*(onum+odnum)+ShipFeeOnoff,g=0,v=0;g="true"==hashongbaof?Number(hbjinef)*(onum+odnum):0,v="true"==hashongbaot?Number(hbjinet)*(onum+odnum):0,h=g+v}else{if(onOFF&&"block"==$.qu(".buysafe").style.display?0!=ynum?"ZH"==zyCP&&1==zyTable?(u=30,$.qu(".mttbookprice2y").innerHTML="30",$.qu(".mttbookprice2").innerHTML="30"):(u=20,$.qu(".mttbookprice2y").innerHTML="20",$.qu(".mttbookprice2").innerHTML="20"):(u=30,$.qu(".mttbookprice2y").innerHTML="30",$.qu(".mttbookprice2").innerHTML="30"):(u=0,onOFFt&&"block"==$.qu(".buysafet").style.display&&(u=20,$.qu(".mttbookprice2y").innerHTML="20",$.qu(".mttbookprice2").innerHTML="20")),0==u)$.qu(".buysafe-nums").innerHTML=0,$.qu(".buysafe-numst").innerHTML=0,$.qu(".mttdata-sp3").style.display="none",$.qu(".mttdata-sp3y").style.display="none",$.qu(".mttdata-sp1e3").innerHTML="成人票(无保险)",$.qu(".mttdata-sp1e3y").innerHTML="儿童票(无保险)";else{var m=$.qus(".myBook-namel").length;backFlight?($.qu(".buysafe-nums").innerHTML=2*m,$.qu(".buysafe-numst").innerHTML=2*m):($.qu(".buysafe-nums").innerHTML=m,$.qu(".buysafe-numst").innerHTML=m),0!=ynum?($.qu(".myBook-mttdatay").style.display="block",$.qu(".mttdata-sp3").style.display="inline-block",$.qu(".mttdata-sp3y").style.display="inline-block",$.qu(".mttdata-sp1e3").innerHTML="成人票",$.qu(".mttdata-sp1e3y").innerHTML="儿童票",$.qu(".mttbookprice2").innerHTML=u,$.qu(".mttbookprice2y").innerHTML=u):($.qu(".myBook-mttdatay").style.display="none",$.qu(".mttdata-sp3").style.display="inline-block",$.qu(".mttdata-sp3y").style.display="none",$.qu(".mttdata-sp1e3").innerHTML="成人票",$.qu(".mttbookprice2").innerHTML=u)}var k=$.qu(".mttbookpricey").innerHTML,q=k?k:0,x=parseInt(q);console.log(x);var b=(p+d+u)*(onum+odnum)+ynum*(x+u)+ShipFeeOnoff;"true"==hashongbaof&&(h=ynum>0?Fprice<themoneycheck?Number(hbjinef)*(onum+odnum):Number(hbjinef)*(onum+odnum+ynum):Number(hbjinef)*(onum+odnum))}var T=h,_=b-T;0==h?$.qu(".hongbaotext").style.display="none":($.qu(".hongbaotext").innerHTML="(总"+b+"-红包"+T+")",$.qu(".hongbaotext").style.display="inline-block"),$.qu(".allprice11").innerHTML=_}function myBookChange1(carrier,seat){var oData2="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/ajax.aspx?isKyReq=1&act=getOtherKyData&ACTION=GetRefundDef&carrier="+carrier+"&seat="+seat+"&reqPath=utlsiteservice.aspx","false"),xhr.send(),xhr.onreadystatechange=function(){4==xhr.readyState&&(200==xhr.status?(""!=xhr.responseText?(oData2=eval(xhr.responseText),$.qu(".looktext1-changetex1").innerHTML=oData2[0].EndorseNotice,$.qu(".looktext1-changetex2").innerHTML=oData2[0].UpNotice,$.qu(".looktext1-changetex3").innerHTML=oData2[0].RefundNotice):($.qu(".looktext1-changetex1").innerHTML="退改签规则以航空公司最新规则为准",$.qu(".looktext1-changetex2").innerHTML="退改签规则以航空公司最新规则为准",$.qu(".looktext1-changetex3").innerHTML="退改签规则以航空公司最新规则为准"),myBookChange1y(carrier,isYca)):(0,_api.myalertp)("myBook","查询退改签出错了，Err"+xhr.status))}}function myBookChange1y(carrier,seat){var oData2="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/ajax.aspx?isKyReq=1&act=getOtherKyData&ACTION=GetRefundDef&carrier="+carrier+"&seat="+seat+"&reqPath=utlsiteservice.aspx","false"),xhr.send(),xhr.onreadystatechange=function(){4==xhr.readyState&&(200==xhr.status?""!=xhr.responseText?(oData2=eval(xhr.responseText),$.qu(".looktext1-changetex1y").innerHTML=oData2[0].EndorseNotice,$.qu(".looktext1-changetex2y").innerHTML=oData2[0].UpNotice,$.qu(".looktext1-changetex3y").innerHTML=oData2[0].RefundNotice):($.qu(".looktext1-changetex1y").innerHTML="退改签规则以航空公司最新规则为准",$.qu(".looktext1-changetex2y").innerHTML="退改签规则以航空公司最新规则为准",$.qu(".looktext1-changetex3y").innerHTML="退改签规则以航空公司最新规则为准"):(0,_api.myalertp)("myBook","查询退改签出错了，Err"+xhr.status))}}function myBookChange2(carrier,seat){var oData2="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/ajax.aspx?isKyReq=1&act=getOtherKyData&ACTION=GetRefundDef&carrier="+carrier+"&seat="+seat+"&reqPath=utlsiteservice.aspx","false"),xhr.send(),xhr.onreadystatechange=function(){4==xhr.readyState&&(200==xhr.status?""!=xhr.responseText?(oData2=eval(xhr.responseText),$.qu(".looktext11-changetex1").innerHTML=oData2[0].EndorseNotice,$.qu(".looktext11-changetex2").innerHTML=oData2[0].UpNotice,$.qu(".looktext11-changetex3").innerHTML=oData2[0].RefundNotice):($.qu(".looktext11-changetex1").innerHTML="退改签规则以航空公司最新规则为准",$.qu(".looktext11-changetex2").innerHTML="退改签规则以航空公司最新规则为准",$.qu(".looktext11-changetex3").innerHTML="退改签规则以航空公司最新规则为准"):(0,_api.myalertp)("myBook","查询退改签出错了，Err"+xhr.status))}}function getsafeText(insureType){function myinsuredata(insureType1){var oData2="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/ajax.aspx?isKyReq=1&act=GetInsure&insuretype="+insureType1,"true"),xhr.send(),xhr.onreadystatechange=function(){if(4==xhr.readyState)if(200==xhr.status){oData2=eval("("+xhr.responseText+")");var ptext=oData2.Info,safeprice=Number(oData2.Price);$.qu(".mttbookprice2").innerHTML=safeprice;var str='<p class="theword">'+ptext+'</p><a href="javascript:;" class="thesafebox-ok">我已知晓</a>';$.qu(".thesafebox-div").innerHTML=str,$.qu(".thesafebox-ok").onclick=function(){$.qu(".thesafebox").style.display="none"}}else(0,_api.myalertp)("myBook","查询保险说明出错了，Err"+xhr.status)}}myinsuredata(insureType)}function getsafeText1(insureType){function myinsuredata1(insureType1){var oData2="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/ajax.aspx?isKyReq=1&act=GetInsure&insuretype="+insureType1,"true"),xhr.send(),xhr.onreadystatechange=function(){if(4==xhr.readyState)if(200==xhr.status){if(xhr.responseText){oData2=eval("("+xhr.responseText+")");var ptext1=oData2.Info,safeprice1=Number(oData2.Price);$.qu(".mttbookprice24").innerHTML=safeprice1;var str='<p class="theword1">'+ptext1+'</p><a href="javascript:;" class="thesafebox1-ok">我已知晓</a>';$.qu(".thesafebox1-div").innerHTML=str,$.qu(".thesafebox1-ok").onclick=function(){$.qu(".thesafebox1").style.display="none"}}}else(0,_api.myalertp)("myBook","查询保险说明出错了，Err"+xhr.status)}}myinsuredata1(insureType)}function isNextDay(e,t,a){var n=removeM(e)-removeM(t)>0?GetDateStrH(a,"24"):a;return getLastFive(n)}function getLastFive(e){return e.substring(e.length-5,e.length)}function removeM(e){return parseInt(e.replace(/\:/g,""))}function GetDateStrH(e,t){var a=e.substring(0,4),n=e.substring(5,7)-1,r=e.substring(8,10),s=new Date(a,n,r);s.setHours(s.getHours()+t);var i=s.getFullYear(),o=s.getMonth()+1,l=s.getDate();return 1==(o+"").length&&(o="0"+o),1==(l+"").length&&(l="0"+l),i+"-"+o+"-"+l}function getMyStyle(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle(e,!1)[t]}function hideInfo(e){var t=e.length;return t<18?e.replace(/(.{4})(.{2})/,"$1-$2-"):e.replace(/^(.{6})(?:\d+)(.{4})$/,"$1****$2")}function getabinCount(){var e=DecFlights();console.log("验票初始数据"),console.log(e.length),console.log(e),gettn(e,0)}function gettn(e,t){var a={searchType:"1",goDate:e[0].e};0==t&&e.length>1&&(a.searchType="2",a.goFlight="",a.backDate=e[1].e),1==t&&(a.searchType="3",a.goFlight=e[1].c+"_"+e[1].d,a.backDate=e[1].e);var n=({act:"checkCabinCount",org_city:e[t].a,dst_city:e[t].b,org_date:e[t].e,cabinCode:e[t].d,priceType:e[t].ct,cabinCount:e[t].v,flightNo:e[t].c,otherParam:JSON.stringify(a),iSeq:t},"act=checkCabinCount&org_city="+e[t].a+"&dst_city="+e[t].b+"&org_date="+e[t].e+"&cabinCode="+e[t].d+"&priceType="+e[t].ct+"&cabinCount="+e[t].v+"&flightNo="+e[t].c+"&otherParam="+JSON.stringify(a)+"&iSeq="+t),r="",s="";s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),s.open("post","/icbc/ajax.aspx","false"),s.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=utf-8"),s.send(n),s.onreadystatechange=function(){if(4==s.readyState)if(200==s.status){if(console.log("验票数据返回"),r=s.responseText,console.log(r),""==r)return!1;backFlight&&0==t?"B"==r?(0,_api.myalertp)("myBook","您预订的去程航班机票已售完，请重新查询预订",function(){$.router.go("#!/flightmb/detail",urldataxh,!0)}):getgofligthn(e,r):backFlight&&1==t?"B"==r?(0,_api.myalertp)("myBook","您预订的返程航班机票已售完，请重新查询预订",function(){$.router.go("#!/flightmb/detail",urldataxh,!0)}):"A"==r&&"A"!=formnumber?(0,_api.myalertp)("myBook","去程航班舱位仅剩"+formnumber+"个座位,请尽快完成预订。"):"A"!=r&&"A"!=formnumber?(0,_api.myalertp)("myBook","去程航班舱位仅剩"+formnumber+"个座位,回程航班舱位仅剩"+r+"个座位，请尽快完成预订。"):"A"!=r&&"A"==formnumber&&(0,_api.myalertp)("myBook","回程航班舱位仅剩"+r+"个座位，请尽快完成预订。"):backFlight||(isNaN(r)?"A"==r||"B"==r&&(0,_api.myalertp)("myBook","您预订的航班机票已售完，请重新查询预订",function(){$.router.go("#!/flightmb/detail",urldataxh,!0)}):(0,_api.myalertp)("myBook","该舱位仅剩"+r+"个座位，请尽快完成预订"))}else(0,_api.myalertp)("myBook","实时查询余票数量出错了，Err"+s.status)}}function getgofligthn(e,t){formnumber=t,gettn(e,1)}function getAjaxParam(e,t){var a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=t.match(a);return null!=n?unescape(n[2]):null}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),_kutil=__webpack_require__(6),$=__webpack_require__(5),_view=__webpack_require__(33),fcity="a",tcity="",OT=1,theID="",theCarrier="",bookdata1={},bookdata2={},Member="",ShipAddr="",onOFFs=!0,onOFFs1=!0,onOFF=!0,onOFFt=!1,onOFFp=!0,onOFFr=!0,onOFFtr=!0,ShipFeeOnoff="",shipMoney=10,insureType="",insureType1="",insureTypeb="",cabinType="",onepiect1="",onepiect2="",Fprice="",DS="",DS1="",ynum=0,onum=0,odnum=0,backFlight=!1,checkPricedata="",mPriceObj={},nottripNum=[],mIsNormalPassenger=!0,mPassengerIsValidated=!0,UnitNo="010135.00008006",theAddresdata="",Tripdata="",zyTable="",zyTablechange=0,zyCP="",isY=!0,isYca="",isDis=!1,hbjinef=0,hashongbaof="false",hbjinet=0,hashongbaot="false",themoneycheck=800,isTrippok=3,ZhPolicyId1=0,ZhPolicyId2=0,CHOtherParam1={},CHOtherParam2={},thenophonechild="",fromlowflght={},fromlowflghtprice="",tolowflght={},tolowflghtprice={},fromlowflghto={},fromlowflghtpriceo="",tolowflghto={},tolowflghtpriceo={},tonowpriceo={},isclearps=1,frestnum=0,trestnum=0,ddataar=[],pfjpricek={},urldataxh="",formnumber="",eisall=!1,_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/book$",this.hash="/flightmb/book",this.title="机票预订",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.searchJoin+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){if(console.log(t),isclearps=t.isclearps,1==t.pbtype)addPass(t.pdata),checkChailvPassenger();else if(2==t.pbtype)addLinkpe(t.linkdata);else if(40==t.pbtype)if(""==t.data)$.qu(".proof-btnbox1").style.left="0.1rem",$.qu(".proof-btnbox").style.backgroundColor="#ccc",$.qu(".proof-box").style.display="none",onOFFp=!0,$.qu(".proof-boxt2n").innerHTML="",$.qu(".proof-boxt2p").innerHTML="",$.qu(".proof-boxt2c").innerHTML="",$.qu(".proof-boxt2t").innerHTML="",alloneMone();else{var a=(t.data.psid,t.data.data);$.qu(".proof-btnbox1").style.left="1.2rem",$.qu(".proof-btnbox").style.backgroundColor="#cc0000",$.qu(".proof-box").style.display="block",onOFFp=!1,$.qu(".proof-boxt2n").innerHTML=a.Name,$.qu(".proof-boxt2p").innerHTML=a.Phone,$.qu(".proof-boxt2c").innerHTML=a.Province+a.City+a.Town,$.qu(".proof-boxt2t").innerHTML=a.Addr,theAddresdata=a.Province+a.City+a.Town+a.Addr+"("+a.Name+"收)"+a.Phone,alloneMone()}else if(50==t.btype)Tripdata=t.readata,""!=t.readata?($.qu(".Tripb-box").style.display="block",$.qu(".Tripb-boxt2n").innerHTML=t.readata.TripType,$.qu(".Tripb-boxt2p").innerHTML=t.readata.TripReason,$.qu(".Tripb-boxt2c").innerHTML=t.readata.PriceReason,$.qu(".Tripb-boxt2t").innerHTML=t.readata.TripNote,$.qu(".Tripb-btnbox1").style.left="1.2rem",$.qu(".Tripb-btnbox").style.backgroundColor="#cc0000",$.qu(".Tripb-box").style.display="block",onOFFr=!1):($.qu(".Tripb-btnbox1").style.left="0.1rem",$.qu(".Tripb-btnbox").style.backgroundColor="#ccc",$.qu(".Tripb-box").style.display="none",onOFFr=!0);else if(3==t.pbtype){bookdata1=t.ptbdata1,bookdata2=t.ptbdata2,pfjpricek=t.pfjprice,backFlight=!!bookdata2;var n="";bookdata2&&(n=bookdata2.data1);var r={city00:bookdata1.fplace,city11:bookdata1.tplace,time00:bookdata1.data1,time11:n,cliktype:1,backtype:1};if(urldataxh=backFlight?{citydetail1:r.city00,citydetail2:r.city11,timedetail1:r.time11,timedetail2:r.time00,cliktype:1,backtype:1}:{citydetail1:r.city00,citydetail2:r.city11,timedetail1:r.time00,timedetail2:r.time11,cliktype:1,backtype:1},bookdata1.thelowf){fromlowflght=bookdata1.thelowf,fromlowflghtprice=fromlowflght.pice1,fromlowflghto=bookdata1.thelowfo,fromlowflghtpriceo=fromlowflghto.pice1;var s=JSON.stringify(bookdata1);localStorage.setItem("xhbookd1",s)}else{var i=JSON.parse(localStorage.getItem("xhbookd1"));fromlowflght=i.thelowf,fromlowflghtprice=fromlowflght.pice1,fromlowflghto=i.thelowfo,fromlowflghtpriceo=fromlowflghto.pice1}if(bookdata2&&bookdata2.thelowf){tolowflght=bookdata2.thelowf,tolowflghtprice=tolowflght.pice1,tolowflghto=bookdata2.thelowfo,tolowflghtpriceo=tolowflghto.pice1;var o=JSON.stringify(bookdata2);localStorage.setItem("xhbookd2",o)}else{var l=JSON.parse(localStorage.getItem("xhbookd2"));l&&(tolowflght=l.thelowf,tolowflghtprice=tolowflght.pice1,tolowflghto=l.thelowfo,tolowflghtpriceo=tolowflghto.pice1)}tonewbookhtml();insureType=bookdata1.InsureType,cabinType=bookdata1.CabinType,zyTable=bookdata1.zytypep,zyCP=bookdata1.theCarrier1,isTrippok=bookdata1.isTrippok;var c="";switch(zyCP){case"ZH":c="深航直营";break;case"CZ":c="南航直营";break;case"3U":c="川航直营";break;case"HU":c="海南直营"}if(1==zyTable?("ZH"==zyCP?(getsafeText(insureType),$.qu(".buysafe").style.display="block",$.qu(".buysafet").style.display="block",$.qu(".mttdata-sp1e3").innerHTML="成人票",$.qu(".mttdata-sp3").style.display="inline-block"):($.qu(".mttdata-sp3").style.display="none",$.qu(".buysafe").style.display="none",$.qu(".buysafet").style.display="none",$.qu(".mttdata-sp1e3").innerHTML="成人票(无保险)"),$.qu(".zycp").style.display="inline-block",
$.qu(".zycp").innerHTML=c,$.qu(".zycp").style.background="#eee"):(getsafeText(insureType),$.qu(".zycp").style.display="none",$.qu(".zycp").style.background="#fff",$.qu(".mttdata-sp1e3").innerHTML="成人票",$.qu(".mttdata-sp3").style.display="inline-block",$.qu(".buysafe").style.display="block",$.qu(".buysafet").style.display="none"),Member=t.Member,""==bookdata2){var p=bookdata1.theCa,d=bookdata1.cabinlevel;isY=d.indexOf("经济")!=-1;var u=!1;if(isY){for(var h=["超级","明珠","高端","超值","舒适"],f=0;f<h.length;f++)if(d.indexOf(h[f])!=-1){u=!0;break}isYca=u?p:"Y"}else isDis=d.indexOf("折扣")!=-1,isYca=p;console.log("基础仓位的价格"),DS="全价"==bookdata1.discount?1:Number(bookdata1.discount.replace("折","")),frestnum=bookdata1.cbcount,$.qu(".myBook-flightbox2").style.display="none",$.qu(".flightbox1-text").style.display="none",bookPulldata1(bookdata1),onepiect1=bookdata1.pice1,Fprice=isY?u?10*(Number(onepiect1)/20).toFixed(0):10*(Number(bookdata1.YPrice)/20).toFixed(0):isDis?onepiect1:10*(Number(onepiect1)/20).toFixed(0),hbjinef=bookdata1.hbjine,hashongbaof=bookdata1.hashongbao,ZhPolicyId1=bookdata1.ZhPolicyId,CHOtherParam1="3U"==zyCP&&1==zyTable?{sequenceNumber:bookdata1.sequencenumber,cabinDesc:bookdata1.cabindesc}:""}else frestnum=bookdata1.cbcount,trestnum=bookdata2.cbcount,$.qu(".myBook-flightbox2").style.display="block",$.qu(".flightbox1-text").style.display="block",bookPulldata1(bookdata2),bookPulldata2(bookdata1),insureType1=bookdata2.InsureType,DS="全价"==bookdata1.discount?1:Number(bookdata1.discount.replace("折","")),DS1="全价"==bookdata2.discount?1:Number(bookdata2.discount.replace("折","")),1==zyTable?("ZH"==zyCP?(getsafeText1(insureType1),$.qu(".buysafe").style.display="block",$.qu(".buysafet").style.display="block",$.qu(".mttdata-sp1e3").innerHTML="成人票",$.qu(".mttdata1-sp1e3").innerHTML="成人票",$.qu(".mttdata-sp3").style.display="inline-block",$.qu(".mttdata1-sp3").style.display="inline-block"):($.qu(".mttdata-sp3").style.display="none",$.qu(".mttdata1-sp3").style.display="none",$.qu(".buysafe").style.display="none",$.qu(".buysafet").style.display="none",$.qu(".mttdata-sp1e3").innerHTML="成人票(无保险)",$.qu(".mttdata1-sp1e3").innerHTML="成人票(无保险)"),$.qu(".zycp1").style.display="inline-block",$.qu(".zycp1").innerHTML=c,$.qu(".zycp").style.display="inline-block",$.qu(".zycp").innerHTML=c,$.qu(".zycp1").style.background="#eee",$.qu(".zycp").style.background="#eee","3U"==zyCP?(CHOtherParam1={sequenceNumber:bookdata1.sequencenumber,cabinDesc:bookdata1.cabindesc},CHOtherParam2={sequenceNumber:bookdata2.sequencenumber,cabinDesc:bookdata2.cabindesc}):(CHOtherParam1="",CHOtherParam2="")):(getsafeText1(insureType1),$.qu(".zycp").style.display="none",$.qu(".zycp1").style.display="none",$.qu(".zycp1").style.background="#fff",$.qu(".zycp").style.background="#fff",$.qu(".mttdata-sp3").style.display="inline-block",$.qu(".mttdata1-sp3").style.display="inline-block",$.qu(".mttdata-sp1e3").innerHTML="成人票",$.qu(".mttdata1-sp1e3").innerHTML="成人票",$.qu(".buysafe").style.display="block",$.qu(".buysafet").style.display="none",CHOtherParam1={},CHOtherParam2={}),onepiect1=bookdata1.pice1,onepiect2=bookdata2.pice1,hbjinef=bookdata2.hbjine,hashongbaof=bookdata2.hashongbao,hbjinet=bookdata1.hbjine,hashongbaot=bookdata1.hashongbao,ZhPolicyId1=bookdata1.ZhPolicyId,ZhPolicyId2=bookdata1.ZhPolicyId;var m={a:bookdata1.RouteFromCode,b:bookdata1.RouteToCode,c:bookdata1.pcnum,d:bookdata1.theCa,e:bookdata1.data1,h:bookdata1.pice1,v:bookdata1.cbcount,ct:bookdata1.CabinType};if(backFlight){var y={a:bookdata2.RouteFromCode,b:bookdata2.RouteToCode,c:bookdata2.pcnum,d:bookdata2.theCa,e:bookdata2.data1,h:bookdata2.pice1,v:bookdata2.cbcount,ct:bookdata2.CabinType};checkPricedata=[y,m]}else checkPricedata=[m];getabinCount(),checkPriceFun(),checkChailvPassenger()}allmyClickbook(),getTripFn(),$.qu(".allprice2").onclick=function(){var e="";bookdata2&&(e=bookdata2.data1);var t={citydetail1:bookdata1.fplace,citydetail2:bookdata1.tplace,timedetail1:bookdata1.data1,timedetail2:e,cliktype:1,backtype:1},a=JSON.stringify(t);(0,_api.userOnoffpp)("b",myBookFn,"myBook",".lodinb",a,"抱歉，登录超时，为确保余票充足，请重新查询该航班~")},$.qu(".myBook-tt1").onclick=function(){$.router.go("#!/flightmb/detail",urldataxh,!0)},$.qu(".b_home").onclick=function(){return $.router.go("#!/flightmb/join","",!1)},pullHeadphoneB()}}]),e}();exports["default"]=_class},function(e,t){e.exports='\r\n\r\n<div id="myBook">\r\n        <div class="lodinb">\r\n            <!--<div id="caseBlanche">-->\r\n              <!--<div id="rond">-->\r\n                <!--<div id="test"></div>-->\r\n              <!--</div>-->\r\n              <!--<div id="load">-->\r\n                <!--<p>航班查询中...</p>-->\r\n              <!--</div>-->\r\n            <!--</div>-->\r\n           <img class="xhlog" src="https://cos.uair.cn/mb/img/xhlog.gif" />\r\n       </div>\r\n        <div class="thesafebox">\r\n                 <div class="thesafebox-div">\r\n                 </div>\r\n        </div>\r\n        <div class="thesafebox1">\r\n                 <div class="thesafebox1-div">\r\n                 </div>\r\n         </div>\r\n        <div class="book-alert-bg" id="book-alert">\r\n            <div class="book-alert-box">\r\n                <p class="book-alert-info"></p>\r\n                <span class="book-alert-yes">确定</span>\r\n                <span class="book-alert-no">取消</span>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="myBook-t">\r\n              <span class="myBook-tt1"><img src="https://cos.uair.cn/mb/img/back.bg.png" alt=""></span>\r\n              <span class="myBook-tt2">填写订单</span>\r\n            <a href="" class="b_phone"></a>\r\n            <img src="https://cos.uair.cn/mb/img/h_home.png" class="b_home" alt=""/>\r\n        </div>\r\n        <div class="myBook-m">\r\n            <div class="myBook-mwrap">\r\n                         <div class="myBook-flightbox1">\r\n                          <div class="Order-fl-inf">\r\n                                  <p class="allmybook-boxtm">\r\n                <img class="flight-logo" src="https://cos.uair.cn/mb/img/flight-logo.png"><span class="allmybook-boxtm1  allmybookf myBook-startFP">重庆</span><span class="d-wrapl1-right2 order-fl-right"><strong></strong></span><span class="allmybook-boxtm5 allmybookt myBook-endFP">北京</span>\r\n                <span class="Order-fl-style flightbox1-text">去程</span>\r\n            </p>\r\n            <div class="Order-fl-box">\r\n                <div class="Order-fl-l"></div>\r\n                <div class="Order-fl-c">\r\n                    <p class="Order-fl-from">\r\n                        <span class="Order-fl-from-names myBook-mttsp11">江北机场</span>\r\n                        <span class="Order-fl-from-ms myBook-mtfsp1">12-9</span>\r\n                        <span class="Order-fl-from-ts myBook-mttsp1">11:40</span>\r\n                    </p>\r\n                    <p class="Order-fl-from-info">\r\n                        <img src="" alt="">\r\n                        <span class="myBook-mtfsp2">中国国航空</span>\r\n                        <span class="myBook-mtfsp3">DFASDF123</span>\r\n                        <span class="zycp"></span>\r\n                    </p>\r\n                    <p class="Order-fl-to">\r\n                        <span class="Order-fl-from-namee myBook-mttsp22">江北机场</span>\r\n                        <span class="Order-fl-from-me myBook-mtfsp111">12-09</span>\r\n                        <span class="Order-fl-from-te myBook-mttsp2">11:40</span>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            </div>\r\n                                  <div class="myBook-mttext">\r\n                                            <div class="myBook-mttdata">\r\n                                                  <span class="mttdata-sp1"><em class="mttdata-sp1e3">成人票</em><em class="mttdata-sp1e1">￥</em><em class="mttbookprice"></em></span>\r\n                                                  <span class="mttdata-sp2"><em class="mttdata-sp1e4">基建/燃油</em><em class="mttdata-sp1e2">￥</em><em class="mttbookprice1">50</em></span>\r\n                                                  <span class="mttdata-sp3"><em class="mttdata-sp1e5">保险</em><em class="mttdata-sp1e2">￥</em><em class="mttbookprice2">30</em><a class="safetexth" href="javascript:;"><img class="safetext" src="https://cos.uair.cn/mb/img/more.png" alt=""></a></span>\r\n\r\n                                            </div>\r\n                                            <div class="myBook-mttdatay">\r\n                                                  <span class="mttdata-sp1y"><em class="mttdata-sp1e3y">儿童票</em><em class="mttdata-sp1e1y">￥</em><em class="mttbookpricey"></em></span>\r\n                                                  <span class="mttdata-sp2y"><em class="mttdata-sp1e4y">基建/燃油</em><em class="mttdata-sp1e2y">￥</em><em class="mttbookprice1y">0</em></span>\r\n                                                  <span class="mttdata-sp3y"><em class="mttdata-sp1e5y">保险</em><em class="mttdata-sp1e2y">￥</em><em class="mttbookprice2y">30</em><a class="safetexthy" href="javascript:;"><img class="safetexty" src="https://cos.uair.cn/mb/img/more.png" alt=""></a></span>\r\n\r\n                                            </div>\r\n\r\n                                            <div class="looktext">\r\n                                                  <span class="looktext-sp1">查看退改签<img class="looktext-im1" src="https://cos.uair.cn/mb/img/top.png" alt=""></span>\r\n                                                  <ul class="looktext1-text">\r\n                                                     <li class="ishidden ">\r\n                                                      <strong class="spclore  ">成人退改签:</strong>\r\n\r\n                                                     </li>\r\n                                                     <li>\r\n                                                         <strong>签转规定:</strong>\r\n                                                         <span class="looktext1-changetex1"></span>\r\n                                                     </li>\r\n                                                     <li>\r\n                                                          <strong>改期规定:</strong>\r\n                                                          <span class="looktext1-changetex2"></span>\r\n                                                     </li>\r\n                                                     <li>\r\n                                                          <strong>退票规定:</strong>\r\n                                                          <span class="looktext1-changetex3"></span>\r\n                                                     </li>\r\n                                                      <li class=" ishidden">\r\n                                                          <strong class="spclore  ">儿童退改签:</strong>\r\n\r\n                                                      </li>\r\n                                                      <li class="ishidden ">\r\n                                                          <strong>签转规定:</strong>\r\n                                                          <span class="looktext1-changetex1y"></span>\r\n                                                      </li>\r\n                                                      <li class="ishidden ">\r\n                                                          <strong>改期规定:</strong>\r\n                                                          <span class="looktext1-changetex2y"></span>\r\n                                                      </li>\r\n                                                      <li class="ishidden ">\r\n                                                          <strong>退票规定:</strong>\r\n                                                          <span class="looktext1-changetex3y"></span>\r\n                                                      </li>\r\n\r\n                                                  </ul>\r\n                                            </div>\r\n\r\n                                  </div>\r\n                         </div>\r\n                         <div class="myBook-flightbox2">\r\n\r\n                                  <div class="Order-fl-inf">\r\n            <p class="allmybook-boxtm">\r\n                <img class="flight-logo" src="https://cos.uair.cn/mb/img/flight-logo.png"><span class="allmybook-boxtm1  allmybookf myBook1-startFP">重庆</span><span class="d-wrapl1-right2 order-fl-right"><strong></strong></span><span class="allmybook-boxtm5 allmybookt myBook1-endFP">北京</span>\r\n                <span class="Order-fl-style flightbox2-text">返程</span>\r\n            </p>\r\n            <div class="Order-fl-box">\r\n                <div class="Order-fl-l"></div>\r\n                <div class="Order-fl-c">\r\n                    <p class="Order-fl-from">\r\n                        <span class="Order-fl-from-names myBook1-mttsp11">江北机场</span>\r\n                        <span class="Order-fl-from-ms myBook1-mtfsp1">12-9</span>\r\n                        <span class="Order-fl-from-ts myBook1-mttsp1">11:40</span>\r\n                    </p>\r\n                    <p class="Order-fl-from-info">\r\n                        <img src="" alt="">\r\n                        <span class="myBook1-mtfsp2">中国国航空</span>\r\n                        <span class="myBook1-mtfsp3">DFASDF123</span>\r\n                        <span class="zycp1"></span>\r\n                    </p>\r\n                    <p class="Order-fl-to">\r\n                        <span class="Order-fl-from-namee myBook1-mttsp22">江北机场</span>\r\n                        <span class="Order-fl-from-me myBook1-mtfsp111">12-09</span>\r\n                        <span class="Order-fl-from-te myBook1-mttsp2">11:40</span>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            </div>\r\n                                  <div class="myBook1-mttext">\r\n                                             <div class="myBook1-mttdata">\r\n                                                  <span class="mttdata1-sp1"><em class="mttdata1-sp1e3">成人票</em><em class="mttdata1-sp1e1">￥</em><em class="mttbookprice4">760</em></span>\r\n                                                  <span class="mttdata1-sp2"><em class="mttdata11-sp1e4">基建/燃油</em><em class="mttdata1-sp1e2">￥</em><em class="mttbookprice14">50</em></span>\r\n                                                  <span class="mttdata1-sp3"><em class="mttdata1-sp1e5">保险</em><em class="mttdata1-sp1e2">￥</em><em class="mttbookprice24">30</em><a class="safetexth1" href="javascript:;"><img class="safetext1" src="https://cos.uair.cn/mb/img/more.png" alt=""></a></span>\r\n\r\n                                            </div>\r\n                                            <div class="looktext1">\r\n                                                  <span class="looktext1-sp1">查看退改签<img class="looktext1-im1" src="https://cos.uair.cn/mb/img/top.png" alt=""></span>\r\n                                                  <ul class="looktext11-text">\r\n                                                     <li>\r\n                                                         <strong>签转规定:</strong>\r\n                                                         <span class="looktext11-changetex1"></span>\r\n                                                     </li>\r\n                                                     <li>\r\n                                                          <strong>改期规定:</strong>\r\n                                                          <span class="looktext11-changetex2"></span>\r\n                                                     </li>\r\n                                                     <li>\r\n                                                          <strong>退票规定:</strong>\r\n                                                          <span class="looktext11-changetex3"></span>\r\n                                                     </li>\r\n                                                  </ul>\r\n                                            </div>\r\n                                   </div>\r\n                         </div>\r\n\r\n\r\n\t                     <div class="myBook-name">\r\n\t\t                         <div class="myBook-namepick">\r\n\t\t                              <strong class="namepick1">乘机人信息</strong>\r\n\t\t                              <span class="namepick2"><img src="https://cos.uair.cn/mb/img/plusp.png" alt=""></span>\r\n\t\t                         </div>\r\n\t\t                         <ul class="myBook-nameul">\r\n\t\t                         </ul>\r\n\t\t                  </div>\r\n\r\n                <div class="goReason clear">\r\n                    <div class="ygLeft">\r\n                        <div class="ygLeft-box" choiceType="1">\r\n                            <div class="ygLeft-btn"></div>\r\n                            <div>因公出行</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="ysRight">\r\n                        <div class="ysRight-box" choiceType="0">\r\n                            <div class="ysRight-btn"></div>\r\n                            <div>因私出行</div>\r\n                        </div>\r\n                    </div>\r\n                    <p class="no_trip">xxx未通过出差审批，不能选择月结，如需月结请分开下单，或者自行支付</p>\r\n                </div>\r\n\t                     <div class="myBook-linkman">\r\n\t\t                         <div class="myBook-linkmanpick">\r\n\t\t                              <strong class="linkmanpick1">联系人信息</strong>\r\n\t\t                              <span class="linkmanpick2"><img src="https://cos.uair.cn/mb/img/plusp.png" alt=""></span>\r\n\t\t                         </div>\r\n\t\t                         <div class="linkman-box">\r\n\t\t                            <p>\r\n\t\t                                <span class="linkman1">联系人</span>\r\n\t\t                                <span class="linkman2"></span>\r\n\t\t                            </p>\r\n\t\t                            <p>\r\n\t\t                                <span class="linkman1">手机</span>\r\n\t\t                                <span class="linkman4"></span>\r\n\t\t                            </p>\r\n\t\t                         </div>\r\n\r\n\t\t                  </div>\r\n\t                     <div class="buysafe">\r\n\t\t                        <span class="buysafesp1">保险</span><span><em class="buysafeem1">￥</em><span class="buysafe-price">30</span><em>×</em><span class="buysafe-nums"></span>份</span>\r\n\t\t                        <a href="javascript:;" class="buysafe-btnbox">\r\n\t\t                              <div class="buysafe-btnbox1"></div>\r\n\t\t                        </a>\r\n                         </div>\r\n                         <div class="buysafet">\r\n                             <span class="buysafesp1t">保险</span><span><em class="buysafeem1t">￥</em><span class="buysafe-pricet">20</span><em>×</em><span class="buysafe-numst">0</span>份</span>\r\n                             <a href="javascript:;" class="buysafe-btnboxt">\r\n                                 <div class="buysafe-btnbox1t"></div>\r\n                             </a>\r\n                         </div>\r\n\r\n\r\n\t                     <div class="proof">\r\n\t\t                           <span class="proof1">报销凭证<span class="proof2"></span></span>\r\n\t\t                           <div class="proof-btnbox">\r\n\t\t                              <div class="proof-btnbox1"></div>\r\n\t\t                           </div>\r\n                         </div>\r\n\t                     <ul class="proof-box clear">\r\n                             <li class="proof-box1" >\r\n                                 <div class="y_exp"  extype="1">\r\n                                         <div class="y_exp-btn"></div>\r\n                                         <div>快递</div>\r\n                                 </div>\r\n                                 <div class="n_exp" extype="0">\r\n                                         <div class="n_exp-btn"></div>\r\n                                         <div>平邮</div>\r\n                                 </div>\r\n                             </li>\r\n\t\t                      <li class="proof-box1">\r\n                                     <span class="proof-boxt1">收件人</span>\r\n                                     <span class="proof-boxt2 proof-boxt2n"></span>\r\n                              </li>\r\n                              <li class="proof-box1">\r\n                                 <span class="proof-boxt1">联系电话</span>\r\n                                 <span class="proof-boxt2p proof-boxt2"></span>\r\n                              </li>\r\n\t\t                      <li class="proof-box1">\r\n                                       <span class="proof-boxt1">所在地区</span>\r\n                                       <span class="proof-boxt2c proof-boxt2"></span>\r\n                              </li>\r\n\t\t                      <li class="">\r\n                                      <span class="proof-boxt1">详细地址</span >\r\n                                      <span class="proof-boxt2t proof-boxt2"></span>\r\n                              </li>\r\n\t                     </ul>\r\n\r\n                         <div class="Tripb">\r\n                            <span class="Tripb1">企业差旅<span class="Tripb2"></span></span>\r\n                            <div class="Tripb-btnbox">\r\n                                <div class="Tripb-btnbox1"></div>\r\n                            </div>\r\n                         </div>\r\n                         <ul class="Tripb-box">\r\n                            <li class="Tripb-box1">\r\n                                <span class="Tripb-boxt1">等级活动</span>\r\n                                <span class="Tripb-boxt2 Tripb-boxt2n"></span>\r\n                            </li>\r\n                            <li class="Tripb-box1">\r\n                                <span class="Tripb-boxt1">事由</span>\r\n                                <span class="Tripb-boxt2p Tripb-boxt2"></span>\r\n                            </li>\r\n                            <li class="Tripb-box1">\r\n                                <span class="Tripb-boxt1">选择原因</span>\r\n                                <span class="Tripb-boxt2c Tripb-boxt2"></span>\r\n                            </li>\r\n                            <li class="Tripb-box1">\r\n                                <span class="Tripb-boxt1">备注</span >\r\n                                <span class="Tripb-boxt2t Tripb-boxt2"></span>\r\n                            </li>\r\n                         </ul>\r\n\r\n            </div>\r\n        </div>\r\n        <div class="allprice">\r\n            <span class="allprice1"><em>应付</em><em class="footer-p-icon">￥</em><span  class="allprice11"></span><span class="hongbaotext">(总11000-100红包)</span></span></span>\r\n            <span class="allprice2">下一步</span>\r\n        </div>\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pullHeadphoneO(){var e=$.qu(".o_phone"),t="none"==$.qu(".Order-cpphone").style.display?0:1,a=$.qu(".Order-mtfsp3").innerHTML.substring(0,2);if(console.log("直营标记="+t),0==t)getCZphoneO("XHSV",e);else switch(a){case"ZH":getCZphoneO("ZH",e);break;case"CZ":getCZphoneO("CZ",e);break;case"3U":getCZphoneO("3U",e)}}function getCZphoneO(key,el){(0,_api.myget)(flightUrl+"/icbc/xhService.ashx","act=GETSERVICEPHONE&Source="+key,!0,function(err,res){if(err)(0,_api.myalertp)("router0","出错了，获取客服联系电话失败！");else{var oData3=eval("("+res+")"),phonts=oData3.Result.Phone,phontn=oData3.Result.Source;el.href="tel:"+phonts}})}function pushData(params,zytypep){function fromflight(e){$.qu(".Order-mtfsp1").innerHTML=getLastFive(e.data1),$.qu(".Order-mtfsp111").innerHTML=isNextDay(e.ftime,e.ttime,e.data1),$.qu(".Order-mtfsp2").innerHTML=e.pc,$.qu(".Order-mtfsp3").innerHTML=e.pcnum,$.qu(".Order-mttsp1").innerHTML=e.ftime,$.qu(".Order-mttsp11").innerHTML=e.fplace,$.qu(".Order-startFP").innerHTML=e.fplace,$.qu(".Order-mttsp2").innerHTML=e.ttime,$.qu(".Order-mttsp22").innerHTML=e.tplace,$.qu(".Order-endFP").innerHTML=e.tplace}function toflight(e){$.qu(".Order1-mtfsp1").innerHTML=getLastFive(e.data1),$.qu(".Order1-mtfsp111").innerHTML=isNextDay(e.ftime,e.ttime,e.data1),$.qu(".Order1-mtfsp2").innerHTML=e.pc,$.qu(".Order1-mtfsp3").innerHTML=e.pcnum,$.qu(".Order1-mttsp1").innerHTML=e.ftime,$.qu(".Order1-mttsp11").innerHTML=e.fplace,$.qu(".Order1-startFP").innerHTML=e.fplace,$.qu(".Order1-mttsp2").innerHTML=e.ttime,$.qu(".Order1-mttsp22").innerHTML=e.tplace,$.qu(".Order1-endFP").innerHTML=e.tplace}if(backFlight?($.qu(".Oflght-data1").style.display="inline-block",$.qu(".Oflght-data2").style.display="inline-block",$.qu(".O-flght2").style.display="block",fromflight(params.linkdata[0]),toflight(params.linkdata[1])):($.qu(".Oflght-data1").style.display="none",$.qu(".Oflght-data2").style.display="none",$.qu(".O-flght2").style.display="none",fromflight(params.linkdata)),backFlight){$.qu(".Ocpeopley").style.display="none",$.qu(".Orderlooktext1-text").innerHTML=params.safedata[0],$.qu(".Orderlooktext11-text").innerHTML=params.safedata[1],$.qu(".Otoprice").innerHTML=params.linkdata[0].pice1,$.qu(".Otoprice12").innerHTML=params.linkdata[1].pice1,$.qu(".thefee").innerHTML=params.peoplenum.hongbaoprice,$.qu(".thefee1").innerHTML=params.peoplenum.hongbaoprice;for(var Onums=$.qus(".cpeoplenum2"),Onums1=$.qus(".cpeoplenum21"),i=0;i<Onums.length;i++)Onums[i].innerHTML=params.peoplenum.onum;for(var i=0;i<Onums1.length;i++)Onums1[i].innerHTML=params.peoplenum.onum;1==params.zytype?havesafe?($.qu(".Osafe").innerHTML=params.peoplenum.safeprice,$.qu(".Osafe1").innerHTML=params.peoplenum.safeprice):($.qu(".Osafe").innerHTML=0,$.qu(".Osafe1").innerHTML=0,$.qu(".oldtwo").innerHTML=0,$.qu(".oldone").innerHTML=0):havesafe?($.qu(".Osafe").innerHTML=params.peoplenum.safeprice,$.qu(".Osafe1").innerHTML=params.peoplenum.safeprice):($.qu(".Osafe").innerHTML=0,$.qu(".Osafe1").innerHTML=0,$.qu(".oldtwo").innerHTML=0,$.qu(".oldone").innerHTML=0)}else{$.qu(".Orderlooktext1-text").innerHTML=params.safedata,$.qu(".Otoprice").innerHTML=params.linkdata.pice1,$.qu(".thefee").innerHTML=params.peoplenum.hongbaoprice,$.qu(".thefeey").innerHTML=params.peoplenum.hongbaoprice;for(var Onums=$.qus(".cpeoplenum2"),i=0;i<Onums.length;i++)Onums[i].innerHTML=params.peoplenum.onum;var Oynums=$.qus(".cpeoplenum2y");if(0==params.peoplenum.ynum)$.qu(".Ocpeopley").style.display="none";else{for(var i=0;i<Oynums.length;i++)Oynums[i].innerHTML=params.peoplenum.ynum;$.qu(".Ocpeopley").style.display="block",$.qu(".Otopricey").innerHTML=params.booktoorder.yprice,$.qu(".thefee").innerHTML=params.peoplenum.hongbaoprice}1==params.zytype?havesafe?($.qu(".Osafe").innerHTML=params.peoplenum.safeprice,$.qu(".Osafey").innerHTML=params.peoplenum.safeprice):($.qu(".Osafe").innerHTML=0,$.qu(".Osafey").innerHTML=0,$.qu(".oldtwo").innerHTML=0,$.qu(".youngone").innerHTML=0,$.qu(".oldone").innerHTML=0):havesafe?($.qu(".Osafe").innerHTML=params.peoplenum.safeprice,$.qu(".Osafey").innerHTML=params.peoplenum.safeprice):($.qu(".Osafe").innerHTML=0,$.qu(".Osafey").innerHTML=0,$.qu(".oldtwo").innerHTML=0,$.qu(".youngone").innerHTML=0,$.qu(".oldone").innerHTML=0)}if(backFlight){if(1==params.linkdata[0].zytypep&&0==isxh){var thepc1=params.linkdata[0].theCarrier1,oData1="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/xhService.ashx?act=GETSERVICEPHONE&Source="+thepc1,"false"),xhr.send(),xhr.onreadystatechange=function(){4==xhr.readyState&&(200==xhr.status?(oData1=eval("("+xhr.responseText+")"),$.qu(".phoneone").setAttribute("href","tel:"+oData1.Result.Phone),$.qu(".phoneone").innerHTML=oData1.Result.Phone):(0,_api.myalertp)("Order","出错了，获取直营联系电话失败！"))}}else $.qu(".Order-cpphone").style.display="none";if(1==params.linkdata[1].zytypep&&0==isxh){var thepc2=params.linkdata[1].theCarrier1,oData2="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/xhService.ashx?act=GETSERVICEPHONE&Source="+thepc2,"false"),xhr.send(),xhr.onreadystatechange=function(){4==xhr.readyState&&(200==xhr.status?(oData2=eval("("+xhr.responseText+")"),$.qu(".phonetwo").setAttribute("href","tel:"+oData2.Result.Phone),$.qu(".phonetwo").innerHTML=oData2.Result.Phone):(0,_api.myalertp)("Order","出错了，获取直营联系电话失败！"))}}else $.qu(".Order1-cpphone").style.display="none"}else if(1==params.linkdata.zytypep&&0==isxh){var thepc=params.linkdata.theCarrier1,oData3="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/xhService.ashx?act=GETSERVICEPHONE&Source="+thepc,"false"),xhr.send(),xhr.onreadystatechange=function(){4==xhr.readyState&&(200==xhr.status?(oData3=eval("("+xhr.responseText+")"),$.qu(".phoneone").setAttribute("href","tel:"+oData3.Result.Phone),$.qu(".phoneone").innerHTML=oData3.Result.Phone):(0,_api.myalertp)("Order","出错了，获取直营联系电话失败！"))}}else $.qu(".Order-cpphone").style.display="none";for(var alltheData=params.passengerdata,str="",i=0;i<alltheData.length;i++){var pnum=plusXing(alltheData[i].cardnum,5,4),phonenum=""!=alltheData[i].phonenum?plusXing(alltheData[i].phonenum,3,4):"";str+='<ul class="Opasengerdata-ul"><li class="Opasengerdata-li1"><sapn class="Opbg">'+(i+1)+'</sapn> <img src="https://cos.uair.cn/mb/img/q_tip.png" alt=""></li><li><span class="Opasengerdata-sp1">乘客类型:</span><span class="Opasengerdata-ptype">'+alltheData[i].age+'</span></li><li><span class="Opasengerdata-sp1">姓名:</span><span class="Opasengerdata-pname">'+alltheData[i].name+'</span></li><li><span class="Opasengerdata-sp1">证件类型:</span><span class="Opasengerdata-pcard">'+alltheData[i].card+'</span></li><li><span class="Opasengerdata-sp1">证件号码:</span><span class="Opasengerdata-pnum">'+pnum+'</span></li><li><span class="Opasengerdata-sp1">手机号码:</span><span class="Opasengerdata-pphone">'+phonenum+'</span></li><li><span class="Opasengerdata-sp1">保险:</span><span class="Opasengerdata-psafe">'+alltheData[i].safenum+"</span></li> </ul>"}$.qu(".Opasengerdata").innerHTML=str;var cphone=plusXing(params.contactdata.phonenum,3,4);$.qu(".Ocantactdata-cname").innerHTML=params.contactdata.name,$.qu(".Ocantactdata-cphone").innerHTML=cphone;var adddata=params.ShipAddr;""!=adddata?($.qu(".isShipAddr").style.display="block",$.qu(".shipfe1").innerHTML=10,$.qu(".Orderlinkadd").style.display="block",$.qu(".Orderlinkadd-box").style.display="block",$.qu(".Orderlinkadd-boxp2").innerHTML=adddata):($.qu(".isShipAddr").style.display="none",$.qu(".Orderlinkadd").style.display="none",$.qu(".Orderlinkadd-box").style.display="none"),$.qu(".Oallprice11").innerHTML=params.booktoorder.allprice;var oarrb=params.booktoorder.OrderID,oarrball="";oarrball=oarrb.length>1?oarrb[0]+","+oarrb[1]:oarrb[0],$.qu(".Order-Ordernum").innerHTML=oarrball}function plusXing(e,t,a){for(var n=e.length-t-a,r="",s=0;s<n;s++)r+="*";return e.substring(0,t)+r+e.substring(e.length-a)}function goAndPay(e){var t=getClientType(),a=flightUrl+"/HTML5/PayJump.aspx?OrderID="+e+"&ReturnUrl=&ToUrl=GoPay.aspx?&PayVia=5&clientType="+t+"&PayBank=";location.href=a}function getClientType(){var e="PC";return/android/i.test(navigator.userAgent)&&(e="android"),/ipad/i.test(navigator.userAgent)&&(e="ipad"),/iphone/i.test(navigator.userAgent)&&(e="iphone"),e}function gopaymoney(theOid,type,oid){2==type?$.qu(".lodin-O").style.display="-webkit-box":$.qu(".lodin-O").style.display="-webkit-box";var oData2="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),
xhr.open("get",flightUrl+"/icbc/xhService.ashx?act=UAIRCDTPAY&OrderID="+theOid+"&Type="+type,"true"),xhr.send(),xhr.onreadystatechange=function(){if($.qu(".lodin-O").style.display="none",4==xhr.readyState)if(200==xhr.status)if(1==type)if(oData2=eval("("+xhr.responseText+")"),1==oData2.Status&&"成功"==oData2.Msg)getbank(oData2.Result,theOid);else{var mst=oData2.Msg;"无授信账户!"==mst?(0,_api.myalertp)("Order","抱歉，该账户的差旅授信功能已关闭"):(0,_api.myalertp)("Order","抱歉，该账户的差旅授信功能发生异常")}else 2==type&&(oData2=eval("("+xhr.responseText+")"),1==oData2.Status&&"成功"==oData2.Msg?(0,_api.myalertp)("Order","恭喜，支付成功！",function(){$.qu(".creditbox").style.display="none",$.router.go("#!/flightmb/allmybook",{btype:1},!0)}):2==oData2.Status&&(0,_api.myalertp)("Order","对不起,"+oData2.Msg));else(0,_api.myalertp)("Order","支付异常，请重试！")}}function getbank(e,t){theisTripbank=e,$.qu(".payownbtnc").innerHTML=e,$.qu(".creditbox").style.display="-webkit-box",$.qu(".credit-close").onclick=function(){$.qu(".creditbox").style.display="none",$.qu(".payownbtnc").innerHTML="代扣账号"},$.qu(".payownbtnc").onclick=function(){gopaymoney(t,2,"")}}function isNextDay(e,t,a){var n=removeM(e)-removeM(t)>0?GetDateStrH(a,"24"):a;return getLastFive(n)}function getLastFive(e){return e.substring(e.length-5,e.length)}function removeM(e){return parseInt(e.replace(/\:/g,""))}function GetDateStrH(e,t){var a=e.substring(0,4),n=e.substring(5,7)-1,r=e.substring(8,10),s=new Date(a,n,r);s.setHours(s.getHours()+t);var i=s.getFullYear(),o=s.getMonth()+1,l=s.getDate();return 1==(o+"").length&&(o="0"+o),1==(l+"").length&&(l="0"+l),i+"-"+o+"-"+l}function myAlertBox(e,t,a){var n=document.getElementById("book-alert");n.style.display="-webkit-box",n.getElementsByClassName("book-alert-info")[0].innerHTML=e;var r=n.getElementsByClassName("book-alert-yes")[0],s=n.getElementsByClassName("book-alert-no")[0];r.onclick=function(){n.style.display="none",t&&"function"==typeof t&&t()},s.onclick=function(){n.style.display="none",a&&"function"==typeof a&&a()}}function getMyStyle(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle(e,!1)[t]}function showList(e,t){"none"==getMyStyle(e,"display")||""==getMyStyle(e,"display")?(e.style.display="block",t.src="https://cos.uair.cn/mb/img/top.png"):(e.style.display="none",t.src="https://cos.uair.cn/mb/img/botom.png")}function hideList(e,t){e.style.display="none",t.src="https://cos.uair.cn/mb/img/botom.png"}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),$=__webpack_require__(5),_view=__webpack_require__(35),thelinkt="",contid="",backFlight=!1,havesafe=!0,zytypep="",theisTripbank="",isxh="",_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/Order$",this.hash="/flightmb/Order",this.title="订单详情",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.searchJoin+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){console.log(t),isxh=t.isxh,backFlight=t.backFlight,havesafe=t.havesafe,pushData(t,zytypep),$.qu(".Oallprice2").onclick=function(){(0,_api.userOnoffpp)("s",function(){var e=t.booktoorder.OrderID,a="",n="";e.length>1?(n=e[0]+","+e[1],a=e[1]):(a=e[0],n=e[0]),1==isxh?gopaymoney(n,1,a):goAndPay(n)},"Order",".lodin-O","","")},$.qu(".Orderlooktext").onclick=function(){showList($.qu(".Orderlooktext1-text"),$.qu(".getPeInfo"))},$.qu(".OpriceFlight").onclick=function(){showList($.qu(".Othepriece"),$.qu(".getPeInfo1"))},$.qu(".Orderlooktext1").onclick=function(){hideList($.qu(".Orderlooktext11-text"),$.qu(".getPsInfo"))},$.qu(".OpriceFlight1").onclick=function(){showList($.qu(".Othepriece1"),$.qu(".getPriInfo"))},$.qu(".Orderpasenger").onclick=function(){showList($.qu(".Opasengerdata"),$.qu(".getPsInfo1"))},$.qu(".Orderpacantact").onclick=function(){showList($.qu(".Ocantactdata"),$.qu(".getPeInfo2"))},$.qu(".Orderlinkadd").onclick=function(){showList($.qu(".Orderlinkadd-box"),$.qu(".getProInfo3"))},$.qu(".Order-tt1").onclick=function(){hideList($.qu(".Orderlooktext1-text"),$.qu(".getPeInfo")),hideList($.qu(".Othepriece"),$.qu(".getPeInfo1")),showList($.qu(".Orderlooktext11-text"),$.qu(".getPsInfo")),hideList($.qu(".Othepriece1"),$.qu(".getPriInfo")),hideList($.qu(".Opasengerdata"),$.qu(".getPsInfo1")),hideList($.qu(".Ocantactdata"),$.qu(".getPeInfo2")),hideList($.qu(".Orderlinkadd-box"),$.qu(".getProInfo3")),$.router.go("#!/flightmb/allmybook",{btype:2},!0)},$.qu(".o_home").onclick=function(){return $.router.go("#!/flightmb/join","",!1)},pullHeadphoneO()}}]),e}();exports["default"]=_class},function(e,t){e.exports='\r\n<div id="Order">\r\n        <div class="lodin-O">\r\n              <!--<div id="caseBlanche">-->\r\n                <!--<div id="rond">-->\r\n                  <!--<div id="test"></div>-->\r\n                <!--</div>-->\r\n                <!--<div id="load">-->\r\n                  <!--<p>航班查询中...</p>-->\r\n                <!--</div>-->\r\n              <!--</div>-->\r\n             <img class="xhlog" src="https://cos.uair.cn/mb/img/xhlog.gif" />\r\n         </div>\r\n        <div class="Order-t">\r\n              <span class="Order-tt1"><img src="https://cos.uair.cn/mb/img/back.bg.png" alt=""></span>\r\n              <span class="Order-tt2">填写订单</span>\r\n              <a href="" class="o_phone"></a>\r\n              <img src="https://cos.uair.cn/mb/img/h_home.png" class="o_home" alt=""/>\r\n        </div>\r\n        <div class="lodin-og">\r\n            <div id="caseBlanche-og">\r\n                <div id="rond-og">\r\n                    <div id="test-og"></div>\r\n                </div>\r\n                <div id="load-og">\r\n                    <p id="loadorder-type" >授信支付中...</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="Order-m">\r\n            <div class="Order-mwrap">\r\n                <ul class="Order-h1">\r\n                    <li class="Order-h1nomo"><span class="Order-h1st">订单状态:</span><span class="Order-h1state">未付款</span></li>\r\n                    <li class="Order-h1mo"><span class="Order-h1st">预定结果：</span><span class="Order-h1state">恭喜,预定成功！！</span></li>\r\n                    <li><span>订单已经提交成功！</span><span>订单号：<em class="Order-Ordernum">58040154</em></span></li>\r\n                    <li>请在<strong>20分钟</strong>内完成支付！</li>\r\n\r\n                </ul>\r\n                <div class="O-flght1">\r\n                    <div class="Order-fl-inf clear">\r\n                        <p class="allmybook-boxtm">\r\n                            <img class="flight-logo" src="https://cos.uair.cn/mb/img/flight-logo.png"><span class="allmybook-boxtm1  allmybookf Order-startFP">重庆</span><span class="d-wrapl1-right2 order-fl-right"><strong></strong></span><span class="allmybook-boxtm5 allmybookt Order-endFP">北京</span>\r\n                            <span class="Order-fl-style Oflght-data1">去程</span>\r\n                        </p>\r\n                        <div class="Order-fl-box">\r\n                            <div class="Order-fl-l"></div>\r\n                            <div class="Order-fl-c">\r\n                                <p class="Order-fl-from">\r\n                                    <span class="Order-fl-from-names Order-mttsp11">江北机场</span>\r\n                                    <span class="Order-fl-from-ms Order-mtfsp1">12-9</span>\r\n                                    <span class="Order-fl-from-ts Order-mttsp1">11:40</span>\r\n                                </p>\r\n                                <p class="Order-fl-from-info">\r\n                                    <img src="" alt="">\r\n                                    <span class="Order-mtfsp2">中国国航空</span>\r\n                                    <span class="Order-mtfsp3">DFASDF123</span>\r\n                                    <!-- <span class="zycp"></span> -->\r\n                                </p>\r\n                                <p class="Order-fl-to">\r\n                                    <span class="Order-fl-from-namee Order-mttsp22">江北机场</span>\r\n                                    <span class="Order-fl-from-me Order-mtfsp111">12-09</span>\r\n                                    <span class="Order-fl-from-te Order-mttsp2">11:40</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div class="Order-cpphone">\r\n                            <span>官方直营</span>\r\n                            <span>如有疑问请致电</span>\r\n                            <a class="phoneone" href="tel:95539">95539</a>\r\n                        </div>\r\n                    </div>\r\n                    <div class="Orderlooktext">\r\n                        <p class="orderdlooktext-pw">\r\n                            <span class="left-title">退改签规定</span><img class="getPeInfo" src="https://cos.uair.cn/mb/img/top.png" alt="">\r\n                        </p>\r\n                        <ul class="Orderlooktext1-text">\r\n\r\n                        </ul>\r\n                    </div>\r\n                    <div class="OpriceFlight">\r\n                        <p class="orderdlooktext-pw">\r\n                            <span class="left-title">价格明细</span><img class="getPeInfo1" src="https://cos.uair.cn/mb/img/botom.png" alt="">\r\n                        </p>\r\n                        <div class="Othepriece">\r\n                            <ul class="Ocpeople">\r\n                                <li class="Ocpeople-li">\r\n                                    <span class="Ocpeople-sp1">成人票</span>\r\n\r\n                                    <span class="Otoprice1"><em class="Opsmall">￥</em><em class="Otoprice">910</em></span>\r\n                                    <div class="OPnum"><span>×</span><span class="cpeoplenum2">2</span></div>\r\n                                </li>\r\n                                <li class="Ocpeople-li">\r\n                                    <span class="Ocpeople-sp1">基建/燃油</span>\r\n                                    <span class="Ooil1O"><em class="Opsmall">￥</em><em class="OoilO">50</em></span>\r\n                                    <div class="OPnum"><span>×</span><span class="cpeoplenum2">2</span></div>\r\n                                </li>\r\n                                <li class="Ocpeople-li">\r\n                                    <span class="Ocpeople-sp1">保险</span>\r\n                                    <span class="Ooil1O"><em class="Opsmall">￥</em><em class="Osafe">30</em></span>\r\n                                    <div class="OPnum"><span>×</span><span class="cpeoplenum2  oldone">2</span></div>\r\n                                </li>\r\n                                <li class="Ocpeople1-li   isShipAddr" >\r\n                                    <span class="Ocpeople1-sp1">配送费</span>\r\n                                    <span class="Ooil1O1"><em class="Opsmall">￥</em><em class="shipfe1">15</em></span>\r\n                                    <div class="OPnum1"><span>×</span><span class="cpeoplenum21 shipnum ">1</span></div>\r\n                                </li>\r\n                                <li>\r\n                                    <span class="Ocpeople-sp1">返现</span>\r\n                                    <span ><em class="zreofee">￥</em><em class="Ozreofee">-</em><em class="thefee">0</em></span>\r\n                                </li>\r\n\r\n\r\n                            </ul>\r\n                            <ul class="Ocpeopley">\r\n                                <li class="Ocpeopley-li">\r\n                                    <span class="Ocpeopley-sp1">儿童票</span>\r\n\r\n                                    <span class="Otoprice1y"><em class="Opsmally">￥</em><em class="Otopricey">910</em></span>\r\n                                    <div class="OPnumy"><span>×</span><span class="cpeoplenum2y">2</span></div>\r\n                                </li>\r\n                                <li class="Ocpeopley-li">\r\n                                    <span class="Ocpeopley-sp1">基建/燃油</span>\r\n                                    <span class="Ooil1Oy"><em class="Opsmally">￥</em><em class="OoilOy">0</em></span>\r\n                                    <div class="OPnumy"><span>×</span><span class="cpeoplenum2y">2</span></div>\r\n                                </li>\r\n                                <li class="Ocpeopley-li">\r\n                                    <span class="Ocpeopley-sp1">保险</span>\r\n                                    <span class="Ooil1Oy"><em class="Opsmally">￥</em><em class="Osafey">20</em></span>\r\n                                    <div class="OPnumy"><span>×</span><span class="cpeoplenum2y youngone">2</span></div>\r\n                                </li>\r\n                                <li>\r\n                                    <span class="Ocpeopley-sp1">返现</span>\r\n\r\n                                    <span ><em class="zreofeey">￥</em><em class="Ozreofeey">-</em><em class="thefeey">0</em></span>\r\n                                </li>\r\n\r\n\r\n                            </ul>\r\n\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    \r\n                    \r\n                </div>\r\n                <div class="O-flght2">\r\n                    <div class="Order-fl-inf">\r\n                        <p class="allmybook-boxtm">\r\n                            <img class="flight-logo" src="https://cos.uair.cn/mb/img/flight-logo.png"><span class="allmybook-boxtm1  allmybookf Order1-startFP">重庆</span><span class="d-wrapl1-right2 order-fl-right"><strong></strong></span><span class="allmybook-boxtm5 allmybookt Order1-endFP">北京</span>\r\n                            <span class="Order-fl-style Oflght-data2">返程</span>\r\n                        </p>\r\n                        <div class="Order-fl-box">\r\n                            <div class="Order-fl-l"></div>\r\n                            <div class="Order-fl-c">\r\n                                <p class="Order-fl-from">\r\n                                    <span class="Order-fl-from-names Order1-mttsp11">江北机场</span>\r\n                                    <span class="Order-fl-from-ms Order1-mtfsp1">12-9</span>\r\n                                    <span class="Order-fl-from-ts Order1-mttsp1">11:40</span>\r\n                                </p>\r\n                                <p class="Order-fl-from-info">\r\n                                    <img src="" alt="">\r\n                                    <span class="Order1-mtfsp2">中国国航空</span>\r\n                                    <span class="Order1-mtfsp3">DFASDF123</span>\r\n                                    <!-- <span class="zycp"></span> -->\r\n                                </p>\r\n                                <p class="Order-fl-to">\r\n                                    <span class="Order-fl-from-namee Order1-mttsp22">江北机场</span>\r\n                                    <span class="Order-fl-from-me Order1-mtfsp111">12-09</span>\r\n                                    <span class="Order-fl-from-te Order1-mttsp2">11:40</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div class="Order1-cpphone">\r\n                            <span>官方直营</span>\r\n                            <span>如有疑问请致电</span>\r\n                            <a class="phonetwo" href="tel:95539">95539</a>\r\n                        </div>\r\n                    </div>\r\n                    <div class="Orderlooktext1">\r\n                        <p class="orderdlooktext-pw">\r\n                            <span class="left-title">退改签规定</span><img class="getPsInfo" src="https://cos.uair.cn/mb/img/top.png" alt="">\r\n                        </p>\r\n                        <ul class="Orderlooktext11-text">\r\n\r\n                        </ul>\r\n                    </div>\r\n                    <div class="OpriceFlight1">\r\n                        <p class="orderdlooktext-pw"><span class="left-title">价格明细</span><img class="getPriInfo" src="https://cos.uair.cn/mb/img/botom.png" alt=""></p>\r\n                        <div class="Othepriece1">\r\n                            <ul class="Ocpeople1">\r\n                                <li class="Ocpeople1-li">\r\n                                    <span class="Ocpeople1-sp1">成人票</span>\r\n\r\n                                    <span class="Otoprice11"><em class="Opsmall1">￥</em><em class="Otoprice12">910</em></span>\r\n                                    <div class="OPnum1"><span>×</span><span class="cpeoplenum21">2</span></div>\r\n                                </li>\r\n                                <li class="Ocpeople1-li">\r\n                                    <span class="Ocpeople1-sp1">基建/燃油</span>\r\n                                    <span class="Ooil1O1"><em class="Opsmall1">￥</em><em class="OoilO1">50</em></span>\r\n                                    <div class="OPnum1"><span>×</span><span class="cpeoplenum21">2</span></div>\r\n                                </li>\r\n                                <li class="Ocpeople1-li">\r\n                                    <span class="Ocpeople1-sp1">保险</span>\r\n                                    <span class="Ooil1O1"><em class="Opsmall">￥</em><em class="Osafe1">30</em></span>\r\n                                    <div class="OPnum1"><span>×</span><span class="cpeoplenum21 oldtwo">2</span></div>\r\n                                </li>\r\n\r\n                                <li>\r\n                                    <span class="Ocpeople1-sp1">返现</span>\r\n                                    <span ><em class="zreofee1">￥</em><em class="Ozreofee1">-</em><em class="thefee1">0</em></span>\r\n                                </li>\r\n\r\n\r\n                            </ul>\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    \r\n                    \r\n                </div>\r\n\r\n                <div class="Orderpasenger">\r\n                    <p class="orderdlooktext-pw">\r\n                        <span class="left-title">乘机人信息</span><img class="getPsInfo1" src="https://cos.uair.cn/mb/img/botom.png" alt="">\r\n                    </p>\r\n                    <div class="Opasengerdata">\r\n\r\n                     </div>\r\n                </div>\r\n                \r\n                <div class="Orderpacantact">\r\n                    <p class="orderdlooktext-pw">\r\n                        <span class="left-title">联系人信息</span><img class="getPeInfo2" src="https://cos.uair.cn/mb/img/botom.png" alt="">\r\n                    </p>\r\n                    <div class="Ocantactdata">\r\n                         <ul class="Ocantactdata-ul">\r\n                               <li><span class="Ocantactdata-sp1">姓名:</span><span class="Ocantactdata-cname">肖浩</span></li>\r\n                                <li><span class="Ocantactdata-sp1">手机号码:</span><span class="Ocantactdata-cphone">185****1234</span></li>\r\n                         </ul>\r\n                    </div>\r\n                </div>\r\n                <div class="Orderlinkadd">\r\n                   <p class="orderdlooktext-pw">\r\n                        <span class="left-title">行程单</span><img class="getProInfo3" src="https://cos.uair.cn/mb/img/botom.png" alt="">\r\n                    </p>\r\n                    <div class="Orderlinkadd-box clear">\r\n                         <p class="Orderlinkadd-boxp1">配送地址:</p><p class="Orderlinkadd-boxp2"></p>\r\n                    </div>\r\n                </div>\r\n                \r\n\r\n\r\n            </div>\r\n\r\n        </div>\r\n        <div class="Oallprice">\r\n           <span class="Oallprice1"><em>订单总额</em><em class="footer-p-icon">￥</em><em></em><span  class="Oallprice11">650</span></span>\r\n\r\n           <span class="Oallprice2">去支付</span>\r\n        </div>\r\n        <div class="creditbox">\r\n            <div class="credit-wrap">\r\n                <div  class=\'payway\'>\r\n                    <span >企业授信</span>\r\n                    <img src="https://cos.uair.cn/mb/img/close.bg.png" alt="" class="credit-close">\r\n                </div>\r\n                <span class="payotext">因公出行，请点击下列代扣账户进行支付！</span>\r\n                <div class="payownb-wrap">\r\n                    <div class="payownbtnc">输入企业账户</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n</div>\r\n\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function allclickF(){$.each($.qus(".contactpeople-boxbtn1"),function(){this.onclick=function(e){var that=this;$.qu(".contactpeople-boxbtn1lay").style.display="-webkit-box",$.qu(".contactpeople-boxsp1").onclick=function(){var thecontactid=that.parentNode.getAttribute("valueid"),dataass={id:thecontactid};(0,_api.userOnoffpp)("c",function(){mypost("/ajaxpro/UairB2C.MGOpt,UairB2C.ashx",dataass,"DelAddress",function(err,res){console.log(err),console.log(res);var bdata=eval("("+res+")");if(bdata.value){var rs=eval("("+bdata.value+")");rs.ret?pullContactData():(0,_api.myalertp)("contactpeople","删除常用地址失败,请重试")}})},"contactpeople","","","报告小主，您登录超时，请前往登陆页面~~"),$.qu(".contactpeople-boxbtn1lay").style.display="none"},$.qu(".contactpeople-boxsp2").onclick=function(){$.qu(".contactpeople-boxbtn1lay").style.display="none"};var e=e||window.e;e.stopPropagation()}}),$.each($.qus(".contactpeople-boxbtn2"),function(){this.onclick=function(e){var t=JSON.parse(this.parentNode.getAttribute("data"));$.router.go("#!/flightmb/changeadd",{type:2,linktype:bte,addrdata:t},!0);var e=e||window.e;e.stopPropagation()}}),$.qu(".addcontactpeople").onclick=function(){$.router.go("#!/flightmb/changeadd",{type:1,linktype:bte},!0)}}function theaddredatatobook(){for(var e=$.qus(".contactpeople-box"),t=0;t<e.length;t++)e[t].onclick=function(){var e={psid:this.getAttribute("valueid"),data:JSON.parse(this.getAttribute("data"))};40==bte&&$.router.go("#!/flightmb/book",{pbtype:40,data:e},!0)}}function pullContactData(){var oData2="",conData="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/xhService.ashx?act=GETADDRESSES","false"),xhr.send(),xhr.onreadystatechange=function(){if(4==xhr.readyState)if(200==xhr.status){var data=xhr.responseText,data1=eval("("+data+")");1==data1.Status?(conData=data1.Result.Addresses,topasengerHtml(conData),allclickF(),theaddredatatobook()):($.qu(".contactpeople-wrap").innerHTML="",$.qu(".addcontactpeople").onclick=function(){$.router.go("#!/flightmb/changeadd",{type:1,linktype:bte},!1)})}else(0,_api.myalertp)("contactpeople","获取常用地址出错了，Err"+xhr.status)}}function topasengerHtml(e){for(var t="",a=0;a<e.length;a++){var n=JSON.stringify(e[a]);t+='<div class="contactpeople-box  clear" valueid="'+e[a].ID+'" data='+n+' ><ul class="contactpeople-box1"><li class="contactpeople-sp1">姓名</li><li class="contactpeople-sp1">电话</li><li class="contactpeople-sp1">地址</li></ul><ul class="contactpeople-box2 clear"><li class="contactpeople-name">'+e[a].Name+'</li><li class="contactpeople-phone">'+e[a].Phone+'</li><li class="contactpeople-addre">'+e[a].Province+e[a].City+e[a].Town+e[a].Addr+'</li></ul><span class="contactpeople-boxbtn1">删除</span><span class="contactpeople-boxbtn2" >修改</span></div>'}$.qu(".contactpeople-wrap").innerHTML=t}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),$=__webpack_require__(5),_view=__webpack_require__(37),bte="",backFlight="",_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/contactpeople$",this.hash="/flightmb/contactpeople",this.title="常用地址",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.searchJoin+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){bte=t.btype,$.qu(".contactpeople-tt1").onclick=function(){40==bte?$.router.go("#!/flightmb/book",{pbtype:40,data:""},!1):$.router.go("#!/flightmb/allmytickes",{},!1)},(0,_api.userOnoffpp)("c",pullContactData,"contactpeople","","","抱歉，您登录超时，请前往登陆页面~~")}}]),e}();exports["default"]=_class},function(e,t){e.exports='\r\n\r\n\r\n\r\n<div id="contactpeople">\r\n\t  <div class="contactpeople-t">\r\n\t  \t  <span class="contactpeople-tt1"><img src="https://cos.uair.cn/mb/img/back.bg.png" alt=""></span>\r\n\t  \t  <span class="contactpeople-tt2">常用地址</span>\r\n\t  </div>\r\n\r\n\t   <div class="addcontactpeople">\r\n            + 新增常用地址\r\n\t   </div>\r\n\t   <div class="contactpeople-boxbtn1lay">\r\n\t   \t   <div class="contactpeople-boxbtn1lay-box">\r\n\t   \t   \t  <p class="contactpeople-boxp1">删除该地址信息？</p>\r\n\t   \t   \t  <span class="contactpeople-boxsp1">确定</span>\r\n\t   \t   \t  <span class="contactpeople-boxsp2">取消</span>\r\n\t   \t   </div>\r\n\t   </div>\r\n\t   <div class="contactpeople ">\r\n\t       <div class="contactpeople-wrap ">\r\n\r\n\t       </div>\r\n\r\n\t   </div>\r\n\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function totheAdddress(mylinktype,theid){var id=theid,province=theselectData("addr_province"),city=theselectData("addr_city"),town=theselectData("addr_town"),address=$.qu(".adrssadrss").value,name=$.qu(".adrssname").value,phone=$.qu(".adrssphone").value,post="";if(!Verify.verifyName(name))return(0,_api.myalertp)("changeadd","请填写收件人姓名"),!1;var reg=/^\d{6}$/;if(!phone)return(0,_api.myalertp)("changeadd","请填写手机号码"),!1;if(!Verify.verifyMobile(phone))return(0,_api.myalertp)("changeadd","请填写正确手机号码"),!1;if("1"==province||1==province||void 0==province||null==province||"选择省"==province)return(0,_api.myalertp)("changeadd","请选择省份"),!1;if("1"==city||1==city||void 0==city||null==city||"选择市"==city)return(0,_api.myalertp)("changeadd","请选择城市"),!1;if(!Verify.verifyName(address))return(0,_api.myalertp)("changeadd","请填写街道地址"),!1;"1"!=town&&"选择区"!=town||(town="");var saveaddr='{"ID":"'+id+'","Name":"'+name+'","Phone":"'+phone+'","Post":"'+post+'","Country":"中国","Province":"'+province+'","City":"'+city+'","Town":"'+town+'","Addr":"'+address+'"}',aes=new ICBCAes;aes.GetAesStr(saveaddr,function(encryptionSaveaddr,encryptionPwd){var dataass={json:encryptionSaveaddr,encryptionAESPwd:encryptionPwd};(0,_api.mypost)("/ajaxpro/UairB2C.MGOpt,UairB2C.ashx",dataass,"SaveAddress",function(err,res){console.log(err),console.log(res);var bdata=eval("("+res+")");if(bdata.value){var json=JSON.parse(bdata.value);1==json.ret?$.router.go("#!/flightmb/contactpeople",{btype:mylinktype},!0):(0,_api.myalertp)("changeadd","操作失败")}})})}function datatoSelect(e,t,a){for(var n=$.id("addr_province"),r="",s=n.getElementsByTagName("option"),i=0;i<s.length;i++)if(e==s[i].innerHTML){n.selectedIndex=s[i].index,r=s[i].value;break}for(var o in AreaData){var l=AreaData[o][1];l==r&&($.id("addr_city").innerHTML+='<option value="'+o+'">'+AreaData[o][0]+"</option>")}for(var c=$.id("addr_city"),p="",d=c.getElementsByTagName("option"),i=0;i<d.length;i++)if(t==d[i].innerHTML){c.selectedIndex=d[i].index,p=d[i].value;break}for(var o in AreaData){var l=AreaData[o][1];l==p&&($.id("addr_town").innerHTML+='<option value="'+o+'">'+AreaData[o][0]+"</option>")}if(a)for(var u=$.id("addr_town"),h="",f=u.getElementsByTagName("option"),i=0;i<f.length;i++)if(a==f[i].innerHTML){u.selectedIndex=f[i].index,h=f[i].value;break}}function theselectData(e){var t=$.id(e).selectedIndex,a=$.id(e).options[t].text;return a}function addAddressData(){var e=[["北京","110000"],["上海","310000"],["广东省","440000"]];for(var t in AreaData){var a=AreaData[t][1];if("1"==a&&"110000"!=t&&"310000"!=t&&"440000"!=t){var n=[""+AreaData[t][0],""+t];e.push(n)}}$.id("addr_province").innerHTML='<option value="1" selected="selected">选择省</option>';for(var t in e){var r=/\d{1,}/;r.test(t)&&($.id("addr_province").innerHTML+='<option value="'+e[t][1]+'">'+e[t][0]+"</option>")}$.id("addr_city").innerHTML='<option value="1" selected="selected">选择市</option>',$.id("addr_town").innerHTML='<option value="1" selected="selected">选择区</option>',$.id("addr_province").onchange=function(){$.id("addr_city").innerHTML='<option value="1" selected="selected">选择市</option>',$.id("addr_town").innerHTML='<option value="1" selected="selected">选择区</option>';var e=this.value;if("1"==e)return!1;for(var t in AreaData){var a=AreaData[t][1];a==e&&($.id("addr_city").innerHTML+='<option value="'+t+'">'+AreaData[t][0]+"</option>")}},$.id("addr_city").onchange=function(){var e=this.value;if($.id("addr_town").innerHTML='<option value="1" selected="selected">选择区</option>',"1"==e)return!1;for(var t in AreaData){var a=AreaData[t][1];a==e&&($.id("addr_town").innerHTML+='<option value="'+t+'">'+AreaData[t][0]+"</option>")}}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),$=__webpack_require__(5),_view=__webpack_require__(39),mytype="",mylinktype="",theaddata="",_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/changeadd$",this.hash="/flightmb/changeadd",this.title="联系人",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.searchJoin+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){if(console.log(t),mytype=t.type,mylinktype=t.linktype,1==mytype)$.qu(".changeadd-tt2").innerHTML="新增常用地址",$.id("addr_province").selectedIndex=1,$.qu(".adrssadrss").value="",$.qu(".adrssname").value="",$.qu(".adrssphone").value="",addAddressData(),$.qu(".changeadd-sb").onclick=function(){(0,_api.userOnoffpp)("c",function(){totheAdddress(mylinktype,0)},"changeadd","","","抱歉，您登录超时，请前往登陆页面~~")};else{$.qu(".changeadd-tt2").innerHTML="修改常用地址",theaddata=t.addrdata,addAddressData();var a=theaddata.Province,n=theaddata.City,r=theaddata.Town;datatoSelect(a,n,r),$.qu(".adrssadrss").value=theaddata.Addr,$.qu(".adrssname").value=theaddata.Name,$.qu(".adrssphone").value=theaddata.Phone,$.qu(".changeadd-sb").onclick=function(){(0,_api.userOnoffpp)("c",function(){totheAdddress(mylinktype,theaddata.ID)},"changeadd","","","抱歉，您登录超时，请前往登陆页面~~")}}$.qu(".changeadd-tt1").onclick=function(){$.router.go("#!/flightmb/contactpeople",{btype:mylinktype},!0)}}}]),e}();if(exports["default"]=_class,
"undefined"==typeof Verify)var Verify={};!function(e){e.toDateString=function(e){var t=e.getMonth()+1,a=e.getDate();return t<10&&(t="0"+t),a<10&&(a="0"+a),e.getFullYear()+"-"+t+"-"+a},e.verifyFlightName=function(e){var t=!1;e=e.replace(/(^\s*)|(\s*$)/g,"");var a=/^[A-Za-z\/]+$/;return a.test(e)?t=e.indexOf("/")>0&&e.indexOf("/")<e.length-1:(a=/^[\u4e00-\u9fa5]+[A-Z,a-z]*[\u4e00-\u9fa5]*$/,t=!!a.test(e)),t},e.verifyName=function(e){var e=e.replace(/(^\s*)|(\s*$)/g,"");return e.length>0},e.verifyEmail=function(e){return/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(e)},e.verifyTicketNo=function(e){var t=!1,a=e.length;return 13===a&&(t=/^\d{13}$/.test(e)),t},e.verifyMobile=function(e){return/^1\d{10}$/.test(e)},e.verifyIdCard=function(e){var t,a,n,r,s,i=e.length;if(15===i){if(t=e.match(/^(?:\d{6})(\d{2})(\d{2})(\d{2})(?:\d{3})$/),!t)return!1;a=parseInt("19"+t[1],10),n=parseInt(t[2],10),r=parseInt(t[3],10),s=e.charAt(i-1)%2}else if(18===i){for(var o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],l="10X98765432",c=0,p=0;c<17;c++)p+=e.charAt(c)*o[c];if(l.charAt(p%11)!==e.charAt(17).toUpperCase())return!1;if(t=e.match(/^(?:\d{6})(\d{4})(\d{2})(\d{2})(?:\d{3})(?:[0-9]|X)$/i),!t)return!1;a=parseInt(t[1],10),n=parseInt(t[2],10),r=parseInt(t[3],10),s=e.charAt(i-2)%2}var d=new Date(a,n-1,r);return a===d.getFullYear()&&n===d.getMonth()+1&&r===d.getDate()},e.replaceIdCard=function(t){var a=e.verifyIdCard(t);return a?18===t.length?t.replace(/^(\d{4})\d{11}(\d{2}[\da-z])$/i,"$1***********$2"):15===t.length?t.replace(/^(\d{4})\d{8}(\d{3})$/,"$1********$2"):void 0:t},e.replaceMobile=function(e){return e.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2")}}(Verify)},function(e,t){e.exports='\r\n\r\n\r\n<div id="changeadd">\r\n\t  <div class="changeadd-t">\r\n\t  \t  <span class="changeadd-tt1"><img src="https://cos.uair.cn/mb/img/back.bg.png" alt=""></span>\r\n\t  \t  <span class="changeadd-tt2">新增常用地址</span>\r\n\t  </div>\r\n\t  <ul class="changeadd-mian">\r\n\r\n               <li><select id="addr_province" ></select></li>\r\n               <li><select id="addr_city" name="s_city" ></select></li>\r\n               <li><select id="addr_town" name="s_county"></select></li>\r\n               <li><span>街道地址</span><input type="text" class="adrssadrss" placeholder="输入街道地址"></li>\r\n\t\t\t   <li><span>姓名</span><input type="text" class="adrssname" placeholder="输入收货人姓名"></li>\r\n\t\t\t   <li><span>手机号码</span><input type="text" class="adrssphone"  placeholder="输入手机号码"></li>\r\n\t  </ul>\r\n\r\n\r\n\t  <span class="changeadd-sb">确认</span>\r\n\r\n</div>\r\n'},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(){p.qu(".Trip-sb").onclick=function(){h={TripType:p.id("TripType").value,TripReason:p.id("TripReason").value,PriceReason:p.id("PriceReason").value,TripNote:p.qu(".Trip-main1-in").value},p.router.go("#!/flightmb/book",{btype:u,readata:h},!0)}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(1),l=n(o),c=a(7),p=a(5),d=a(41),u="",h="",f=function(){function e(t){r(this,e),this.path="/flightmb/Trip$",this.hash="/flightmb/Trip",this.title="订单详情",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return i(e,[{key:"view",value:function(e){d?e(null,d):(0,c.getView)(l["default"].view.searchJoin+"?t="+ +new Date,"",function(t){d=t,e(null,d)})}},{key:"bind",value:function(e,t){console.log(t),u=t.btype,p.qu(".Trip-tt1").onclick=function(){p.router.go("#!/flightmb/book",{btype:u,readata:""},!1)},s()}}]),e}();t["default"]=f},function(e,t){e.exports='\r\n\r\n<div id="Trip">\r\n      <div class="Trip-t">\r\n          <span class="Trip-tt1"><img src="https://cos.uair.cn/mb/img/back.bg.png" alt=""></span>\r\n          <span class="Trip-tt2">企业差旅</span>\r\n      </div>\r\n      <ul class="Trip-main">\r\n         <li class="Trip-main1" >\r\n                <span class="Trip-main1-te">等级类型</span>\r\n                <select name="" id="TripType" class="Trip-main1-se">\r\n                      <option value="">请选择</option>\r\n                      <option value="党团活动">党团活动</option>\r\n                      <option value="公会活动">公会活动</option>\r\n                      <option value="出差">出差</option>\r\n                      <option value="培训">培训</option>\r\n                </select>\r\n\r\n         </li>\r\n         <li class="Trip-main1" >\r\n                <span class="Trip-main1-te">事由</span>\r\n                <select name="" id="TripReason" class="Trip-main1-se">\r\n                      <option value="">请选择</option>\r\n                      <option value="出国">出国</option>\r\n                      <option value="推广外派现场支持">推广外派现场支持</option>\r\n                      <option value="干部交流">干部交流</option>\r\n                      <option value="岗位体验">岗位体验</option>\r\n                      <option value="授课">授课</option>\r\n                      <option value="会议">会议</option>\r\n                      <option value="其他">其他</option>\r\n                </select>\r\n\r\n         </li>\r\n         <li class="Trip-main1 " >\r\n                <span class="Trip-main1-te">选择原因</span>\r\n                <select name="" id="PriceReason" class="Trip-main1-se">\r\n                      <option value="">请选择</option>\r\n                      <option value="陪同领导或客户">陪同领导或客户</option>\r\n                      <option value="航空公司偏好">航空公司偏好</option>\r\n                      <option value="改签或退票因素">改签或退票因素</option>\r\n                      <option value="起飞和到达时间不合适">起飞和到达时间不合适</option>\r\n                      <option value="得到特别授权">得到特别授权</option>\r\n                      <option value="特殊级别出行不受限制">特殊级别出行不受限制</option>\r\n                </select>\r\n\r\n         </li>\r\n         <li class="Trip-main1 Trip-mainla" >\r\n                <span class="Trip-main1-te">备注</span>\r\n\r\n                <input type="text" placeholder="出差备注" class="Trip-main1-in">\r\n\r\n         </li>\r\n\r\n      </ul>\r\n      <span class="Trip-sb">确认</span>\r\n\r\n\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function getnowdate(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),r=t+"-"+toTwo(a)+"-"+toTwo(n);return r}function toTwo(e){return e<10?"0"+e:""+e}function getorderdata(date1,date2){$.qu(".lodinab").style.display="-webkit-box";var xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft.XMLHTTP"),xhr.open("post",flightUrl+"/icbc/xhService.ashx","false"),xhr.setRequestHeader("content-type","application/x-www-form-urlencoded"),xhr.send("act=GETUSEDORDERS&ST="+date1+"&ET="+date2),xhr.onreadystatechange=function(){if(4==xhr.readyState)if(200==xhr.status){$.qu(".lodinab").style.display="none";var data1=eval("("+xhr.responseText+")");if(console.log(data1),1==data1.Status){var mydata=data1.Result.Orders;toorderhtml(mydata)}else(0,_api.myalertp)("allmybook","登陆状态超时或获取数据失败，请重试或者登陆！")}else(0,_api.myalertp)("allmybook","获取历史订单出错了，Err"+xhr.status)}}function toorderhtml(e){for(var t="",a=0;a<e.length;a++)if(1==e[a].IsShow){var n="",r=e[a].Type,s="",i="",o="",l="",c=0;if("0"!=r?("11"==r||"12"==r?n="(成人儿童)":"22"!=r&&"21"!=r||(n="(往返)"),s="twoordernum",e[a].Order1[0].personal=e[a].personal,e[a].Order2[0].personal=e[a].personal,i=JSON.stringify(e[a].Order1),o=JSON.stringify(e[a].Order2),l=e[a].Order2[0].OrderID+","+e[a].Order1[0].OrderID,c=1):(n="",s="",i="",o="",l=e[a].OrderID,c=0),"未付款"==e[a].OrderStatus||""==e[a].OrderStatus)if("0"!=r)var p='<span class="allmybook-boxtblook boxtblook" looktype ="'+c+'" OrderID ="'+e[a].OrderID+'" ordertime ="'+e[a].OrderDate+" "+e[a].OrderTime+'" isdft="'+isDirect(e[a].FltNo,e[a].personal,e[a].CabinType)+'" personal="'+e[a].personal+'" >查看</span><span class="allmybook-boxtblook boxtbpay" OrderID ="'+l+'" looktype ="'+c+'"  personal = "'+e[a].personal+'" >支付</span><span class="allmybook-boxtblook boxtbcansel"  OrderID = "'+l+'" looktype ="'+c+'">取消订单</span>';else var p='<span class="allmybook-boxtblook boxtblook" looktype ="'+c+'" OrderID ="'+e[a].OrderID+'" ordertime ="'+e[a].OrderDate+" "+e[a].OrderTime+'" isdft="'+isDirect(e[a].FltNo,e[a].personal,e[a].CabinType)+'" personal="'+e[a].personal+'" >查看</span><span class="allmybook-boxtblook boxtbpay" OrderID ="'+e[a].OrderID+'" looktype ="'+c+'"   personal = "'+e[a].personal+'">支付</span><span class="allmybook-boxtblook boxtbcansel"  OrderID = "'+l+'" looktype ="'+c+'">取消订单</span>';else if("1"==e[a].HasTickets)var p='<span class="allmybook-boxtblook boxtblook" looktype ="'+c+'" OrderID ="'+e[a].OrderID+'" ordertime ="'+e[a].OrderDate+" "+e[a].OrderTime+'" isdft="'+isDirect(e[a].FltNo,e[a].personal,e[a].CabinType)+'" personal="'+e[a].personal+'" >查看</span><span class="allmybook-boxtblook boxtRefunds" OrderID ="'+e[a].OrderID+'" wStatus="1" ordertime ="'+e[a].OrderDate+" "+e[a].OrderTime+'" looktype ="'+c+'" isdft="'+isDirect(e[a].FltNo,e[a].personal,e[a].CabinType)+'">退票</span><span class="allmybook-boxtblook  boxtChange" OrderID ="'+e[a].OrderID+'" wStatus="2" ordertime ="'+e[a].OrderDate+" "+e[a].OrderTime+'" looktype ="'+c+'" isdft="'+isDirect(e[a].FltNo,e[a].personal,e[a].CabinType)+'" twoMa="'+getTwoMa(e[a].FltNo)+'">改期</span>';else if(1==c)var p='<span class="allmybook-boxtblook boxtblook" OrderID ="'+e[a].OrderID+'" ordertime ="'+e[a].OrderDate+" "+e[a].OrderTime+'" looktype ="'+c+'" isdft="'+isDirect(e[a].FltNo,e[a].personal,e[a].CabinType)+'" personal="'+e[a].personal+'" >查看</span>';else var p='<span class="allmybook-boxtblook boxtblook" OrderID ="'+e[a].OrderID+'" ordertime ="'+e[a].OrderDate+" "+e[a].OrderTime+'" looktype ="'+c+'" isdft="'+isDirect(e[a].FltNo,e[a].personal,e[a].CabinType)+'" personal="'+e[a].personal+'" >查看</span>';t+='<div class="allmybook-box '+s+'"  order1='+i+"  order2="+o+'><p class="allmybook-boxtm"><img class="flight-logo" src="https://cos.uair.cn/mb/img/flight-logo.png"><span class="allmybook-boxtm1  allmybookf">'+e[a].From+'</span><span class="d-wrapl1-right2"><strong></strong></span><span class="allmybook-boxtm5 allmybookt">'+e[a].To+'</span><span class="flight-lines"><em class="allmybook-boxtem2">'+e[a].FltNo+'</em></span><span class="allmybook-boxtsp3 price-right"><em class="price-icon">￥</em><em class="allmybook-boxtem3">'+e[a].Price+'</em></span></p><div class="allmybook-boxt"><span class="allmybook-boxtsp1"><em class="flight-n">订单号:</em><em class="flight-NM">'+e[a].OrderID+'</em><em class="theage">'+n+'</em></span><span class="allmybook-boxtsp2"><em class="allmybook-boxtem1">'+e[a].OrderStatus+'</em></span></div><div class="allmybook-boxtb"><span class="allmybook-boxtm3"><em class="allmybook-boxtm32">'+getLastFive(e[a].FltDate)+'</em><em class="allmybook-boxtm31">'+e[a].FltTime+'</em></span><span class="line-width">至</span><span class="allmybook-boxtm4"><em class="allmybook-boxtm42">'+isNextDay(e[a].FltTime,e[a].ArrTime,e[a].FltDate)+'</em><em class="allmybook-boxtm41">'+e[a].ArrTime+'</em></span></div><p class="last-btns">'+p+"</p></div>"}var d='<div class="allmybook-more">点击查看一个月内的订单！';$.qu(".allmybook-mainwrap").innerHTML=t+d,oneClickFn($.qus(".boxtblook")),oneClickFn($.qus(".boxtRefunds")),oneClickFn($.qus(".boxtChange")),getblendorder(),boxtbcansel(),payallmybook()}function getTwoMa(e){return e.substring(0,2)}function getblendorder(){var e=$.qus(".twoordernum");if(0!=e.length)for(var t=0;t<e.length;t++)e[t].onclick=function(){$.qu(".allmybook-boxlayer").style.display="-webkit-box";var e=JSON.parse(this.getAttribute("order1"))[0],t=JSON.parse(this.getAttribute("order2"))[0];"未付款"!=t.OrderStatus&&""!=t.OrderStatus||(t.OrderStatus=e.OrderStatus),$.qu(".allmybook-boxlayerr").innerHTML=tohtml(t)+tohtml(e),twoClickFn($.qus(".boxtblook")),twoClickFn($.qus(".boxtChange")),twoClickFn($.qus(".boxtRefunds")),$.qu(".allmybook-boxlayerr").onclick=function(){this.innerHTML="",$.qu(".allmybook-boxlayer").style.display="none"},$.qu(".allmybook-boxlayer").onclick=function(){$.qu(".allmybook-boxlayerr").innerHTML="",$.qu(".allmybook-boxlayer").style.display="none"}}}function tohtml(e){var t="",a="",n=e.Type;"11"==n?a="(儿童)":"22"==n?a="(去程)":"12"==n?a="(成人)":"21"==n&&(a="(返程)");var r="",s=0;if("未付款"==e.OrderStatus||""==e.OrderStatus)r='<span class="allmybook-boxtblook boxtblook boxtblookh" looktype ="'+s+'" OrderID ="'+e.OrderID+'" ordertime ="'+e.OrderDate+" "+e.OrderTime+'" isdft="'+isDirect(e.FltNo,e.personal,e.CabinType)+'" personal="'+e.personal+'"  >查看</span>';else if("1"==e.HasTickets)var r='<span class="allmybook-boxtblook boxtblook" OrderID ="'+e.OrderID+'" looktype="'+s+'" ordertime ="'+e.OrderDate+" "+e.OrderTime+'" isdft="'+isDirect(e.FltNo,e.personal,e.CabinType)+'"  personal="'+e.personal+'" >查看</span><span class="allmybook-boxtblook boxtRefunds" OrderID ="'+e.OrderID+'" looktype="'+s+'" wStatus="1" ordertime ="'+e.OrderDate+" "+e.OrderTime+'" isdft="'+isDirect(e.FltNo,e.personal,e.CabinType)+'">退票</span><span class="allmybook-boxtblook  boxtChange" OrderID ="'+e.OrderID+'" looktype="'+s+'"  wStatus="2" ordertime ="'+e.OrderDate+" "+e.OrderTime+'" isdft="'+isDirect(e.FltNo,e.personal,e.CabinType)+'" twoMa="'+getTwoMa(e.FltNo)+'">改期</span>';else r='<span class="allmybook-boxtblook boxtblook boxtblookh" OrderID ="'+e.OrderID+'" looktype="'+s+'" ordertime ="'+e.OrderDate+" "+e.OrderTime+'" isdft="'+isDirect(e.FltNo,e.personal,e.CabinType)+'" personal="'+e.personal+'" >查看</span>';return t='<div class="allmybook-box"><p class="allmybook-boxtm"><img class="flight-logo" src="https://cos.uair.cn/mb/img/flight-logo.png"><span class="allmybook-boxtm1  allmybookf">'+e.From+'</span><span class="d-wrapl1-right2"><strong></strong></span><span class="allmybook-boxtm5 allmybookt">'+e.To+'</span><span class="flight-lines"><em class="allmybook-boxtem2">'+e.FltNo+'</em></span><span class="allmybook-boxtsp3"><em class="price-icon">￥</em><em class="allmybook-boxtem3">'+e.Price+'</em></span></p><div class="allmybook-boxt"><span class="allmybook-boxtsp1"><em class="flight-n">订单号:</em><em class="flight-NM">'+e.OrderID+'</em><em class="theage">'+a+'</em></span><span class="allmybook-boxtsp2"><em class="allmybook-boxtem1">'+e.OrderStatus+'</em></span></div><div class="allmybook-boxtb"><span class="allmybook-boxtm3"><em class="allmybook-boxtm32">'+getLastFive(e.FltDate)+'</em><em class="allmybook-boxtm31">'+e.FltTime+'</em></span><span class="line-width">至</span><span class="allmybook-boxtm4"><em class="allmybook-boxtm42">'+isNextDay(e.FltTime,e.ArrTime,e.FltDate)+'</em><em class="allmybook-boxtm41">'+e.ArrTime+'</em></span></div><p class="last-btns">'+r+"</p></div>"}function boxtbcansel(){for(var e=$.qus(".boxtbcansel"),t=0;t<e.length;t++)e[t].onclick=function(e){var t=this.getAttribute("orderid");canseleajax(t);var e=e||window.e;e.stopPropagation()}}function canseleajax(theid){$.qu(".lodinab").style.display="-webkit-box";var oData2="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft.XMLHTTP"),xhr.open("post",flightUrl+"/icbc/OrderResult.aspx","false"),xhr.setRequestHeader("content-type","application/x-www-form-urlencoded"),xhr.send("action=1&OrderID="+theid),xhr.onreadystatechange=function(){if(4==xhr.readyState)if(200==xhr.status){$.qu(".lodinab").style.display="none";var data1=eval("("+xhr.responseText+")");1==data1.Status?getorderdata(GetDateStrH(getnowdate(),-168),getnowdate()):(0,_api.myalertp)("allmybook","取消订单失败，请重试或者登陆！")}else(0,_api.myalertp)("allmybook","取消订单出错，Err"+xhr.status)}}function oneClickFn(e){for(var t=e,a=0;a<t.length;a++)t[a].onclick=function(){var e=this.getAttribute("looktype"),t=this.getAttribute("orderid"),a=this.getAttribute("wStatus"),n=this.getAttribute("ordertime"),r=this.getAttribute("isdft"),s=this.getAttribute("twoMa"),i=this.getAttribute("personal");if(0==e)if(null==a){$.router.go("#!/flightmb/orderd",{orderid:t,nStatus:a,OrderTime:n,isDft:r,Personal:i},!0)}else{if(2==a&&1==r){var o=getDtel(s);return(0,_api.myalertp)("allmybook","改期服务请致电"+o[0]+"客服电话"+o[1]+",改期服务敬请期待！"),!1}$.router.go("#!/flightmb/orderd",{orderid:t,nStatus:a,OrderTime:n,isDft:r,Personal:i},!0)}}}function getDtel(e){var t=[];switch(e){case"3U":t.push("川航"),t.push("95378");break;case"ZH":t.push("深航"),t.push("400-777-4567");break;case"CZ":t.push("南航"),t.push("95539");break;default:t.push("星合联盟"),t.push("4000-662-188")}return t}function twoClickFn(e){for(var t=e,a=0;a<t.length;a++)t[a].onclick=function(e){var t=this.getAttribute("looktype");if(0==t){var a=this.getAttribute("orderid"),n=this.getAttribute("wStatus"),r=this.getAttribute("ordertime"),s=this.getAttribute("isdft"),i=this.getAttribute("twoMa");if(null==n){$.router.go("#!/flightmb/orderd",{orderid:a,nStatus:n,OrderTime:r,isDft:s},!0)}else{if(2==n&&1==s){var o=getDtel(i);return(0,_api.myalertp)("allmybook","改期服务请致电"+o[0]+"客服电话"+o[1]+",改期服务敬请期待！"),!1}$.router.go("#!/flightmb/orderd",{orderid:a,nStatus:n,OrderTime:r,isDft:s},!0)}}}}function payallmybook(){for(var e=$.qus(".boxtbpay"),t=0;t<e.length;t++)e[t].onclick=function(e){var t=this.getAttribute("orderid"),a=this.getAttribute("personal");2==a?gopaymoneya(t,1):goAndPaya(t);var e=e||window.e;e.stopPropagation()}}function gopaymoneya(theOid,type){$.qu(".lodinab").style.display="-webkit-box";var oData2="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft . XMLHTTP"),xhr.open("get",flightUrl+"/icbc/xhService.ashx?act=UAIRCDTPAY&OrderID="+theOid+"&Type="+type,"true"),xhr.send(),xhr.onreadystatechange=function(){if($.qu(".lodinab").style.display="none",4==xhr.readyState)if(200==xhr.status)if(1==type){oData2=eval("("+xhr.responseText+")"),console.log(oData2);var oid=theOid.split(",")[0];if(1==oData2.Status&&"成功"==oData2.Msg)getbanka(oData2.Result,oid,theOid);else{var mst=oData2.Msg;(mst="无授信账户!")?(0,_api.myalertp)("allmybook","抱歉，该账户的差旅授信功能已关闭"):(0,_api.myalertp)("allmybook","抱歉，该账户的差旅授信功能发生异常")}}else 2==type&&(oData2=eval("("+xhr.responseText+")"),1==oData2.Status&&"成功"==oData2.Msg?((0,_api.myalertp)("allmybook","恭喜，支付成功！！"),$.qu(".creditboxa").style.display="none",getorderdata(GetDateStrH(getnowdate(),-720),getnowdate())):2==oData2.Status&&(0,_api.myalertp)("allmybook","对不起,"+oData2.Msg));else(0,_api.myalertp)("allmybook","支付异常，请重试！")}}function getbanka(e,t,a){$.qu(".creditboxa").style.display="-webkit-box",$.qu(".payownbtnca").innerHTML=e,$.qu(".credit-closea").onclick=function(){$.qu(".creditboxa").style.display="none",$.qu(".payownbtnca").innerHTML="代扣账号"},$.qu(".payownbtnca").onclick=function(){gopaymoneya(a,2)}}function goAndPaya(e){var t=getClientType(),a=flightUrl+"/HTML5/PayJump.aspx?OrderID="+e+"&ReturnUrl=&ToUrl=GoPay.aspx?&PayVia=5&clientType="+t+"&PayBank=";location.href=a}function getClientType(){var e="PC";return/android/i.test(navigator.userAgent)&&(e="android"),/ipad/i.test(navigator.userAgent)&&(e="ipad"),/iphone/i.test(navigator.userAgent)&&(e="iphone"),e}function isNextDay(e,t,a){var n=removeM(e)-removeM(t)>0?GetDateStrH(a,"24"):a;return getLastFive(n)}function getLastFive(e){return e.substring(e.length-5,e.length)}function removeM(e){return parseInt(e.replace(/\:/g,""))}function GetDateStrH(e,t){var a=e.substring(0,4),n=e.substring(5,7)-1,r=e.substring(8,10),s=new Date(a,n,r);s.setHours(s.getHours()+t);var i=s.getFullYear(),o=s.getMonth()+1,l=s.getDate();return 1==(o+"").length&&(o="0"+o),1==(l+"").length&&(l="0"+l),i+"-"+o+"-"+l}function isDirect(e,t,a){var n=["CZ","ZH","3U"];if(6!=a)return 0;for(var r=0,s=n.length;r<s;r++)if(e.indexOf(n[r])!=-1&&2!=t)return 1}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),$=__webpack_require__(5),_view=__webpack_require__(43),_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/allmybook$",this.hash="/flightmb/allmybook",this.title="我的机票",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.searchJoin+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){var a=window.location.href.split("/"),n=a[a.length-1];console.log(n),(0,_api.userOnoffpp)("s",function(){getorderdata(GetDateStrH(getnowdate(),-720),getnowdate())},"allmybook",".lodinab","","抱歉，登录超时，将重新登录!"),$.qu(".allmybook-tt1").onclick=function(){$.router.go("#!/flightmb/allmytickes",{prot:1},!1)}}}]),e}();exports["default"]=_class},function(e,t){e.exports='\r\n<div id="allmybook">\r\n\t  <div class="allmybook-t">\r\n\t      <span class="allmybook-tt1"><img src="https://cos.uair.cn/mb/img/back.bg.png" alt=""></span>\r\n\t  \t  <span class="allmybook-tt2">我的订单</span>\r\n\t  </div>\r\n\t <!--<div class="lodin-ab">-->\r\n\t\t<!--<div id="caseBlanche-ab">-->\r\n\t\t\t<!--<div id="rond-ab">-->\r\n\t\t\t\t<!--<div id="test-ab"></div>-->\r\n\t\t\t<!--</div>-->\r\n\t\t\t<!--<div id="load-ab">-->\r\n\t\t\t\t<!--<p id="loadorder-type" >订单取消中...</p>-->\r\n\t\t\t<!--</div>-->\r\n\t\t<!--</div>-->\r\n\t <!--</div>-->\r\n\t<div class="lodinab">\r\n\t\t<img class="xhlog" src="https://cos.uair.cn/mb/img/xhlog.gif" />\r\n\t</div>\r\n\t  <div class="allmybook-main">\r\n\t  \t   <div class="allmybook-mainwrap">\r\n\t  \t   </div>\r\n\t  </div>\r\n\t  <div class="allmybook-boxlayer">\r\n\t\t  <div class="allmybook-boxlayerr"></div>\r\n\r\n\t  </div>\r\n\t\t<div class="creditboxa">\r\n\t\t\t<div class="credit-wrapa">\r\n\t\t\t\t<div  class=\'paywaya\'>\r\n\t\t\t\t\t<span >请选择支付方式</span>\r\n\t\t\t\t\t<img src="https://cos.uair.cn/mb/img/close.bg.png" alt="" class="credit-closea">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<span class="payotexta">企业客户，请点击下列代扣账户进行支付！</span>\r\n\t\t\t\t<div class="payownb-wrapa">\r\n\t\t\t\t\t<div class="payownbtnca">使用网上银行支付</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function orderdInitfn(){$.qu(".orderdlooktext1-text").style.display="block",$.qu(".getPeInfo").src="https://cos.uair.cn/mb/img/top.png"}function nStatusFn(e,t,a){$.qu(".gaiqiReasonInfo").value="",1==e.nStatus?(pushInfo(e,t,a),$.qu(".gaiqiInfo").style.display="block",$.qu(".gaiqiBtn").style.display="block",$.qu(".gaiqiBtn").innerHTML="我要退票",$.qu(".orderd-tt2").innerHTML="退票申请",$.qu(".gaiqiRefund").style.display="block",$.qu(".gaiqititle").innerHTML="退票原因",$.qu(".gaiqiPeopel").style.display="block",$.qu(".gaiqiReason").style.display="block",$.qu(".gaiqidirtip").style.display="none"):2==e.nStatus?(pushInfo(e,t,a),1==e.isDft?($.qu(".gaiqiInfo").style.display="block",$.qu(".gaiqiBtn").style.display="none",$.qu(".orderd-tt2").innerHTML="改期申请",$.qu(".gaiqiRefund").style.display="none",$.qu(".gaiqiReason").style.display="none",$.qu(".gaiqiPeopel").style.display="none",$.qu(".gaiqidirtip").style.display="block"):($.qu(".gaiqiInfo").style.display="block",$.qu(".gaiqiBtn").style.display="block",$.qu(".gaiqiBtn").innerHTML="我要改期",$.qu(".orderd-tt2").innerHTML="改期申请",$.qu(".gaiqiRefund").style.display="none",$.qu(".gaiqiPeopel").style.display="block",$.qu(".gaiqititle").innerHTML="改期原因",$.qu(".gaiqiReason").style.display="block",$.qu(".gaiqidirtip").style.display="none")):($.qu(".gaiqiInfo").style.display="none",$.qu(".gaiqiBtn").style.display="none",$.qu(".gaiqiRefund").style.display="none",$.qu(".orderd-tt2").innerHTML="订单详情"),changeImg(),refundImg()}function changeImg(){for(var e=$.qus(".gaiqiBox"),t=0;t<e.length;t++)e[t].onclick=function(){var e=this.getElementsByTagName("img")[0],t="https://cos.uair.cn/mb/img/",a=this.getAttribute("tickno");e.src==t+"choice-black.png"?(e.src=t+"choice-blue.png",this.setAttribute("choiced",a),$.addClass(this,"ghasChoiced")):(e.src=t+"choice-black.png",this.setAttribute("choiced",""),$.removeClass(this,"ghasChoiced"))}}function refundImg(){var e=$.qu(".refund-self"),t=$.qu(".refund-other"),a="https://cos.uair.cn/mb/img/",n=e.getElementsByTagName("img")[0],r=t.getElementsByTagName("img")[0];e.setAttribute("choiced","2"),t.setAttribute("choiced","1"),n.src=a+"choice-blue.png",r.src=a+"choice-black.png",e.onclick=function(){this.setAttribute("choiced","2"),n.src=a+"choice-blue.png",t.setAttribute("choiced","1"),r.src=a+"choice-black.png"},t.onclick=function(){this.setAttribute("choiced","2"),r.src=a+"choice-blue.png",e.setAttribute("choiced","1"),n.src=a+"choice-black.png"}}function pushInfo(e,t,a){var n="",r=["400-066-2188","95539","400-777-4567","95378"],s=["18723059501"],i=$.qu(".dirflight"),o=a.Carrier;if("CZ"==o&&1==e.isDft?($.qu(".kefuTel").innerHTML=r[1],$.qu(".cumTel").style.display="none",i.innerHTML="南航直营",i.style.display="block",$.qu(".kefuTel").href="tel:"+r[1]):"ZH"==o&&1==e.isDft?($.qu(".kefuTel").innerHTML=r[2],$.qu(".cumTel").style.display="none",$.qu(".kefuTel").href="tel:"+r[2],i.innerHTML="深航直营",i.style.display="block"):"3U"==o&&1==e.isDft?($.qu(".kefuTel").innerHTML=r[3],$.qu(".cumTel").style.display="none",i.innerHTML="川航直营",i.style.display="block",$.qu(".kefuTel").href="tel:"+r[3]):($.qu(".kefuTel").innerHTML=r[0],$.qu(".tousuTel").innerHTML=s[0],$.qu(".cumTel").style.display="block",$.qu(".kefuTel").href="tel:"+r[0],$.qu(".tousuTel").href="tel:"+s[0],i.style.display="none"),t.Index)n+='<li class="omyBook-namel gaiqiBox" choiced=""  tickno="'+t.TicketNo+'">',n+='<div class="gaiqiImag">',n+='<img src="https://cos.uair.cn/mb/img/choice-black.png" alt="">',n+="</div>",n+='<p class="omyBook-namelp1">',n+='<span class="onamelp1sp1">'+t.Name+'</span><span class="refundstatus"><span>',n+="</p>",n+='<p class="omyBook-namelp1">',n+='<span class="onamelp1sp3">'+t.IDType+"</span>",n+='<span class="onamelp1sp4">'+t.IDNo+"</span>",n+="</p>",n+="</li>";else for(var l=0;l<t.length;l++)n+='<li class="omyBook-namel gaiqiBox" choiced=""  tickno="'+t[l].TicketNo+'">',n+='<div class="gaiqiImag">',n+='<img src="https://cos.uair.cn/mb/img/choice-black.png" alt="">',n+="</div>",n+='<p class="omyBook-namelp1">',n+='<span class="onamelp1sp1">'+t[l].Name+'</span><span class="refundstatus"><span>',n+="</p>",n+='<p class="omyBook-namelp1">',n+='<span class="onamelp1sp3">'+t[l].IDType+"</span>",n+='<span class="onamelp1sp4">'+t[l].IDNo+"</span>",n+="</p>",n+="</li>";$.qu(".peopleList").innerHTML=n}function setPush(params,source){var oid=params.orderid,route=$.qu(".orderd-startFP").innerHTML+$.qu(".orderd-endFP").innerHTML,Source=source;if(getRefund(oid),getArrList(oid),$.qu(".orderTime-t").innerHTML=params.OrderTime.substring(0,params.OrderTime.length-3),1==params.nStatus)$.qu(".gaiqiBtn").onclick=function(){var ogLiss=$.qus(".ghasChoiced"),reason=rspace($.qu(".gaiqiReasonInfo").value);if(ogLiss.length<1)return(0,_api.myalertp)("Orderd","请选择退票的乘机人！"),!1;for(var type1=$.qu(".refund-self").getAttribute("choiced"),tickno="",i=0;i<ogLiss.length;i++)tickno+=ogLiss[i].getAttribute("choiced")+"|";if(""==reason)(0,_api.myalertp)("Orderd","请输入退票原因！");else{$.qu(".lodinabc").style.display="-webkit-box",tickno=tickno.substring(0,tickno.length-1);var act="RefundTicket",getData1={act:act,oid:oid,route:route,type:type1,reason:reason,tickno:tickno,Source:Source};console.log(tickno);var xhr=null;xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),xhr.onreadystatechange=function(){if(4===xhr.readyState&&200===xhr.status){$.qu(".lodinabc").style.display="none";var rdata=xhr.responseText;rdata=eval("("+rdata+")"),rdata.data[0]&&rdata.data[0].RC&&0==rdata.data[0].RC?(0,_api.myalertp)("Orderd","退票申请提交成功，实际退票费用以航空公司最终退票费用为准、退票款项到账时间依据航空公司规定，请您留意。",function(){$.router.go("#!/flightmb/allmybook",{},!0)}):alert("提交申请失败!请稍后重试"+rdata.errorMsg)}},xhr.open("GET",flightUrl+"/icbc/ajax.aspx?act=RefundTicket&oid="+getData1.oid+"&route="+getData1.route+"&type="+getData1.type+"&reason="+getData1.reason+"&tickno="+getData1.tickno+"&Source="+getData1.Source,!0),xhr.send(null)}};else{if(2!=params.nStatus)return;$.qu(".gaiqiRefund").style.display="none";var type=4;$.qu(".gaiqiBtn").onclick=function(){var ogLiss=$.qus(".ghasChoiced"),reason=rspace($.qu(".gaiqiReasonInfo").value);if(ogLiss.length<1)return(0,_api.myalertp)("Orderd","请选择改期的乘机人！"),!1;for(var type1=$.qu(".refund-self").getAttribute("choiced"),tickno="",i=0;i<ogLiss.length;i++)tickno+=ogLiss[i].getAttribute("choiced")+"|";if(""==reason)(0,_api.myalertp)("Orderd","请输入改期原因！");else{$.qu(".lodinabc").style.display="-webkit-box",tickno=tickno.substring(0,tickno.length-1);var act="RefundTicket",getData={act:act,oid:oid,route:route,type:type,reason:reason,tickno:tickno,Source:Source},xhr=null;xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),xhr.onreadystatechange=function(){if(4===xhr.readyState&&200===xhr.status){$.qu(".lodinabc").style.display="none";var rdata=xhr.responseText;rdata=eval("("+rdata+")"),rdata.data[0]&&rdata.data[0].RC&&0==rdata.data[0].RC?(0,_api.myalertp)("Orderd","提交改期申请成功!",function(){$.router.go("#!/flightmb/allmybook",{},!0)}):alert("提交申请失败!请稍后重试"+rdata.errorMsg)}},xhr.open("GET",flightUrl+"/icbc/ajax.aspx?act=RefundTicket&oid="+getData.oid+"&route="+getData.route+"&type="+getData.type+"&reason="+getData.reason+"&tickno="+getData.tickno+"&Source="+getData.Source,!0),xhr.send(null)}}}}function getArrList(e){var t=[],a=getRefundinfo(e),n=getChangeinfo(e);t=a.concat(n);var r="";if($.qu(".gaiqilist-ul").innerHTML="",t.length>0){t.sort(function(e,t){var a=new Date(e.time).getTime(),n=new Date(t.time).getTime();return a-n});for(var s=0;s<t.length;s++)r+='<li>\n                        <div class="gaiqitype">\n                        <p><span class="list-Type">姓名</span><span class="gaiqiTxt">'+t[s].passengerName+'</span></p>\n                          <p><span class="list-Type">状态</span><span class="gaiqiTxt">'+t[s].desc+'</span></p>\n                          <p><span class="list-Type">时间</span><span class="gaiqiTxt">'+t[s].time+"</span></p>\n                        ",t[s].notes&&(r+='<p><span class="list-Type noteTips">备注</span><span class="gaiqiTxt">'+t[s].notes+"</span></p>"),r+="</div></li>"}else r="<li>暂无退改签历史信息哦！！</li>";$.qu(".gaiqilist-ul").innerHTML=r}function getRefundinfo(e){var t=[],a=null;return a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var e=a.responseText;e&&("string"==typeof e&&(e=JSON.parse(e)),t=e)}},a.open("POST",flightUrl+"/icbc/refund.aspx?act=getCancelStr&OrderID="+e,!1),a.send(null),t}function getChangeinfo(e){var t=[],a=null;return a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var e=a.responseText;if(e){"string"==typeof e&&(e=JSON.parse(e));for(var n=0;n<e.length;n++)e[n].time||e.splice(n,1),t=e}}},a.open("POST",flightUrl+"/icbc/refund.aspx?act=getRefundStr&OrderID="+e,!1),a.send(null),t}function getRefund(oid){var xhr=null,arr2=["(申请)","(已审核)","(办理)","(拒审)","(核销)"],arr3=[];xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),xhr.onreadystatechange=function(){if(4===xhr.readyState&&200===xhr.status){var rdata=xhr.responseText;rdata=eval("("+rdata+")"),
console.log(rdata);var arr=[],gaiLis=$.qus(".gaiqiBox");rdata.Passengers.Passenger instanceof Array?arr=rdata.Passengers.Passenger:arr.push(rdata.Passengers.Passenger);for(var i=0,len=arr.length;i<len;i++)if(parseInt(arr[i].CancelStr)>0&&4!=parseInt(arr[i].CancelStr)){arr3.push(i);for(var j=0;j<gaiLis.length;j++)arr[i].IDNo==gaiLis[j].getAttribute("tickno")&&(gaiLis[j].onclick=null,gaiLis[j].getElementsByClassName("refundstatus")[0].innerHTML=arr2[parseInt(arr[i].CancelStr)-1])}gaiLis.length==arr3.length&&($.qu(".gaiqiBtn").style.display="none")}},xhr.open("POST",flightUrl+"/icbc/refund.aspx?OrderID="+oid+"&act=getRefundPassengerInfo",!1),xhr.send(null)}function rspace(e){return e.replace(/\s/g,"")}function lookorderdetail(params){var nStatusnow=params.nStatus,theorderid=params.orderid,oData="",xhr="";xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(" Microsoft.XMLHTTP"),xhr.open("post",flightUrl+"/icbc/xhService.ashx",!0),xhr.setRequestHeader("content-type","application/x-www-form-urlencoded"),xhr.send("act=GETORDERDETAIL&OrderID="+theorderid),xhr.onreadystatechange=function(){if(4==xhr.readyState)if(200==xhr.status)if(oData=eval("("+xhr.responseText+")"),console.log(oData),1==oData.Status){var mydata=oData.Result.Order,data1=mydata.FlightInfo[0],data2=mydata,data3=mydata.PayStr.Psgs.Psg,data4=mydata.PsgStr.Passengers.Passenger,source=mydata.Source,status_sv=mydata.Status,cpn=data1.Carrier;ondatapull(data1,data2,data3,data4),nStatusFn(params,data4,data1),setPush(params,source);var elm=$.qu(".od_phone"),zyid=params.isDft,istirp=params.Personal;"1"==zyid?getCZphoneod(cpn,elm):getCZphoneod("XHSV",elm);var nosc1="<li><p>订单为什么失效:</p><p>订单的有效支付时间为20分钟，超过有效时间订单自动取消</p></li>",nosc2="<li><p>航司直营和非直营区别:</p><p>航司直营:航司直接在融购平台上出售的客票，包括出票、退改签、打印行程单等其他售后问题由航司直接处理;非直营:融e购机票商户负责订单的所有售后问题</p></li>",nosc3="<li><p>差旅月结和自己结算区别:</p><p>差旅月结:和融e购机票商户(星合联盟)签订了差旅协议的单位，在支付订单的时候可以选择授信支付，不用自己垫款,月底单位直接结账;自己结算:自行垫款出票，不能差旅月结</p></li>",yssc1="<li><p>订单如何退改签:</p><p>退票:在订单里直接提交退票申请，航司直接取消位置，没有办法重新恢复座位;改期:直接用订单里所留电话致电航司操作变更</p></li>",yssc11="<li><p>订单如何退改签:</p><p>退改签直接在订单里面提交申请，后台收到申请后会直接电话联系申请人，确定好退改签信息后再操作变更</p></li>",yssc2="<li><p>行程单怎么寄送:</p><p> 预订机票的时候在订单里选择“需要报销凭证”并填写收件地址;寄送时间:航班起飞后3到5个工作日</p></li>",yssc3='<li><p>积分是否可以兑换机票:</p><p>积分不可以兑换机票，具体情况可以咨询融e购客服热线:<a href="tel:4009195588" class="reg_phone">4009195588</a></p></li>',sv_text=$.qu(".orderd_nop");"未付款"==status_sv?2==istirp?sv_text.innerHTML=nosc1+nosc3:"1"==zyid?sv_text.innerHTML=nosc1+nosc2:sv_text.innerHTML=nosc1:2==istirp?sv_text.innerHTML=yssc11+nosc2+nosc3+yssc2+yssc3:"1"==zyid?sv_text.innerHTML=yssc1+nosc2+yssc2+yssc3:sv_text.innerHTML=yssc11+nosc2+yssc2+yssc3}else(0,_api.myalertp)("orderd","登陆状态超时或获取数据失败，请重试或者登陆！");else(0,_api.myalertp)("orderd","查看订单详情出错了，Err"+xhr.status)}}function getCZphoneod(key,el){(0,_api.myget)(flightUrl+"/icbc/xhService.ashx","act=GETSERVICEPHONE&Source="+key,!0,function(err,res){if(err)(0,_api.myalertp)("router0","出错了，获取客服联系电话失败！");else{var oData3=eval("("+res+")"),phonts=oData3.Result.Phone,phontn=oData3.Result.Source;el.href="tel:"+phonts}})}function ondatapull(e,t,a,n){$.qu(".orderd-h1state").innerHTML=t.Status,$.qu(".thefee-d").innerHTML=0,$.qu(".Odelivery-d").innerHTML=t.shipStr,$.qu(".orderd-mtfsp1").innerHTML=getLastFive(e.FlightDate),$.qu(".orderd-mtfsp2").innerHTML=e.FromCarrier,$.qu(".orderd-mtfsp3").innerHTML=e.FromNo,$.qu(".orderd-mtfsp4").innerHTML=e.FromModel,$.qu(".orderd-mttsp1").innerHTML=e.FromTime,$.qu(".orderd-startFP").innerHTML=e.From,$.qu(".orderd-mttsp11").innerHTML=e.FromPort,$.qu(".orderd-mttsp2").innerHTML=e.ToTime,$.qu(".orderd-endFP").innerHTML=e.To,$.qu(".orderd-mttsp22").innerHTML=e.ToPort,$.qu(".orderd-mtfsp111").innerHTML=isNextDay(e.FromTime,e.ToTime,e.FlightDate);var r=t.RefundStr.replace(/\%b/g,"").replace(/\b/g,"").replace("改期：",".<br/>改期：").replace("签转：",".<br/>签转：");$.qu(".orderdlooktext1-text").innerHTML=r,$.qu(".Ocantactdata-d-cname").innerHTML=t.ConName,$.qu(".Ocantactdata-d-cphone").innerHTML=t.ConPhone,"成人"==a.AgeType?($.qu(".Ocpeople-d-sp1").innerHTML="成人票",$.qu(".Otoprice-d").innerHTML=e.FlightPrice,$.qu(".cpeoplenum1-d").innerHTML=a.Count,$.qu(".cpeoplenum2-d").innerHTML=a.Count,$.qu(".OoilO-d").innerHTML=50,"1"==a.InsuredQty?($.qu(".cpeoplenum3-d").innerHTML=a.Count,$.qu(".Osafe-d").innerHTML=t.InsureStr):($.qu(".cpeoplenum3-d").innerHTML=0,$.qu(".Osafe-d").innerHTML=0)):"儿童"==a.AgeType&&($.qu(".Ocpeople-d-sp1").innerHTML="儿童票",$.qu(".Otoprice-d").innerHTML=e.FlightPrice,$.qu(".OoilO-d").innerHTML=0,$.qu(".cpeoplenum1-d").innerHTML=a.Count,$.qu(".cpeoplenum2-d").innerHTML=0,"1"==a.InsuredQty?($.qu(".cpeoplenum3-d").innerHTML=a.Count,$.qu(".Osafe-d").innerHTML=t.InsureStr):($.qu(".cpeoplenum3-d").innerHTML=0,$.qu(".Osafe-d").innerHTML=0)),$.qu(".Oallprice11-d").innerHTML=t.TotalAmount;var s="";if(n.Index){var i="";i="1"==n.InsuredQty?"1份":"无",s+='<ul class="Opasengerdata-d-ul"><li class="Opasengerdata-d-li1"><sapn class="Opbg-d">'+n.Index+'</sapn> <img src="https://cos.uair.cn/mb/img/q_tip.png" alt=""></li><li><span class="Opasengerdata-d-sp1">乘客类型</span><span class="Opasengerdata-d-ptype">'+n.AgeType+'</span></li><li><span class="Opasengerdata-d-sp1">姓名</span><span class="Opasengerdata-d-pname">'+n.Name+'</span></li><li><span class="Opasengerdata-d-sp1">证件类型</span><span class="Opasengerdata-d-pcard">'+n.IDType+'</span></li><li><span class="Opasengerdata-d-sp1">证件号码</span><span class="Opasengerdata-d-pnum">'+n.IDNo+'</span></li><li><span class="Opasengerdata-d-sp1">手机号码</span><span class="Opasengerdata-d-pphone">'+n.Phone+'</span></li><li><span class="Opasengerdata-d-sp1">保险</span><span class="Opasengerdata-d-psafe">'+i+"</span></li></ul>"}else for(var o=0;o<n.length;o++){var i="";i="1"==n[o].InsuredQty?"1份":"无",s+='<ul class="Opasengerdata-d-ul"><li class="Opasengerdata-d-li1"><sapn class="Opbg-d">'+n[o].Index+'</sapn> <img src="https://cos.uair.cn/mb/img/q_tip.png" alt=""></li><li><span class="Opasengerdata-d-sp1">乘客类型</span><span class="Opasengerdata-d-ptype">'+n[o].AgeType+'</span></li><li><span class="Opasengerdata-d-sp1">姓名</span><span class="Opasengerdata-d-pname">'+n[o].Name+'</span></li><li><span class="Opasengerdata-d-sp1">证件类型</span><span class="Opasengerdata-d-pcard">'+n[o].IDType+'</span></li><li><span class="Opasengerdata-d-sp1">证件号码</span><span class="Opasengerdata-d-pnum">'+n[o].IDNo+'</span></li><li><span class="Opasengerdata-d-sp1">手机号码</span><span class="Opasengerdata-d-pphone">'+n[o].Phone+'</span></li><li><span class="Opasengerdata-d-sp1">保险</span><span class="Opasengerdata-d-psafe">'+i+"</span></li></ul>"}$.qu(".Opasengerdata-d").innerHTML=s,""!=t.shipStr?($.qu(".Orderdlinkadd").style.display="block",$.qu(".Orderdlinkadd-boxp2").innerHTML=t.ConAddress,$.qu(".orderd-dfee").style.display="block"):($.qu(".Orderdlinkadd").style.display="none",$.qu(".Orderdlinkadd-box").style.display="none",$.qu(".Orderdlinkadd-boxp2").innerHTML="",$.qu(".orderd-dfee").style.display="none")}function getMyStyle(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle(e,!1)[t]}function showList(e,t){"none"==getMyStyle(e,"display")||""==getMyStyle(e,"display")?(e.style.display="block",t.src="https://cos.uair.cn/mb/img/top.png"):(e.style.display="none",t.src="https://cos.uair.cn/mb/img/botom.png")}function hideList(e,t){e.style.display="none",t.src="https://cos.uair.cn/mb/img/botom.png"}function isNextDay(e,t,a){var n=removeM(e)-removeM(t)>0?GetDateStrH(a,"24"):a;return getLastFive(n)}function getLastFive(e){return e.substring(e.length-5,e.length)}function removeM(e){return parseInt(e.replace(/\:/g,""))}function GetDateStrH(e,t){var a=e.substring(0,4),n=e.substring(5,7)-1,r=e.substring(8,10),s=new Date(a,n,r);s.setHours(s.getHours()+t);var i=s.getFullYear(),o=s.getMonth()+1,l=s.getDate();return 1==(o+"").length&&(o="0"+o),1==(l+"").length&&(l="0"+l),i+"-"+o+"-"+l}function hideInfo(e){var t=e.length;return t<18?e:e.replace(/^(.{6})(?:\d+)(.{4})$/,"$1****$2")}function hideTel(e){return e.replace(/^(.{3})(?:\d+)(.{4})$/,"$1****$2")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_config=__webpack_require__(1),_config2=_interopRequireDefault(_config),_api=__webpack_require__(7),$=__webpack_require__(5),kajax=__webpack_require__(8),_view=__webpack_require__(45),fcity="a",tcity="",OT=1,theuser=1,timer="",_class=function(){function e(t){_classCallCheck(this,e),this.path="/flightmb/orderd$",this.hash="/flightmb/orderd",this.title="订单详情",t=t||{},this.path=t.path||this.path,this.hash=t.hash||this.hash,this.title=t.title||this.title}return _createClass(e,[{key:"view",value:function(e){_view?e(null,_view):(0,_api.getView)(_config2["default"].view.flightmbJoin+"?t="+ +new Date,"",function(t){_view=t,e(null,_view)})}},{key:"bind",value:function(e,t){console.log(t.OrderTime),console.log(t),lookorderdetail(t),orderdInitfn(),$.qu(".orderdlooktext").onclick=function(){showList($.qu(".orderdlooktext1-text"),$.qu(".getPeInfo"))},$.qu(".OpriceFlight-d").onclick=function(){showList($.qu(".Othepriece-d"),$.qu(".getPriInfo"))},$.qu(".orderdpasenger").onclick=function(){showList($.qu(".Opasengerdata-d"),$.qu(".getPsInfo"))},$.qu(".orderdpacantact").onclick=function(){showList($.qu(".Ocantactdata-d"),$.qu(".getlinkInfo"))},$.qu(".Orderdlinkadd").onclick=function(){showList($.qu(".Orderdlinkadd-box"),$.qu(".getProInfo"))},$.qu(".contact_sv").onclick=function(){showList($.qu(".orderd_nop"),$.qu(".contact_im"))},$.qu(".orderd-tt1").onclick=function(){hideList($.qu(".Othepriece-d"),$.qu(".getPriInfo")),hideList($.qu(".Opasengerdata-d"),$.qu(".getPsInfo")),hideList($.qu(".Ocantactdata-d"),$.qu(".getlinkInfo")),hideList($.qu(".Orderdlinkadd-box"),$.qu(".getProInfo")),hideList($.qu(".orderd_nop"),$.qu(".contact_im")),$.router.go("#!/flightmb/allmybook",{},!0)}}}]),e}();exports["default"]=_class},function(e,t){e.exports='\r\n<div id="Orderd">\r\n\r\n    <div class="orderd-t">\r\n          <span class="orderd-tt1"><img src="https://cos.uair.cn/mb/img/back.bg.png" alt=""></span>\r\n          <span class="orderd-tt2">订单详情</span>\r\n          <a href="" class="od_phone"></a>\r\n    </div>  \r\n    <div class="lodinabc">\r\n        <img class="xhlog" src="https://cos.uair.cn/mb/img/xhlog.gif" />\r\n    </div>\r\n    <div class="orderd-m">\r\n            <div class="orderd-mwrap">\r\n            <div class="Order-fl-inf">\r\n                <p class="allmybook-boxtm">\r\n                    <img class="flight-logo" src="https://cos.uair.cn/mb/img/flight-logo.png"><span class="allmybook-boxtm1  allmybookf orderd-startFP">重庆</span><span class="d-wrapl1-right2 order-fl-right"><strong></strong></span><span class="allmybook-boxtm5 allmybookt orderd-endFP">北京</span>\r\n                    <span class="Order-fl-style orderd-h1state">adf</span>\r\n                </p>\r\n                <div class="Order-fl-box">\r\n                    <div class="Order-fl-l"></div>\r\n                    <div class="Order-fl-c">\r\n                        <p class="Order-fl-from">\r\n                            <span class="Order-fl-from-names orderd-mttsp11">江北机场</span>\r\n                            <span class="Order-fl-from-ms orderd-mtfsp1">12-9</span>\r\n                            <span class="Order-fl-from-ts orderd-mttsp1">11:40</span>\r\n                        </p>\r\n                        <p class="Order-fl-from-info">\r\n                            <img src="" alt="">\r\n                            <span class="orderd-mtfsp2">中国国航空</span>\r\n                            <span class="orderd-mtfsp3">DFASDF123</span>\r\n                            <span class="orderd-mtfsp4">DFASDF123</span>\r\n                        </p>\r\n                        <p class="Order-fl-to">\r\n                            <span class="Order-fl-from-namee orderd-mttsp22">江北机场</span>\r\n                            <span class="Order-fl-from-me orderd-mtfsp111">12-9</span>\r\n                            <span class="Order-fl-from-te orderd-mttsp2">11:40</span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class="orderTime-box">\r\n                  <span class="">订单时间</span>\r\n                  <span class="orderTime-t">2017-03-06 12:23</span>\r\n                </div>\r\n                <div class="orderdlooktext">\r\n                    <p class="orderdlooktext-pw">\r\n                        <span class="left-title">退改签规定</span><img class="getPeInfo" src="https://cos.uair.cn/mb/img/top.png" alt="">\r\n                    </p>\r\n                    <ul class="orderdlooktext1-text"></ul>\r\n                </div>\r\n                <div class="OpriceFlight-d">\r\n                    <p class="orderdlooktext-pw"><span class="left-title">价格明细</span><img class="getPriInfo" src="https://cos.uair.cn/mb/img/botom.png" alt=""></p>\r\n                    <div class="Othepriece-d">\r\n                        <ul class="Ocpeople-d">\r\n                            <li class="Ocpeople-d-li">\r\n                                <span class="Ocpeople-d-sp1">成年票</span>\r\n\r\n                                <span class="Otoprice1-d"><em class="Opsmall-d">￥</em><em class="Otoprice-d">910</em></span>\r\n                                 <div class="OPnum-d"><span>×</span><span class="cpeoplenum1-d">2</span></div>\r\n                            </li>\r\n                            <li class="Ocpeople-d-li">\r\n                                 <span class="Ocpeople-d-sp1">基建/燃油</span>\r\n                                <span class="Ooil1O-d"><em class="Opsmall">￥</em><em class="OoilO-d">50</em></span>\r\n                                <div class="OPnum-d"><span>×</span><span class="cpeoplenum2-d">2</span></div>\r\n                            </li>\r\n                            <li class="Ocpeople-d-li">\r\n                                 <span class="Ocpeople-d-sp1">保险</span>\r\n                                <span class="Ooil1O-d"><em class="Opsmall-d">￥</em><em class="Osafe-d">30</em></span>\r\n                                <div class="OPnum-d"><span>×</span><span class="cpeoplenum3-d">2</span></div>\r\n                            </li>\r\n                            <li class="Ocpeople-d-li">\r\n                                <span class="Ocpeople-d-sp1">返现</span>\r\n                                <span ><em class="zreofee-d">￥</em><em class="Ozreofee-d">-</em><em class="thefee-d">0</em></span>\r\n                            </li>\r\n                            <li class="Ocpeople-d-li orderd-dfee">\r\n                                <span class="Ocpeople-d-sp1">配送费</span>\r\n                                <span class="Ooil1O-d"><em class="Opsmall-d">￥</em><em class="Odelivery-d">15</em></span>\r\n                            </li>\r\n                        </ul>                          \r\n                    </div>\r\n                </div>                  \r\n                <div class="orderdpasenger">\r\n                    <p class="orderdlooktext-pw">\r\n                        <span class="left-title">乘机人信息</span><img class="getPsInfo" src="https://cos.uair.cn/mb/img/botom.png" alt="">\r\n                    </p>\r\n                    <div class="Opasengerdata-d"></div>\r\n                </div>                \r\n                <div class="orderdpacantact">\r\n                    <p class="orderdlooktext-pw">\r\n                        <span class="left-title">联系人信息</span><img class="getlinkInfo" src="https://cos.uair.cn/mb/img/botom.png" alt="">\r\n                    </p>\r\n                    <div class="Ocantactdata-d">\r\n                         <ul class="Ocantactdata-d-ul">\r\n                            <li><span class="Ocantactdata-d-sp1">姓名</span><span class="Ocantactdata-d-cname"></span></li>\r\n                            <li><span class="Ocantactdata-d-sp1">手机号码</span><span class="Ocantactdata-d-cphone"></span></li>\r\n                         </ul>\r\n                    </div>\r\n                </div>               \r\n                <div class="Orderdlinkadd">\r\n                    <p class="orderdlooktext-pw">\r\n                        <span class="left-title">行程单</span><img class="getProInfo" src="https://cos.uair.cn/mb/img/botom.png" alt="">\r\n                    </p>\r\n                    <div class="Orderdlinkadd-box clear">\r\n                        <p class="Orderdlinkadd-boxp1">配送地址</p><p class="Orderdlinkadd-boxp2"></p>\r\n                    </div>\r\n                </div> \r\n\r\n                <!-- 改期or退票 start-->\r\n                <div class="gaiqiInfo">\r\n                  <div class="gaiqiLists">\r\n                    <p class="oldInfolist">退改期历史信息</p>\r\n                    <ul class="gaiqilist-ul">\r\n\r\n                    </ul>\r\n                  </div>\r\n                  <div class="gaiqiTips">\r\n                    <p class="gaiqiSeller"><img src="https://cos.uair.cn/mb/img/tip-icon.png" alt="">温馨提示</p>\r\n                    <p class="gaiqiTipInfo">\r\n                        在提交前请务必先与卖家联系，退改签相关费用！\r\n                    </p>\r\n                    <p class="gaiqitipps">\r\n                        <img src="https://cos.uair.cn/mb/img/call.png" alt="">\r\n                        <span>客服电话：<a href="" class="kefuTel"></a></span>\r\n                        <span class="dirflight"></span>\r\n                    </p>\r\n                    <p class="gaiqitipps cumTel">\r\n                        <img src="https://cos.uair.cn/mb/img/call.png" alt="">\r\n                        <span>投诉电话：<a href="" class="tousuTel"></a></span>\r\n                    </p>\r\n                  </div>\r\n                  <div class="gaiqiRefund">\r\n                      <p class="refundTip">\r\n                          请选择退票意愿                         \r\n                      </p>\r\n                      <div class="refundInfo">\r\n                            <div class="refund-self" choiced="2">\r\n                                <div>\r\n                                    <img src="https://cos.uair.cn/mb/img/choice-blue.png">\r\n                                    <span>自愿退票:</span>\r\n                                </div>\r\n                                旅客由于本人原因，在客票有效期内不能完成部分或全部航程，而要求办理退票手续，航空公司将收取退票手续费。\r\n                            </div>\r\n                            <div class="refund-other" choiced="1">\r\n                                <div>\r\n                                   <img src="https://cos.uair.cn/mb/img/choice-black.png">\r\n                                   <span>非自愿退票:</span>\r\n                                </div>\r\n                                由于航空公司原因或其他不可抗力因素，不能正常承运旅客，旅客要求办理退票手续，航空公司免收退票手续费。\r\n                            </div>\r\n                      </div>\r\n                  </div>\r\n                  <div class="gaiqiPeopel">\r\n                    <p class="gaiqipTips">选择退改签乘机人</p>\r\n                    <div class="gaiqiBoxQu">\r\n                      <ul class="myBook-nameull peopleList">\r\n                       <!-- <li class="myBook-namel gaiqiBox" choiced="">\r\n                           <div class="gaiqiImag">\r\n                             <img src="img/choice-black.png" alt="">\r\n                           </div>\r\n                           <p class="myBook-namelp1">\r\n                             <span class="namelp1sp1">艾艳青(成人)</span>\r\n                           </p>\r\n                           <p class="myBook-namelp1">\r\n                             <span class="namelp1sp3">身份证</span>\r\n                             <span class="namelp1sp4">411322198708301035</span>\r\n                           </p>\r\n                       </li>\r\n                       <li class="myBook-namel gaiqiBox" choiced="">\r\n                           <div class="gaiqiImag">\r\n                             <img src="img/choice-black.png" alt="">\r\n                           </div>\r\n                           <p class="myBook-namelp1">\r\n                             <span class="namelp1sp1">艾艳青(成人)</span>\r\n                           </p>\r\n                           <p class="myBook-namelp1">\r\n                             <span class="namelp1sp3">身份证</span>\r\n                             <span class="namelp1sp4">411322198708301035</span>\r\n                           </p>\r\n                       </li> -->\r\n                     </ul>\r\n                    </div>\r\n                    <div class="gaiqiReason">\r\n                        <p class="gaiqititle"></p>\r\n                        <textarea  class="gaiqiReasonInfo" name="" id="" cols="30" rows="10">\r\n                            \r\n                        </textarea>\r\n                    </div>\r\n                  </div>\r\n                  <div class="gaiqidirtip">\r\n                      请直接联系航司进行相关操作\r\n                    </div>\r\n                </div>\r\n                <!-- 改期or退票 end-->\r\n                <div class="contact_sv" >\r\n                    <p class="contact_svtext">\r\n                        <span class="left-title">常见问题</span><img class="contact_im" src="https://cos.uair.cn/mb/img/botom.png" alt="">\r\n                    </p>\r\n                    <ul class="orderd_nop"></ul>\r\n\r\n                </div>\r\n            </div>                                             \r\n        </div>\r\n    </div>\r\n    <div class="Oallprice-d">\r\n       <span class="Oallprice1-d"><em class="Oallprice1-d-total-w">总额</em><em class="Oallprice1-d-m-icon">￥</em><span  class="Oallprice11-d"></span></span>\r\n       <button class="gaiqiBtn"></button>\r\n    </div>      \r\n</div>\r\n'}]);